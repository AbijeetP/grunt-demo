!function(a){a.jqx=a.jqx||{},a.jqx.define=function(a,b,c){a[b]=function(){this.baseType&&(this.base=new a[this.baseType],this.base.defineInstance()),this.defineInstance()},a[b].prototype.defineInstance=function(){},a[b].prototype.base=null,a[b].prototype.baseType=void 0,c&&a[c]&&(a[b].prototype.baseType=c)},a.jqx.invoke=function(b,c){if(0!=c.length){for(var d=typeof c==Array||c.length>0?c[0]:c,e=typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):a({}).toArray();void 0==b[d]&&null!=b.base;){if(void 0!=b[d]&&a.isFunction(b[d]))return b[d].apply(b,e);if("string"==typeof d){var f=d.toLowerCase();if(void 0!=b[f]&&a.isFunction(b[f]))return b[f].apply(b,e)}b=b.base}if(void 0!=b[d]&&a.isFunction(b[d]))return b[d].apply(b,e);if("string"==typeof d){var f=d.toLowerCase();if(void 0!=b[f]&&a.isFunction(b[f]))return b[f].apply(b,e)}}},a.jqx.hasProperty=function(a,b){if("object"==typeof b)for(var c in b){for(var d=a;d;){if(d.hasOwnProperty(c))return!0;if(d.hasOwnProperty(c.toLowerCase()))return!0;d=d.base}return!1}else for(;a;){if(a.hasOwnProperty(b))return!0;if(a.hasOwnProperty(b.toLowerCase()))return!0;a=a.base}return!1},a.jqx.hasFunction=function(b,c){if(0==c.length)return!1;if(void 0==b)return!1;var d=typeof c==Array||c.length>0?c[0]:c;for(typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):{};void 0==b[d]&&null!=b.base;){if(b[d]&&a.isFunction(b[d]))return!0;if("string"==typeof d){var e=d.toLowerCase();if(b[e]&&a.isFunction(b[e]))return!0}b=b.base}if(b[d]&&a.isFunction(b[d]))return!0;if("string"==typeof d){var e=d.toLowerCase();if(b[e]&&a.isFunction(b[e]))return!0}return!1},a.jqx.isPropertySetter=function(b,c){return 1==c.length&&"object"==typeof c[0]?!0:2!=c.length||"string"!=typeof c[0]||a.jqx.hasFunction(b,c)?!1:!0},a.jqx.validatePropertySetter=function(b,c,d){if(!a.jqx.propertySetterValidation)return!0;if(1==c.length&&"object"==typeof c[0]){for(var e in c[0]){for(var f=b;!f.hasOwnProperty(e)&&f.base;)f=f.base;if(!f||!f.hasOwnProperty(e)){if(!d){var g=f.hasOwnProperty(e.toString().toLowerCase());if(g)return!0;throw"Invalid property: "+e}return!1}}return!0}if(2!=c.length){if(!d)throw"Invalid property: "+c.length>=0?c[0]:"";return!1}for(;!b.hasOwnProperty(c[0])&&b.base;)b=b.base;if(!b||!b.hasOwnProperty(c[0])){if(!d)throw"Invalid property: "+c[0];return!1}return!0},a.jqx.set=function(b,c){if(1==c.length&&"object"==typeof c[0])a.each(c[0],function(c,d){for(var e=b;!e.hasOwnProperty(c)&&null!=e.base;)e=e.base;if(e.hasOwnProperty(c))a.jqx.setvalueraiseevent(e,c,d);else if(e.hasOwnProperty(c.toLowerCase()))a.jqx.setvalueraiseevent(e,c.toLowerCase(),d);else if(a.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+c+"'"});else if(2==c.length){for(;!b.hasOwnProperty(c[0])&&b.base;)b=b.base;if(b.hasOwnProperty(c[0]))a.jqx.setvalueraiseevent(b,c[0],c[1]);else if(b.hasOwnProperty(c[0].toLowerCase()))a.jqx.setvalueraiseevent(b,c[0].toLowerCase(),c[1]);else if(a.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+c[0]+"'"}},a.jqx.setvalueraiseevent=function(a,b,c){var d=a[b];a[b]=c,a.isInitialized&&(void 0!=a.propertyChangedHandler&&a.propertyChangedHandler(a,b,d,c),void 0!=a.propertyChangeMap&&void 0!=a.propertyChangeMap[b]&&a.propertyChangeMap[b](a,b,d,c))},a.jqx.get=function(a,b){if(void 0==b||null==b)return void 0;if(a.propertyMap){var c=a.propertyMap(b);if(null!=c)return c}if(a.hasOwnProperty(b))return a[b];if(a.hasOwnProperty(b.toLowerCase()))return a[b.toLowerCase()];var d=void 0;if(typeof b==Array){if(1!=b.length)return void 0;d=b[0]}else"string"==typeof b&&(d=b);for(;!a.hasOwnProperty(d)&&a.base;)a=a.base;return a?a[d]:void 0},a.jqx.serialize=function(b){var c="";if(a.isArray(b)){c="[";for(var d=0;d<b.length;d++)d>0&&(c+=", "),c+=a.jqx.serialize(b[d]);c+="]"}else if("object"==typeof b){c="{";var e=0;for(var d in b)e++>0&&(c+=", "),c+=d+": "+a.jqx.serialize(b[d]);c+="}"}else c=b.toString();return c},a.jqx.propertySetterValidation=!0,a.jqx.jqxWidgetProxy=function(b,c,d){var e=(a(c),a.data(c,b));if(void 0==e)return void 0;var f=e.instance;if(a.jqx.hasFunction(f,d))return a.jqx.invoke(f,d);if(a.jqx.isPropertySetter(f,d)){if(a.jqx.validatePropertySetter(f,d))return void a.jqx.set(f,d)}else{if("object"==typeof d&&0==d.length)return;if("object"==typeof d&&1==d.length&&a.jqx.hasProperty(f,d[0]))return a.jqx.get(f,d[0]);if("string"==typeof d&&a.jqx.hasProperty(f,d[0]))return a.jqx.get(f,d)}throw"jqxCore: Invalid parameter '"+a.jqx.serialize(d)+"' does not exist."},a.jqx.applyWidget=function(b,c,d,e){var f=!1;try{f=void 0!=window.MSApp}catch(g){}var h=a(b);e?(e.host=h,e.element=b):e=new a.jqx["_"+c],""==b.id&&(b.id=a.jqx.utilities.createId());var i={host:h,element:b,instance:e};e.widgetName=c,a.data(b,c,i),a.data(b,"jqxWidget",i.instance);for(var j=new Array,e=i.instance;e;)e.isInitialized=!1,j.push(e),e=e.base;j.reverse(),j[0].theme=a.jqx.theme||"",a.jqx.jqxWidgetProxy(c,b,d);for(var k in j)e=j[k],0==k&&(e.host=h,e.element=b,e.WinJS=f),void 0!=e&&null!=e.createInstance&&(f?MSApp.execUnsafeLocalFunction(function(){e.createInstance(d)}):(d&&d[0],e.createInstance(d)));for(var k in j)void 0!=j[k]&&(j[k].isInitialized=!0);f?MSApp.execUnsafeLocalFunction(function(){i.instance.refresh(!0)}):i.instance.refresh(!0)},a.jqx.jqxWidget=function(b,c,d){var e=!1;try{jqxArgs=Array.prototype.slice.call(d,0)}catch(f){jqxArgs=""}try{e=void 0!=window.MSApp}catch(f){}var g=b,h="";c&&(h="_"+c),a.jqx.define(a.jqx,"_"+g,h),a.fn[g]=function(){var b=Array.prototype.slice.call(arguments,0);if(0==b.length||1==b.length&&"object"==typeof b[0]){if(0==this.length)throw new Error(this.selector?"Invalid jQuery Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.":"Invalid jQuery Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var c=(a(this),this),d=a.data(c,g);null==d?a.jqx.applyWidget(c,g,b,void 0):a.jqx.jqxWidgetProxy(g,this,b)})}if(0==this.length)throw new Error(this.selector?"Invalid jQuery Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.":"Invalid jQuery Selector! Please, check whether the used ID or CSS Class name is correct.");var c=null,d=0;return this.each(function(){var e=a.jqx.jqxWidgetProxy(g,this,b);if(0==d)c=e,d++;else{if(1==d){var f=[];f.push(c),c=f}c.push(e)}}),c};try{a.extend(a.jqx["_"+g].prototype,Array.prototype.slice.call(d,0)[0])}catch(f){}a.extend(a.jqx["_"+g].prototype,{toThemeProperty:function(a,b){return""==this.theme?a:null!=b&&b?a+"-"+this.theme:a+" "+a+"-"+this.theme}}),a.jqx["_"+g].prototype.refresh=function(){this.base&&this.base.refresh(!0)},a.jqx["_"+g].prototype.createInstance=function(){},a.jqx["_"+g].prototype.applyTo=function(b,c){if(!(c instanceof Array)){var d=[];d.push(c),c=d}a.jqx.applyWidget(b,g,c,this)},a.jqx["_"+g].prototype.getInstance=function(){return this},a.jqx["_"+g].prototype.propertyChangeMap={},a.jqx["_"+g].prototype.addHandler=function(b,c,d,e){switch(c){case"mousewheel":if(window.addEventListener)return a.jqx.browser.mozilla?b[0].addEventListener("DOMMouseScroll",d,!1):b[0].addEventListener("mousewheel",d,!1),!1;break;case"mousemove":if(window.addEventListener&&!e)return b[0].addEventListener("mousemove",d,!1),!1}void 0==e||null==e?b.on?b.on(c,d):b.bind(c,d):b.on?b.on(c,e,d):b.bind(c,e,d)},a.jqx["_"+g].prototype.removeHandler=function(b,c,d){switch(c){case"mousewheel":if(window.removeEventListener)return a.jqx.browser.mozilla?b[0].removeEventListener("DOMMouseScroll",d,!1):b[0].removeEventListener("mousewheel",d,!1),!1;break;case"mousemove":d&&window.removeEventListener&&b[0].removeEventListener("mousemove",d,!1)}return void 0==c?void(b.off?b.off():b.unbind()):void(void 0==d?b.off?b.off(c):b.unbind(c):b.off?b.off(c,d):b.unbind(c,d))}},a.jqx.theme=a.jqx.theme||"",a.jqx.ready=function(){a(window).trigger("jqxReady")},a.jqx.init=function(){a.each(arguments[0],function(b,c){"theme"==b&&(a.jqx.theme=c),"scrollBarSize"==b&&(a.jqx.utilities.scrollBarSize=c),"touchScrollBarSize"==b&&(a.jqx.utilities.touchScrollBarSize=c),"scrollBarButtonsVisibility"==b&&(a.jqx.utilities.scrollBarButtonsVisibility=c)})},a.jqx.utilities=a.jqx.utilities||{},a.extend(a.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+a()+a()},setTheme:function(b,c,d){if("undefined"!=typeof d){for(var e=d[0].className.split(" "),f=[],g=[],h=d.children(),i=0;i<e.length;i+=1)e[i].indexOf(b)>=0&&(b.length>0?(f.push(e[i]),g.push(e[i].replace(b,c))):g.push(e[i]+"-"+c));this._removeOldClasses(f,d),this._addNewClasses(g,d);for(var i=0;i<h.length;i+=1)this.setTheme(b,c,a(h[i]))}},_removeOldClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.removeClass(a[c])},_addNewClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.addClass(a[c])},getOffset:function(b){var c=a.jqx.mobile.getLeftPos(b[0]),d=a.jqx.mobile.getTopPos(b[0]);return{top:d,left:c}},resize:function(b,c,d,e){void 0===e&&(e=!0);var f=-1,g=this,h=function(a){if(!g.hiddenWidgets)return-1;for(var b=-1,c=0;c<g.hiddenWidgets.length;c++)if(a.id){if(g.hiddenWidgets[c].id==a.id){b=c;break}}else if(g.hiddenWidgets[c].id==a[0].id){b=c;break}return b};if(this.resizeHandlers){for(var i=0;i<this.resizeHandlers.length;i++)if(b.id){if(this.resizeHandlers[i].id==b.id){f=i;break}}else if(this.resizeHandlers[i].id==b[0].id){f=i;break}if(d===!0){if(-1!=f&&this.resizeHandlers.splice(f,1),0==this.resizeHandlers.length){var j=a(window);j.off?(j.off("resize.jqx"),j.off("orientationchange.jqx"),j.off("orientationchanged.jqx")):(j.unbind("resize.jqx"),j.unbind("orientationchange.jqx"),j.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var k=h(b);return void(-1!=k&&this.hiddenWidgets&&this.hiddenWidgets.splice(k,1))}}else if(d===!0){var k=h(b);return void(-1!=k&&this.hiddenWidgets&&this.hiddenWidgets.splice(k,1))}var g=this,l=function(b,c){if(g.resizeHandlers){var d=function(a){for(var b=-1,c=a.parentNode;c;)b++,c=c.parentNode;return b},e=function(a,b){if(!a.widget||!b.widget)return 0;var c=d(a.widget[0]),e=d(b.widget[0]);try{if(e>c)return-1;if(c>e)return 1}catch(f){}return 0};g.hiddenWidgets=new Array,g.resizeHandlers.sort(e);for(var f=0;f<g.resizeHandlers.length;f++){var i=g.resizeHandlers[f],j=i.widget,k=i.data;if(k&&k.jqxWidget){var l=k.jqxWidget.width,m=k.jqxWidget.height;k.jqxWidget.base&&(void 0==l&&(l=k.jqxWidget.base.width),void 0==m&&(m=k.jqxWidget.base.height));var n=!1;null!=l&&-1!=l.toString().indexOf("%")&&(n=!0),null!=m&&-1!=m.toString().indexOf("%")&&(n=!0),a.jqx.isHidden(j)?-1===h(j)&&(n||b===!0)&&i.data.nestedWidget!==!0&&g.hiddenWidgets.push(i):(void 0===b||b!==!0)&&n&&(i.callback(c),g.hiddenWidgets.indexOf(i)>=0&&g.hiddenWidgets.splice(g.hiddenWidgets.indexOf(i),1))}}g.hiddenWidgets.length>0&&(g.hiddenWidgets.sort(e),g.__resizeInterval&&clearInterval(g.__resizeInterval),g.__resizeInterval=setInterval(function(){for(var b=!1,d=new Array,e=0;e<g.hiddenWidgets.length;e++){var f=g.hiddenWidgets[e];a.jqx.isHidden(f.widget)?(b=!0,d.push(f)):f.callback&&f.callback(c)}g.hiddenWidgets=d,b||clearInterval(g.__resizeInterval)},100))}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var j=a(window);j.on?(this._resizeTimer=null,j.on("resize.jqx",function(){void 0!=g._resizeTimer&&clearTimeout(g._resizeTimer),g._resizeTimer=setTimeout(function(){l(null,"resize")},10)}),j.on("orientationchange.jqx",function(){l(null,"orientationchange")}),j.on("orientationchanged.jqx",function(){l(null,"orientationchange")})):(j.bind("resize.jqx",function(){l(null,"orientationchange")}),j.bind("orientationchange.jqx",function(){l(null,"orientationchange")}),j.bind("orientationchanged.jqx",function(){l(null,"orientationchange")}))}e&&-1===f&&this.resizeHandlers.push({id:b[0].id,widget:b,callback:c,data:b.data()}),a.jqx.isHidden(b)&&e===!0&&l(!0)},html:function(b,c){if(!a(b).on)return a(b).html(c);try{return jQuery.access(b,function(a){var c=b[0]||{},d=0,e=b.length;if(void 0===a)return 1===c.nodeType?c.innerHTML.replace(rinlinejQuery,""):void 0;var f=/<(?:script|style|link)/i,g="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",h=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,i=/<([\w:]+)/,j=new RegExp("<(?:"+g+")[\\s/>]","i"),k=/^\s+/,l={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if(!("string"!=typeof a||f.test(a)||!jQuery.support.htmlSerialize&&j.test(a)||!jQuery.support.leadingWhitespace&&k.test(a)||l[(i.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(h,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(jQuery.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(m){}}c&&b.empty().append(a)},null,c,arguments.length)}catch(d){return a(b).html(c)}},hasTransform:function(b){var c="";if(c=b.css("transform"),""==c||"none"==c){if(c=b.parents().css("transform"),""!=c&&"none"!=c)return""!=c&&"none"!=c;var d=a.jqx.utilities.getBrowser();"msie"==d.browser?(c=b.css("-ms-transform"),(""==c||"none"==c)&&(c=b.parents().css("-ms-transform"))):"chrome"==d.browser?(c=b.css("-webkit-transform"),(""==c||"none"==c)&&(c=b.parents().css("-webkit-transform"))):"opera"==d.browser?(c=b.css("-o-transform"),(""==c||"none"==c)&&(c=b.parents().css("-o-transform"))):"mozilla"==d.browser&&(c=b.css("-moz-transform"),(""==c||"none"==c)&&(c=b.parents().css("-moz-transform")))}return(""==c||"none"==c)&&(c=a(document.body).css("transform")),""!=c&&"none"!=c&&null!=c},getBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c={browser:b[1]||"",version:b[2]||"0"};return a.indexOf("rv:11.0")>=0&&a.indexOf(".net4.0c")>=0&&(c.browser="msie",c.version="11",b[1]="msie"),c[b[1]]=b[1],c}}),a.jqx.browser=a.jqx.utilities.getBrowser(),a.jqx.isHidden=function(a){try{var b=a[0].offsetWidth,c=a[0].offsetHeight;return 0===b||0===c?!0:!1}catch(d){return!1}},a.jqx.ariaEnabled=!0,a.jqx.aria=function(b,c,d){if(a.jqx.ariaEnabled)if(void 0==c)a.each(b.aria,function(c,d){var e=b.base?b.base.host.attr(c):b.host.attr(c);if(void 0==e||a.isFunction(e)){var e=b[d.name];a.isFunction(e)&&(e=b[d.name]()),void 0==e&&(e="");try{b.base?b.base.host.attr(c,e.toString()):b.host.attr(c,e.toString())}catch(f){}}else{var g=e;switch(d.type){case"number":g=new Number(e),isNaN(g)&&(g=e);break;case"boolean":g="true"==e?!0:!1;break;case"date":g=new Date(e),("Invalid Date"==g||isNaN(g))&&(g=e)}b[d.name]=g}});else try{b.host?b.base?b.base.host?b.base.host.attr(c,d.toString()):b.attr(c,d.toString()):b.host?b.element.setAttribute?b.element.setAttribute(c,d.toString()):b.host.attr(c,d.toString()):b.attr(c,d.toString()):b.setAttribute&&b.setAttribute(c,d.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),a.jqx.mobile=a.jqx.mobile||{},a.jqx.position=function(b){var c=parseInt(b.pageX),d=parseInt(b.pageY);if(a.jqx.mobile.isTouchDevice()){var e=a.jqx.mobile.getTouches(b),f=e[0];c=parseInt(f.pageX),d=parseInt(f.pageY)}return{left:c,top:d}},a.extend(a.jqx.mobile,{_touchListener:function(a){var b=function(a,b){var c=document.createEvent("MouseEvents");return c.initMouseEvent(a,b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),c._pageX=b.pageX,c._pageY=b.pageY,c},c={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},d=b(c[a.type],a);a.target.dispatchEvent(d);var e=a.target["on"+c[a.type]];"function"==typeof e&&e(a)},setMobileSimulator:function(b,c){if(!this.isTouchDevice()){this.simulatetouches=!0,0==c&&(this.simulatetouches=!1);var d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},e=this;if(window.addEventListener){var f=function(){for(var a in d)b.addEventListener&&(b.removeEventListener(a,e._touchListener),b.addEventListener(a,e._touchListener,!1))};a.jqx.browser.msie,f()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var a="Browser CodeName: "+navigator.appCodeName;if(a+="Browser Name: "+navigator.appName,a+="Browser Version: "+navigator.appVersion,a+="Platform: "+navigator.platform,a+="User-agent header: "+navigator.userAgent,-1!=a.indexOf("Android"))return!0;if(-1!=a.indexOf("IEMobile"))return!0;if(-1!=a.indexOf("Windows Phone"))return!0;if(-1!=a.indexOf("WPDesktop"))return!0;if(-1!=a.indexOf("ZuneWP7"))return!0;if(-1!=a.indexOf("BlackBerry")&&-1!=a.indexOf("Mobile Safari"))return!0;if(-1!=a.indexOf("ipod"))return!0;if(-1!=a.indexOf("nokia")||-1!=a.indexOf("Nokia"))return!0;if(-1!=a.indexOf("Chrome/17"))return!1;if(-1!=a.indexOf("CrOS"))return!1;if(-1!=a.indexOf("Opera")&&-1==a.indexOf("Mobi")&&-1==a.indexOf("Mini")&&-1!=a.indexOf("Platform: Win"))return!1;if(-1!=a.indexOf("Opera")&&-1!=a.indexOf("Mobi")&&-1!=a.indexOf("Opera Mobi"))return!0;var b={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in b)if(b.hasOwnProperty(i)&&(prefix=b[i],match=a.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(navigator.userAgent.indexOf("Touch")>=0){var c="MSPointerDown"in window||"pointerdown"in window;return c?(this.touchDevice=!0,!0):navigator.userAgent.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(d){return this.touchDevice=!1,!1}},getLeftPos:function(a){for(var b=a.offsetLeft;null!=(a=a.offsetParent);)"HTML"!=a.tagName&&(b+=a.offsetLeft,document.all&&(b+=a.clientLeft));return b},getTopPos:function(b){for(var c=b.offsetTop,d=a(b).coord();null!=(b=b.offsetParent);)"HTML"!=b.tagName&&(c+=b.offsetTop-b.scrollTop,document.all&&(c+=b.clientTop));var e=navigator.userAgent.toLowerCase(),f=(-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10"))&&-1!=e.indexOf("touch");if(f)return d.top;if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser())return c;if(-1!=e.indexOf("version/7"))return d.top;c+=a(window).scrollTop()}return c},isChromeMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("android");return b},isOperaMiniMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini")||-1!=a.indexOf("opera mobi");return b},isOperaMiniBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini");return b},isNewSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/5")},isSafari4MobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/4")},isWindowsPhone:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("windows phone")||-1!=a.indexOf("WPDesktop")||-1!=a.indexOf("ZuneWP7")||-1!=a.indexOf("msie 9")||-1!=a.indexOf("msie 11")||-1!=a.indexOf("msie 10");return b},isSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b},isIPadSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad");return b},isMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("android");return b},getTouches:function(a){if(a.originalEvent){if(a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches;if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.changedTouches}return a.touches||(a.touches=new Array,a.touches[0]=void 0!=a.originalEvent?a.originalEvent:a,void 0!=a.originalEvent&&a.pageX&&(a.touches[0]=a),"mousemove"==a.type&&(a.touches[0]=a)),a.touches},getTouchEventName:function(a){if(!this.isWindowsPhone())return a;var b=navigator.userAgent.toLowerCase();if(-1!=b.indexOf("windows phone 8.1")){if(-1!=a.toLowerCase().indexOf("start"))return"pointerdown";if(-1!=a.toLowerCase().indexOf("move"))return"pointermove";if(-1!=a.toLowerCase().indexOf("end"))return"pointerup"}return-1!=a.toLowerCase().indexOf("start")?"MSPointerDown":-1!=a.toLowerCase().indexOf("move")?"MSPointerMove":-1!=a.toLowerCase().indexOf("end")?"MSPointerUp":void 0},dispatchMouseEvent:function(a,b,c){if(!this.simulatetouches){var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,b.view,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),null!=c&&c.dispatchEvent(d)}},getRootNode:function(a){for(;1!==a.nodeType;)a=a.parentNode;return a},setTouchScroll:function(a,b){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[b]=a},touchScroll:function(b,c,d,e,f,g){if(null!=b){var h=this,i=0,j=0,k=0,l=0,m=0,n=0;this.scrolling||(this.scrolling=[]),this.scrolling[e]=!1;var o=!1,p=a(b),q=["select","input","textarea"],r=0,s=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[e]=!0;var e=e,t=this.getTouchEventName("touchstart")+".touchScroll",u=this.getTouchEventName("touchend")+".touchScroll",v=this.getTouchEventName("touchmove")+".touchScroll",r=function(b){if(!h.enableScrolling[e])return!0;if(-1===a.inArray(b.target.tagName.toLowerCase(),q)){var c=h.getTouches(b),d=c[0];return 1==c.length&&h.dispatchMouseEvent("mousedown",d,h.getRootNode(d.target)),o=!1,j=d.pageY,m=d.pageX,h.simulatetouches&&(j=d._pageY,m=d._pageX),h.scrolling[e]=!0,i=0,l=0,!0}};p.on?p.on(t,r):p.bind(t,r);var w=function(a){if(!h.enableScrolling[e])return!0;if(!h.scrolling[e])return!0;var b=h.getTouches(a);if(b.length>1)return!0;var c=b[0].pageY,p=b[0].pageX;h.simulatetouches&&(c=b[0]._pageY,p=b[0]._pageX);var q=c-j,r=p-m;s=c,touchHorizontalEnd=p,k=q-i,n=r-l,o=!0,i=q,l=r;var t=null!=f?"hidden"!=f[0].style.visibility:!0,u=null!=g?"hidden"!=g[0].style.visibility:!0;return(t||u)&&(0!==n&&t||0!==k&&u)?(d(1*-n,1*-k,r,q,a),a.preventDefault(),a.stopPropagation(),a.preventManipulation&&a.preventManipulation(),!1):void 0};if(p.on?p.on(v,w):p.bind(v,w),this.simulatetouches){var x=(void 0!=a(window).on||a(window).bind,function(){h.scrolling[e]=!1});if(void 0!=a(window).on?a(document).on("mouseup.touchScroll",x):a(document).bind("mouseup.touchScroll",x),window.frameElement&&null!=window.top){var y=function(){h.scrolling[e]=!1};window.top.document&&(a(window.top.document).on?a(window.top.document).on("mouseup",y):a(window.top.document).bind("mouseup",y))}var z=(void 0!=a(document).on||a(document).bind,function(a){if(!h.scrolling[e])return!0;h.scrolling[e]=!1;var b=h.getTouches(a)[0],c=h.getRootNode(b.target);h.dispatchMouseEvent("mouseup",b,c),h.dispatchMouseEvent("click",b,c)});void 0!=a(document).on?a(document).on("touchend",z):a(document).bind("touchend",z)}var A=function(a){if(!h.enableScrolling[e])return!0;var b=h.getTouches(a)[0];if(!h.scrolling[e])return!0;if(h.scrolling[e]=!1,!o){var b=h.getTouches(a)[0],c=h.getRootNode(b.target);return h.dispatchMouseEvent("mouseup",b,c),h.dispatchMouseEvent("click",b,c),!0}h.dispatchMouseEvent("mouseup",b,c)};p.on&&(p.on("dragstart",function(a){a.preventDefault()}),p.on("selectstart",function(a){a.preventDefault()})),p.on?p.on(u+" touchcancel.touchScroll",A):p.bind(u+" touchcancel.touchScroll",A)}}}),a.jqx.cookie=a.jqx.cookie||{},a.extend(a.jqx.cookie,{cookie:function(a,b,c){if(arguments.length>1&&"[object Object]"!==String(b)){if(c=jQuery.extend({},c),(null===b||void 0===b)&&(c.expires=-1),"number"==typeof c.expires){var d=c.expires,e=c.expires=new Date;e.setDate(e.getDate()+d)}return b=String(b),document.cookie=[encodeURIComponent(a),"=",c.raw?b:encodeURIComponent(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};var f,g=c.raw?function(a){return a}:decodeURIComponent;return(f=new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?g(f[1]):null}}),a.jqx.string=a.jqx.string||{},a.extend(a.jqx.string,{replace:function(a,b,c){if(b===c)return this;for(var d=a,e=d.indexOf(b);-1!=e;)d=d.replace(b,c),e=d.indexOf(b);return d},contains:function(a,b){return null==a||null==b?!1:-1!=a.indexOf(b)},containsIgnoreCase:function(a,b){return null==a||null==b?!1:-1!=a.toUpperCase().indexOf(b.toUpperCase())},equals:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.slice(0,b.length)==b:!1)},equalsIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.toUpperCase().slice(0,b.length)==b.toUpperCase():!1)},startsWith:function(a,b){return null==a||null==b?!1:a.slice(0,b.length)==b},startsWithIgnoreCase:function(a,b){return null==a||null==b?!1:a.toUpperCase().slice(0,b.length)==b.toUpperCase()},normalize:function(a){return 65279==a.charCodeAt(a.length-1)&&(a=a.substring(0,a.length-1)),a},endsWith:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.slice(-b.length)==b)},endsWithIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.toUpperCase().slice(-b.length)==b.toUpperCase())}}),a.extend(jQuery.easing,{easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c}})}(jQuery),function(a){a.extend(jQuery.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),a.fn.extend({ischildof:function(b){for(var c=a(this).parents().get(),d=0;d<c.length;d++)if("string"!=typeof b){var e=c[d];if(void 0!==b&&e==b[0])return!0}else if(void 0!==b&&a(c[d]).is(b))return!0;return!1}}),a.fn.jqxProxy=function(){var b=a(this).data().jqxWidget,c=Array.prototype.slice.call(arguments,0);return a.jqx.jqxWidgetProxy(b.widgetName,b.element,c)};var b=this.originalVal=a.fn.val;a.fn.val=function(c){if("undefined"==typeof c){if(a(this).hasClass("jqx-widget")){var d=a(this).data().jqxWidget;if(d&&d.val)return d.val()}return b.call(this)}if(a(this).hasClass("jqx-widget")){var d=a(this).data().jqxWidget;if(d&&d.val)return 2!=arguments.length?d.val(c):d.val(c,arguments[1])}return b.call(this,c)},a.fn.coord=function(b){var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g){if(c=g.documentElement,!jQuery.contains(c,f))return e;void 0!==typeof f.getBoundingClientRect&&(e=f.getBoundingClientRect());var h=function(a){return jQuery.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1};d=h(g);var i=0,j=0,k=navigator.userAgent.toLowerCase(),l=-1!=k.indexOf("ipad")||-1!=k.indexOf("iphone");if(l&&(i=2),1==b&&"static"!=a(document.body).css("position")){var m=a(document.body).coord();i=-m.left,j=-m.top}return{top:j+e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:i+e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}}}(jQuery),function(a){function b(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(s),h=0,i=g.length;if(jQuery.isFunction(c))for(;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function c(a,b,d,e,f,g){f=f||b.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===t;k>j&&(l||!h);j++)h=i[j](b,d,e),"string"==typeof h&&(!l||g[h]?h=void 0:(b.dataTypes.unshift(h),h=c(a,b,d,e,h,g)));return!l&&h||g["*"]||(h=c(a,b,d,e,"*",g)),h}function d(b,c){var d,e,f=a.jqx.data.ajaxSettings.flatOptions||{};for(d in c)void 0!==c[d]&&((f[d]?b:e||(e={}))[d]=c[d]);e&&jQuery.extend(!0,b,e)}function e(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes,j=a.responseFields;for(e in j)e in c&&(b[j[e]]=c[e]);for(;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("content-type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function f(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function g(){try{return new window.XMLHttpRequest}catch(a){}}function h(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}a.jqx.dataAdapter=function(b,c){if(void 0!=b&&(void 0!==b.dataFields&&(b.datafields=b.dataFields),void 0!==b.dataType&&(b.datatype=b.dataType),void 0!==b.localData&&(b.localdata=b.localData),void 0!==b.sortColumn&&(b.sortcolumn=b.sortColumn),void 0!==b.sortDirection&&(b.sortdirection=b.sortDirection),void 0!==b.sortOrder&&(b.sortdirection=b.sortOrder),void 0!==b.formatData&&(b.formatdata=b.formatData),void 0!==b.processData&&(b.processdata=b.processData),void 0!==b.pageSize&&(b.pagesize=b.pageSize),void 0!==b.pageNum&&(b.pagenum=b.pageNum),void 0!==b.updateRow&&(b.updaterow=b.updateRow),void 0!==b.addRow&&(b.addrow=b.addRow),void 0!==b.deleteRow&&(b.deleterow=b.deleteRow),void 0!==b.contentType&&(b.contenttype=b.contentType),void 0!=b.totalRecords&&(b.totalrecords=b.totalRecords),void 0!=b.loadError&&(b.loadError=b.loadError),void 0!=b.sortComparer&&(b.sortcomparer=b.sortComparer)),this._source=b,this._options=c||{},this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=b&&null!=b.localdata&&"function"==typeof b.localdata){var d=b.localdata();if(null!=d){b._localdata=b.localdata;var e=this;b._localdata.subscribe&&(e._oldlocaldata=[],b._localdata.subscribe(function(b){var c=function(b){return jQuery.isArray(b)?jQuery.makeArray(c(a(b))):jQuery.extend(!0,{},b)
};(0==e.suspendKO||void 0==e.suspendKO||0==e._oldlocaldata.length)&&(e._oldlocaldata=c(b))},b._localdata,"beforeChange"),b._localdata.subscribe(function(a){if(0==e.suspendKO||void 0==e.suspendKO){var c="";e._oldrecords=e.records,0==e._oldlocaldata.length&&(b.localdata=b._localdata()),0==e._oldlocaldata.length?c="change":(e._oldlocaldata.length==a.length&&(c="update"),e._oldlocaldata.length>a.length&&(c="remove"),e._oldlocaldata.length<a.length&&(c="add")),e.dataBind(null,c)}},b._localdata,"change"),e._knockoutdatasource=!0),b.localdata=d}}1==this._options.autoBind&&this.dataBind()},a.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(a){this.isUpdating=!1,0!=a&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(b,c,d){var e=a.jqx.dataFormat.formatdate(b,c,d);return e},formatNumber:function(b,c,d){var e=a.jqx.dataFormat.formatnumber(b,c,d);return e},dataBind:function(b,c){if(1!=this.isUpdating){var d=this._source;if(d){a.jqx.dataFormat.datescache=new Array,null!=d.dataFields&&(d.datafields=d.dataFields),void 0==d.recordstartindex&&(d.recordstartindex=0),void 0==d.recordendindex&&(d.recordendindex=0),void 0==d.loadallrecords&&(d.loadallrecords=!0),void 0!=d.sort&&(this.sort=d.sort),this.filter=void 0!=d.filter?d.filter:null,void 0!=d.sortcolumn&&(this.sortcolumn=d.sortcolumn),void 0!=d.sortdirection&&(this.sortdirection=d.sortdirection),void 0!=d.sortcomparer&&(this.sortcomparer=d.sortcomparer),this.records=new Array;var e=this._options||{};if(this.virtualmode=void 0!=e.virtualmode?e.virtualmode:!1,this.totalrecords=void 0!=e.totalrecords?e.totalrecords:0,this.pageable=void 0!=e.pageable?e.pageable:!1,this.pagesize=void 0!=e.pagesize?e.pagesize:0,this.pagenum=void 0!=e.pagenum?e.pagenum:0,this.cachedrecords=void 0!=e.cachedrecords?e.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=e.updaterow?e.updaterow:null,this.addrow=void 0!=e.addrow?e.addrow:null,this.deleterow=void 0!=e.deleterow?e.deleterow:null,this.cache=void 0!=e.cache?e.cache:!1,this.unboundmode=!1,void 0!=d.formatdata&&(e.formatData=d.formatdata),void 0!=d.data&&(void 0==e.data&&(e.data={}),a.extend(e.data,d.data)),this.mapChar=void 0!=d.mapchar?d.mapchar?d.mapchar:">":e.mapChar?e.mapChar:">",(e.unboundmode||d.unboundmode)&&(this.unboundmode=e.unboundmode||d.unboundmode),void 0!=d.cache&&(this.cache=d.cache),this.koSubscriptions)for(var f=0;f<this.koSubscriptions.length;f++)this.koSubscriptions[f].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var g=this,h=d.datatype;("csv"===d.datatype||"tab"===d.datatype||"tsv"===d.datatype||"text"==d.datatype)&&(h="text");var i=void 0!=e.async?e.async:!0;switch(void 0!=d.async&&(i=d.async),h){case"local":case"array":case"observablearray":default:if(void 0==d.localdata&&d.length){d.localdata=new Array;for(var j=0;j<d.length;j++)d.localdata[d.localdata.length]=d[j],d[j].uid=j}d.beforeprocessing&&a.isFunction(d.beforeprocessing)&&d.beforeprocessing(d.localdata);var k=d.localdata.length;if(this.totalrecords=this.virtualmode?d.totalrecords||k:k,this.unboundmode){this.totalrecords=this.unboundmode?d.totalrecords||k:k;var l=d.datafields?d.datafields.length:0;if(l>0)for(var j=0;j<this.totalrecords;j++){for(var m={},n=0;l>n;n++)m[d.datafields[n].name]="";m.uid=j,d.localdata[d.localdata.length]=m}}void 0==this.totalrecords&&(this.totalrecords=0);var l=d.datafields?d.datafields.length:0,o=function(b,c){for(var e={},f=0;c>f;f++){var h=d.datafields[f],i="";if(void 0!=h&&null!=h){if(h.map){if(a.isFunction(h.map))i=h.map(b);else{var j=h.map.split(g.mapChar);if(j.length>0){for(var k=b,l=0;l<j.length;l++)k&&(k=k[j[l]]);i=k}else i=b[h.map]}void 0!=i&&null!=i?i=i.toString():void 0==i&&null!=i&&(i="")}""==i&&(i=b[h.name],void 0!=i&&null!=i&&(i=d._localdata&&i.subscribe?i():i.toString())),i=g.getvaluebytype(i,h),void 0!=h.displayname?e[h.displayname]=i:e[h.name]=i}}return e};if(d._localdata){this._changedrecords=[],this.records=new Array;var p=d._localdata();if(a.each(p,function(b,e){if("string"==typeof e)g.records.push(e);else{var f={},h=0,i=this;a.each(this,function(c){var e=null,j="string",k=c;if(l>0){for(var m=!1,n=!1,o=0;l>o;o++){var p=d.datafields[o];if(void 0!=p&&p.name==c){m=!0,e=p.map,j=p.type,k=p.name;break}if(void 0!=p&&p.map&&p.map.indexOf(c)>=0){m=!0,e=p.map,j=p.type,k=p.name,n=!0;var q=i[c];if(null!=e){var r=e.split(g.mapChar);if(r.length>0){for(var s=i,t=0;t<r.length;t++)s=s[r[t]];q=s}else q=i[e]}"string"!=j&&(q=g.getvaluebytype(q,{type:j})),f[k]=q,void 0!=f[k]&&(h+=f[k].toString().length+f[k].toString().substr(0,1))}}if(!m)return!0;if(n)return!0}var u=a.isFunction(i[c]);if(u){var q=i[c]();if("string"!=j&&(q=g.getvaluebytype(q,{type:j})),f[c]=q,i[c].subscribe){var v=b;g.koSubscriptions[g.koSubscriptions.length]=i[c].subscribe(function(a){var b=v;f[c]=a;var d={index:b,oldrecord:f,record:f};return g._changedrecords.push(d),g.isUpdating?void 0:(g.callBindingUpdate("update"),g._changedrecords=[],!1)})}}else{var q=i[c];if(null!=e){var r=e.split(g.mapChar);if(r.length>0){for(var s=i,t=0;t<r.length;t++)s=s[r[t]];q=s}else q=i[e]}"string"!=j&&(q=g.getvaluebytype(q,{type:j})),f[k]=q,void 0!=f[k]&&(h+=f[k].toString().length+f[k].toString().substr(0,1))}});var j=g.getid(d.id,i,b);if(f.uid=j,g.records.push(f),f._koindex=h,g._oldrecords){var k=g.records.length-1;if("update"==c&&g._oldrecords[k]._koindex!=h){var m={index:k,oldrecord:g._oldrecords[k],record:f};g._changedrecords.push(m)}}}}),"add"==c)for(var k=g.records.length,j=0;k>j;j++){for(var m=g.records[j],q=!1,r=0;r<g._oldrecords.length;r++)if(g._oldrecords[r]._koindex===m._koindex){q=!0;break}q||g._changedrecords.push({index:j,oldrecord:null,record:m,position:0!=j?"last":"first"})}else if("remove"==c)for(var k=g._oldrecords.length,j=0;k>j;j++){var s=g._oldrecords[j];g.records[j]?g.records[j]._koindex!=s._koindex&&g._changedrecords.push({index:j,oldrecord:s,record:null}):g._changedrecords.push({index:j,oldrecord:s,record:null})}}else a.isArray(d.localdata)?0==l?a.each(d.localdata,function(b,c){var e=a.extend({},this);if("string"==typeof c)return g.records=d.localdata,!1;var f=g.getid(d.id,e,b);"object"==typeof f&&(f=b),e.uid=f,g.records[g.records.length]=e}):a.each(d.localdata,function(b){var c=this,e=o(c,l),f=g.getid(d.id,e,b);"object"==typeof f&&(f=b);var c=a.extend({},e);c.uid=f,g.records[g.records.length]=c}):(this.records=new Array,a.each(d.localdata,function(a){var b=g.getid(d.id,this,a);if(l>0){var c=this,e=o(c,l);e.uid=b,g.records[g.records.length]=e}else this.uid=b,g.records[g.records.length]=this}));if(this.originaldata=d.localdata,this.cachedrecords=this.records,this.addForeignValues(d),e.uniqueDataFields){var t=this.getUniqueRecords(this.records,e.uniqueDataFields);this.records=t,this.cachedrecords=t}if(e.beforeLoadComplete){var u=e.beforeLoadComplete(g.records,this.originaldata);void 0!=u&&(g.records=u,g.cachedrecords=u)}if(e.autoSort&&e.autoSortField){var v=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[e.autoSortField]},g.records.sort(function(b,c){if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return-1;if(b=b.toString(),c=c.toString(),a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return c>b?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return c>b?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase());try{if(c>b)return-1;if(b>c)return 1}catch(d){}return 0}),Object.prototype.toString=v}g.loadedData=d.localdata,g.buildHierarchy(),a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata,g.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(null!=d.localdata){if(a.isFunction(d.beforeprocessing)&&d.beforeprocessing(d.localdata),"xml"===d.datatype?g.loadxml(d.localdata,d.localdata,d):"text"===h?g.loadtext(d.localdata,d):g.loadjson(d.localdata,d.localdata,d),g.addForeignValues(d),e.uniqueDataFields){var t=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=t,g.cachedrecords=t}if(e.beforeLoadComplete){var u=e.beforeLoadComplete(g.records,this.originaldata);void 0!=u&&(g.records=u,g.cachedrecords=u)}return g.loadedData=d.localdata,g.buildHierarchy.call(g),a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata,g.records),void g.callBindingUpdate(c)}var w=void 0!=e.data?e.data:{};if(d.processdata&&d.processdata(w),a.isFunction(e.processData)&&e.processData(w),a.isFunction(e.formatData)){var x=e.formatData(w);void 0!=x&&(w=x)}var y="application/x-www-form-urlencoded";e.contentType&&(y=e.contentType);var z="GET";if(d.type&&(z=d.type),e.type&&(z=e.type),d.url&&d.url.length>0)a.isFunction(e.loadServerData)?g._requestData(w,d,e):this.xhr=a.jqx.data.ajax({dataType:h,cache:this.cache,type:z,url:d.url,async:i,timeout:d.timeout,contentType:y,data:w,success:function(b,c,f){if(a.isFunction(d.beforeprocessing)){var i=d.beforeprocessing(b,c,f);void 0!=i&&(b=i)}if(a.isFunction(e.downloadComplete)){var i=e.downloadComplete(b,c,f);void 0!=i&&(b=i)}if(null==b)return g.records=new Array,g.cachedrecords=new Array,g.originaldata=new Array,g.callDownloadComplete(),void(a.isFunction(e.loadComplete)&&e.loadComplete(new Array));var j=b;if(b.records&&(j=b.records),void 0!=b.totalrecords&&(d.totalrecords=b.totalrecords),"xml"===d.datatype?g.loadxml(null,j,d):"text"===h?g.loadtext(j,d):g.loadjson(null,j,d),g.addForeignValues(d),e.uniqueDataFields){var k=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=k,g.cachedrecords=k}if(e.beforeLoadComplete){var l=e.beforeLoadComplete(g.records,b);void 0!=l&&(g.records=l,g.cachedrecords=l)}g.loadedData=b,g.buildHierarchy.call(g),g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(b,c,f,g.records)},error:function(b,c,f){a.isFunction(d.loaderror)&&d.loaderror(b,c,f),a.isFunction(e.loadError)&&e.loadError(b,c,f),b=null,g.callDownloadComplete()},beforeSend:function(b,c){a.isFunction(e.beforeSend)&&e.beforeSend(b,c),a.isFunction(d.beforesend)&&d.beforesend(b,c)}});else if(g.buildHierarchy(new Array),g.callDownloadComplete(),a.isFunction(e.loadComplete)){if(!A)var A={};e.loadComplete(A)}}this.callBindingUpdate(c)}}},buildHierarchy:function(a){var b=this._source,c=new Array;if(b.datafields){if(b.hierarchy&&!b.hierarchy.reservedNames)b.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(b.hierarchy){var d=b.hierarchy.reservedNames;d.leaf||(d.leaf="leaf"),d.parent||(d.parent="parent"),d.expanded||(d.expanded="expanded"),d.checked||(d.checked="checked"),d.selected||(d.selected="selected"),d.level||(d.level="level"),d.data||(d.data="data")}if(b.hierarchy){var e=this,d=b.hierarchy.reservedNames;if(b.hierarchy.root){if("xml"==b.dataType){var c=this.getRecordsHierarchy("uid","parentuid","records",null,a);return this.hierarchy=c,c}this.hierarchy=this.records;for(var f=b.hierarchy.root,g=0;g<this.records.length;g++){var h=this.records[g];if(h){var i=function(a){if(b.hierarchy.record)a.records=a[f][b.hierarchy.record];else{var c=f.split(e.mapChar),g=null;if(c.length>1){for(var h=a,i=0;i<c.length;i++)void 0!=h&&(h=h[c[i]]);g=h}else g=a[f];a.records=g}(null==a.records||a.records&&0==a.records.length)&&(a[d.leaf]=!0)};i(h),h[d.level]=0;var j=this.getid(b.id,h,g);h.uid=j,h[d.parent]=null,h[d.data]=h,void 0===h[d.expanded]&&(h[d.expanded]=!1);var k=function(a,c){if(!c)return void(a.records=new Array);for(var f=0;f<c.length;f++){var g=c[f];if(g){i(g),g[d.level]=a[d.level]+1,g[d.parent]=a,g[d.data]=g;var h=e.getid(b.id,g,f);g.uid=h==f&&null==b.id?a.uid+"_"+h:h,void 0===g[d.expanded]&&(g[d.expanded]=!1),k(g,g.records)}}};k(h,h.records)}}return this.hierarchy}if(b.hierarchy.keyDataField&&b.hierarchy.parentDataField){var c=this.getRecordsHierarchy(b.hierarchy.keyDataField.name,b.hierarchy.parentDataField.name,"records",null,a);return this.hierarchy=c,c}if(b.hierarchy.groupingDataFields){for(var l=new Array,g=0;g<b.hierarchy.groupingDataFields.length;g++)l.push(b.hierarchy.groupingDataFields[g].name);var c=this.getGroupedRecords(l,"records","label",null,"data",null,"parent",a);return this.hierarchy=c,c}}}},addRecord:function(a,b,c,d){var e=this,f=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=a){if(void 0==c){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||d)){var g=e._source&&e._source.hierarchy?e._source.hierarchy.reservedNames:null;null==g&&(g=f()),a[g.level]=0,"last"==b?this.hierarchy.push(a):"number"==typeof b&&isFinite(b)?this.hierarchy.splice(b,0,a):this.hierarchy.splice(0,0,a)}else"last"==b?this.records.push(a):"number"==typeof b&&isFinite(b)?this.records.splice(b,0,a):this.records.splice(0,0,a);return!0}if(this.hierarchy.length>0){var h=function(d){if(d)for(var g=0;g<d.length;g++){var i=d[g];if(i.uid==c){var j=e._source&&e._source.hierarchy?e._source.hierarchy.reservedNames:null;return null==j&&(j=f()),a[j.parent]=i,a[j.level]=i[j.level]+1,i.records||(i.records=new Array,i[j.leaf]=!1),"last"==b?i.records.push(a):"number"==typeof b&&isFinite(b)?i.records.splice(b,0,a):i.records.splice(0,0,a),e.records.push(a),!0}i.records&&h(i.records)}};h(this.hierarchy)}}return!1},deleteRecord:function(a){var b=this;if(this.hierarchy.length>0){var c=function(d){if(d)for(var e=0;e<d.length;e++){var f=d[e];if(f.uid==a){d.splice(e,1),b.recordids[a]&&delete b.recordids[a];var g=function(a){for(var c=0;c<a.length;c++){for(var d=a[c].uid,e=0;e<b.records.length;e++){var f=b.records[e];if(f.uid==d){b.records.splice(e,1);break}}a[c].records&&g(a[c].records)}};f.records&&g(f.records);for(var h=0;h<b.records.length;h++){var f=b.records[h];if(f.uid==a){b.records.splice(h,1);break}}return!0}f.records&&c(f.records)}};c(this.hierarchy)}else for(var d=0;d<this.records.length;d++){var e=this.records[d];if(e.uid==a)return this.records.splice(d,1),!0}return!1},addForeignValues:function(a){for(var b=this,c=a.datafields?a.datafields.length:0,d=0;c>d;d++){var e=a.datafields[d];if(void 0!=e)if(void 0!=e.values){void 0==e.value&&(e.value=e.name),void 0==e.values.value&&(e.values.value=e.value);var f,g,h=new Array;b.pageable&&b.virtualmode?(f=b.pagenum*b.pagesize,g=f+b.pagesize,g>b.totalrecords&&(g=b.totalrecords)):b.virtualmode?(f=a.recordstartindex,g=a.recordendindex,g>b.totalrecords&&(g=b.totalrecords)):(f=0,g=b.records.length);for(var i=f;g>i;i++){var j=b.records[i],k=e.name,l=j[e.value];if(void 0!=h[l])j[k]=h[l];else for(var m=0;m<e.values.source.length;m++){var n=e.values.source[m],o=n[e.values.value];if(void 0==o&&(o=n.uid),o==l){var p=n[e.values.name];j[k]=p,h[l]=p;break}}}}else if(void 0!=e.value)for(var i=0;i<b.records.length;i++){var j=b.records[i];j[e.name]=j[e.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(b,c,d){var e=this,f=function(b){b.totalrecords&&(c.totalrecords=b.totalrecords,e.totalrecords=b.totalrecords),b.records&&(e.records=b.records,e.cachedrecords=b.records),a.isFunction(d.loadComplete)&&d.loadComplete(b),e.callDownloadComplete()};d.loadServerData(b,c,f)},getUniqueRecords:function(a,b){if(a&&b)for(var c=a.length,d=b.length,e=new Array,f=new Array,g=0;c>g;g++){var h=a[g],i="";if(void 0!=h){for(var j=0;d>j;j++){var k=b[j];i+=h[k]+"_"}f[i]||(e[e.length]=h),f[i]=!0}}return e},getAggregatedData:function(b,c,d,e){var f=d;f||(f=this.records);var g={},h=new Array,i=f.length;if(0!=i&&void 0!=i){for(var j=0;i>j;j++)for(var k=f[j],l=0;l<b.length;l++){var m=b[l],n=k[m.name];if(null!==n&&m.aggregates){g[m.name]=g[m.name]||{},h[m.name]=h[m.name]||0,h[m.name]++;var o=function(b){for(obj in b){var c=g[m.name][obj];null==c&&(g[m.name][obj]=0,c=0),a.isFunction(b[obj])&&(c=b[obj](c,n,m.name,k,e)),g[m.name][obj]=c}},p=parseFloat(n);p=isNaN(p)?!1:!0,p&&(n=parseFloat(n)),"number"==typeof n&&isFinite(n)?a.each(m.aggregates,function(){var a=g[m.name][this];if(null==a&&(a=0,"min"==this&&(a=9999999999999),"max"==this&&(a=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)a+=parseFloat(n);else if("product"==this)0==j?a=parseFloat(n):a*=parseFloat(n);else if("min"==this)a=Math.min(a,parseFloat(n));else if("max"==this)a=Math.max(a,parseFloat(n));else if("count"==this)a++;else if("object"==typeof this)return void o(this);g[m.name][this]=a}):a.each(m.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var a=g[m.name][this];return null==a&&(a=0),g[m.name][this]=a,!0}"object"==typeof this&&o(this)})}}for(var l=0;l<b.length;l++){var m=b[l];if(g[m.name]||(g[m.name]={},a.each(m.aggregates,function(){g[m.name][this]=0})),void 0!=g[m.name].avg){var n=g[m.name].avg,q=h[m.name];g[m.name].avg=0===q||void 0==q?0:n/q}else void 0!=g[m.name].count&&(g[m.name].count=i);(g[m.name].stdev||g[m.name].stdevp||g[m.name]["var"]||g[m.name].varp)&&a.each(m.aggregates,function(){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var a=g[m.name][this],b=i,c=a/i,d=0,e=0;i>e;e++){var h=f[e],j=h[m.name];d+=(j-c)*(j-c)}var k="stdevp"==this||"varp"==this?b:b-1;0==k&&(k=1),"var"==this||"varp"==this?g[m.name][this]=d/k:("stdevp"==this||"stdev"==this)&&(g[m.name][this]=Math.sqrt(d/k))}}),m.formatStrings&&a.each(m.aggregates,function(b){var d=m.formatStrings[b];if(d)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var e=g[m.name][this];g[m.name][this]=a.jqx.dataFormat.formatnumber(e,d,c)}else if("object"==typeof this)for(obj in this){var e=g[m.name][obj];g[m.name][obj]=a.jqx.dataFormat.formatnumber(e,d,c)}})}return g}},bindDownloadComplete:function(a,b){this._downloadComplete[this._downloadComplete.length]={id:a,func:b}},unbindDownloadComplete:function(a){for(var b=0;b<this._downloadComplete.length;b++)if(this._downloadComplete[b].id==a){this._downloadComplete[b].func=null,this._downloadComplete.splice(b,1);break}},callDownloadComplete:function(){for(var a=0;a<this._downloadComplete.length;a++){var b=this._downloadComplete[a];null!=b.func&&b.func()}},setSource:function(a){this._source=a},generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getGroupedRecords:function(b,c,d,e,f,g,h,i,j){var k=this;j||(j=0);for(var l=new Array,m=0;m<b.length;m++)l[m]=k.generatekey();c||(c="items"),d||(d="group"),f||(f="record"),h||(h="parentItem"),void 0===g&&(g="value");{var n=new Array,o=0,p=new Array,q=b.length;new Array}if(!i)var i=this.records;for(var r=i.length,s=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},t=0;r>t;t++){var u=s(i[t]);id=u[k.uniqueId];var v=new Array,w=0;for(m=0;q>m;m++){var x=b[m],y=u[x];null!=y&&(v[w++]={value:y,hash:l[m]})}if(v.length!=q)break;for(var z=null,A="",B=-1,C=0;C<v.length;C++){B++;var D=v[C].value,E=v[C].hash;if(A=A+"_"+E+"_"+D,void 0==p[A]||null==p[A]){if(null==z){z={level:0},z[h]=null,z[d]=D,z[f]=u,z.expanded=void 0!==u.expanded?u.expanded:!1,g&&(z[g]=u[g]),z[c]=new Array;var F=n.length+j;(!this._source.id||"number"==typeof u.uid||isFinite(u.uid))&&(F="Row"+F),z.uid=F,n[o++]=z}else{var G={level:z.level+1};G[h]=z,G[d]=D,G[c]=new Array,G[f]=u,G.expanded=void 0!==u.expanded?u.expanded:!1,g&&(G[g]=u[g]),G.uid=z.uid+"_"+z[c].length,z[c][z[c].length]=G,z=G}p[A]=z}else z=p[A]}u&&(u.leaf=!0),null!=z?(null==this._source.id&&(u.uid=z.uid+"_"+z[c].length),u[h]=z,u.level=z.level+1,z[c][z[c].length]=u):u.uid||(u.uid=this.generatekey())}return n},getRecordsHierarchy:function(b,c,d,e,f){var g=new Array,h=this.records;if(f&&(h=f),0==this.records.length)return null;for(var i=null!=d?d:"items",j=[],k=h,l=k.length,m=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,n=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},o=0;l>o;o++){var p=a.extend({},k[o]),q=p[c],r=p[b];j[r]={parentid:q,item:p}}for(var o=0;l>o;o++){var p=a.extend({},k[o]),q=p[c],r=p[b];if(void 0!=j[q]){var p={parentid:q,item:j[r].item},s=j[q].item;s[i]||(s[i]=[]);var t=s[i].length,u=p.item;m?void 0==u[m.parent]&&(u[m.parent]=s):void 0==u.parent&&(u.parent=s);var v=n(u);s[i][t]=v,j[q].item=s,j[r]=p}else{var u=j[r].item;m?void 0==u[m.parent]&&(u[m.parent]=null):void 0==u.parent&&(u.parent=null);var v=n(u);m?v[m.level]=0:v.level=0,g[g.length]=v}}if(0!=g.length){var w=function(a,b){for(var c=0;c<b.length;c++){m?b[c][m.level]=a:b[c].level=a;var d=b[c][i];d&&d.length>0?w(a+1,d):m?b[c][m.leaf]=!0:b[c].leaf=!0}};w(0,g)}return g},bindBindingUpdate:function(a,b){this._bindingUpdate[this._bindingUpdate.length]={id:a,func:b}},unbindBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++)if(this._bindingUpdate[b].id==a){this._bindingUpdate[b].func=null,this._bindingUpdate.splice(b,1);break}},callBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++){var c=this._bindingUpdate[b];null!=c.func&&c.func(a)}},getid:function(b,c,d){if(null==b||void 0==b.name||!b.name){if(a(b,c).length>0)return a(b,c).text();if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return e;var f=b.split(this.mapChar);if(f.length>1){for(var g=c,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);if(void 0!=g)return g}else if(void 0!=c[b])return c[b]}return d}var e=a(c).attr(b.name);if(null!=e&&e.toString().length>0)return e;if(b.map)try{var e=a(c).attr(b.map);if(null!=e&&e.toString().length>0)return e;if(a(b.map,c).length>0)return a(b.map,c).text();if(a(b.name,c).length>0)return a(b.name,c).text()}catch(i){return d}},loadjson:function(b,c,d){"string"==typeof b&&(b=a.parseJSON(b)),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b=b||c;b||(b=[]);var e=this;if(""!=d.root){var f=d.root.split(e.mapChar);if(f.length>1){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}else if(void 0!=b[d.root]?b=b[d.root]:a.each(b,function(){return this==d.root?(b=this,!1):void(void 0!=this[d.root]&&(b=this[d.root]))}),!b){var f=d.root.split(e.mapChar);if(f.length>0){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}}}else if(!b.length)for(obj in b)if(a.isArray(b[obj])){b=b[obj];break}if(null!=b&&void 0==b.length&&(b=a.makeArray(b)),null==b||void 0==b.length)return void alert("JSON Parse error.");if(0==b.length)return void(this.totalrecords=0);var i=b.length;this.totalrecords=this.virtualmode?d.totalrecords||i:i,this.records=new Array,this.originaldata=new Array;var j=this.records,k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(k=0,i=this.totalrecords);var l=0;this.virtualmode&&(k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,l=k,k=0,i=this.totalrecords);var m=d.datafields?d.datafields.length:0;if(0==m){var n=b[0],o=new Array;for(obj in n){var p=obj;o[o.length]={name:p}}d.datafields=o,m=o.length}for(var q=k,r=k;i>r;r++){var s=b[r];if(void 0==s)break;if(!d.record||""==d.record||(s=s[d.record],void 0!=s)){var t=this.getid(d.id,s,r);if("object"==typeof t&&(t=r),!this.recordids[t]){this.recordids[t]=s;for(var u={},v=0;m>v;v++){var w=d.datafields[v],x="";if(void 0!=w&&null!=w){if(w.map){if(a.isFunction(w.map))x=w.map(s);else{var f=w.map.split(e.mapChar);if(f.length>0){for(var y=s,h=0;h<f.length;h++)void 0!=y&&(y=y[f[h]]);x=y}else x=s[w.map]}void 0!=x&&null!=x?x=this.getvaluebytype(x,w):void 0==x&&null!=x&&(x="")}if(""==x&&!w.map&&(x=s[w.name],void 0==x&&null!=x&&(x=""),void 0!=w.value&&void 0!=x)){var z=x[w.value];void 0!=z&&(x=z)}if(x=this.getvaluebytype(x,w),void 0!=w.displayname?u[w.displayname]=x:u[w.name]=x,"array"===w.type){var A=function(b){if(b)for(var c=0;c<b.length;c++){var f=b[c];if(f)for(var g=0;m>g;g++){var h=d.datafields[g],i="";if(void 0!=h&&null!=h){if(h.map){if(a.isFunction(h.map))i=h.map(f);else{var j=h.map.split(e.mapChar);if(j.length>0){for(var k=f,l=0;l<j.length;l++)void 0!=k&&(k=k[j[l]]);i=k}else i=f[h.map]}void 0!=i&&null!=i?i=this.getvaluebytype(i,h):void 0==i&&null!=i&&(i="")}if(""==i&&!h.map&&(i=f[h.name],void 0==i&&null!=i&&(i=""),void 0!=h.value&&void 0!=i)){var n=i[h.value];void 0!=n&&(i=n)}i=this.getvaluebytype(i,h),void 0!=h.displayname?f[h.displayname]=i:f[h.name]=i,"array"===h.type&&A.call(this,i)}}}};A.call(this,x)}}}(d.recordendindex<=0||k<d.recordendindex)&&(j[l+q]=a.extend({},u),j[l+q].uid=t,this.originaldata[l+q]=a.extend({},j[r]),q++)}}}this.records=j,this.cachedrecords=this.records},loadxml:function(b,c,d){"string"==typeof b&&(b=c=a(a.parseXML(b)),b=null),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b;b=a.jqx.browser.msie&&c&&void 0!=c.xml?a(d.root+" "+d.record,a.parseXML(c.xml)):b||a(d.root+" "+d.record,c),b||(b=[]);var e=b.length;if(0!=b.length){this.totalrecords=this.virtualmode?d.totalrecords||e:e,this.records=new Array,this.originaldata=new Array;var f=this.records,g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(g=0,e=this.totalrecords);var h=0;this.virtualmode&&(g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,h=g,g=0,e=this.totalrecords);var i=d.datafields?d.datafields.length:0;if(0==i){var j=b[0],k=new Array;for(obj in j){var l=obj;k[k.length]={name:l}}d.datafields=k,i=k.length}for(var m=g,n=!1,o=g;e>o;o++){var p=b[o];if(void 0==p)break;var q=this.getid(d.id,p,o);if(!this.recordids[q]){this.recordids[q]=p;var r={},s=!1;d.hierarchy&&d.hierarchy.root&&(s=!0);for(var t=0;i>t;t++){var u=d.datafields[t],v="";if(void 0!=u&&null!=u){if(u.map)if(a.isFunction(u.map))v=u.map(p);else{var w=u.map.indexOf("[");if(0>w)if(v=a(u.map,p),1==v.length)v=v.text();else{n=!0;for(var x=new Array,y=0;y<v.length;y++)x.push(a(v[y]).text());v=x,s&&x.length>0&&(v=x[0])}else{var z=u.map.substring(0,w-1),A=u.map.indexOf("]"),B=u.map.substring(w+1,A);v=a(z,p).attr(B),void 0==v&&(v=a(p).attr(B)),void 0==v&&(v="")}""==v&&(v=a(p).attr(u.map),void 0==v&&(v=""))}if(""==v){if(v=a(u.name,p),1==v.length)v=v.text();else{for(var x=new Array,y=0;y<v.length;y++)x.push(a(v[y]).text());v=x,s&&x.length>0&&(v=x[0])}""==v&&(v=a(p).attr(u.name),void 0==v&&(v="")),""==v&&p.nodeName&&p.nodeName==u.name&&p.firstChild&&(v=a(p.firstChild).text())}v=this.getvaluebytype(v,u),void 0!=u.displayname?r[u.displayname]=v:r[u.name]=v}}(d.recordendindex<=0||g<d.recordendindex)&&(f[h+m]=a.extend({},r),f[h+m].uid=q,this.originaldata[h+m]=a.extend({},f[o]),m++)}}if(d.hierarchy&&d.hierarchy.root)for(var o=g;e>o;o++){var p=b[o],C=f[o];if(a(p).parent().length>0){var q=this.getid(d.id,a(p).parents(d.hierarchy.record+":first"));C.parentuid=q}else C.parentuid=null}this.records=f,this.cachedrecords=this.records}},loadtext:function(b,c){if(null!=b){var d=c.rowDelimiter||this.rowDelimiter||"\n",e=b.split(d),f=e.length,g=b.split("\r");1==f&&g.length>1&&(e=g,f=e.length),this.totalrecords=this.virtualmode?c.totalrecords||f:f,this.records=new Array,this.originaldata=new Array;var h=this.records,i=this.pageable?this.pagesize*this.pagenum:c.recordstartindex;this.recordids=new Array,c.loadallrecords&&(i=0,f=this.totalrecords);var j=0;this.virtualmode&&(i=this.pageable?this.pagesize*this.pagenum:c.recordstartindex,j=i,i=0,f=this.totalrecords);var k=c.datafields.length,l=c.columnDelimiter||this.columnDelimiter;l||(l="tab"===c.datatype||"tsv"===c.datatype?"	":",");for(var m=i;f>m;m++){var n=e[m],o=null;if(!this.recordids[o]){null==c.id&&(o=m,this.recordids[o]=n);for(var p={},q=e[m].split(l),r=0;k>r;r++)if(!(r>=q.length)){var s=c.datafields[r],t=q[r];s.map&&a.isFunction(s.map)&&(t=s.map(n)),s.type&&(t=this.getvaluebytype(t,s));var u=s.map||s.name||r.toString();p[u]=t,null!=c.id&&c.id===s.name&&(o=t,this.recordids[o]=n)}null==o&&(o=m),h[j+m]=a.extend({},p),h[j+m].uid=o,this.originaldata[j+m]=a.extend({},h[m])}}this.records=h,this.cachedrecords=this.records}},getvaluebytype:function(b,c){var d=b;if(null==b)return b;if(a.isArray(b)&&"array"!=c.type){for(var e=0;e<b.length;e++)b[e]=this.getvaluebytype(b[e],c);return b}if("date"==c.type)if("NaN"==b)b="";else{var f=new Date(b);if("string"==typeof b&&c.format){var g=a.jqx.dataFormat.parsedate(b,c.format);null!=g&&(f=g)}b=("NaN"==f.toString()||"Invalid Date"==f.toString())&&a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):f,null==b&&(b=d)}else if("float"==c.type||"number"==c.type||"decimal"==c.type)if("NaN"==b)b="";else{var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type||"integer"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else("bool"==c.type||"boolean"==c.type)&&(null!=b&&void 0!=b.toLowerCase&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b?!0:0==b&&""!==b?!1:"");return b}},a.jqx.dataFormat={},a.extend(a.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(a){return"boolean"==typeof a},isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},isDate:function(a){return a instanceof Date},arrayIndexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isNull:function(a){return null===a},isUndefined:function(a){return"undefined"==typeof a},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(b){return!this.isString(b)&&this.isValue(b)?!1:this.isValue(b)?(b=a.trim(b).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===b):!0},startsWith:function(a,b){return 0===a.indexOf(b)},endsWith:function(a,b){return a.substr(a.length-b.length)===b},trim:function(a){return(a+"").replace(this.regexTrim,"")},isArray:function(a){return"[object Array]"===this.toString.call(a)},defaultcalendar:function(){var a={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return a},expandFormat:function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},getEra:function(a,b){if(!b)return 0;if("string"==typeof a)return 0;for(var c,d=a.getTime(),e=0,f=b.length;f>e;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},toUpper:function(a){return a.split("").join(" ").toUpperCase()},toUpperArray:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=this.toUpper(a[c]);return b},getEraYear:function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},toUpper:function(a){return a?a.toUpperCase():""
},getDayIndex:function(a,b,c){var d,e=a.days,f=a._upperDays;return f||(a._upperDays=f=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr),this.toUpperArray(e.namesShort)]),b=b.toUpperCase(),c?(d=this.arrayIndexOf(f[1],b),-1===d&&(d=this.arrayIndexOf(f[2],b))):d=this.arrayIndexOf(f[0],b),d},getMonthIndex:function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,f=a._upperMonths,g=a._upperMonthsGen;f||(a._upperMonths=f=[this.toUpperArray(d.names),this.toUpperArray(d.namesAbbr)],a._upperMonthsGen=g=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr)]),b=this.toUpper(b);var h=this.arrayIndexOf(c?f[1]:f[0],b);return 0>h&&(h=this.arrayIndexOf(c?g[1]:g[0],b)),h},appendPreOrPostMatch:function(a,b){for(var c=0,d=!1,e=0,f=a.length;f>e;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(a,b){var c="";return b&&b.target&&(c="target="+b.target),""!=c?"<a "+c+' href="'+a+'">'+a+"</a>":'<a href="'+a+'">'+a+"</a>"},formatemail:function(a){return'<a href="mailto:'+a+'">'+a+"</a>"},formatNumber:function(a,b,c){return this.formatnumber(a,b,c)},formatnumber:function(a,b,c){if((void 0==c||null==c||""==c)&&(c=this.defaultcalendar()),""===b||null===b)return a;this.isNumber(a)||(a*=1);var d;b.length>1&&(d=parseInt(b.slice(1),10));var e={},f=b.charAt(0).toUpperCase();switch(e.thousandsSeparator=c.thousandsseparator,e.decimalSeparator=c.decimalseparator,f){case"D":case"d":case"F":case"f":e.decimalPlaces=d;break;case"N":case"n":e.decimalPlaces=0;break;case"C":case"c":e.decimalPlaces=d,"before"==c.currencysymbolposition?e.prefix=c.currencysymbol:e.suffix=c.currencysymbol;break;case"P":case"p":e.suffix=c.percentsymbol,e.decimalPlaces=d;break;default:throw"Bad number format specifier: "+f}if(this.isNumber(a)){var g,h=0>a,i=a+"",j=e.decimalSeparator?e.decimalSeparator:".";if(this.isNumber(e.decimalPlaces)){var k=e.decimalPlaces,l=Math.pow(10,k);if(i=(a*l).toFixed(0)/l+"",g=i.lastIndexOf("."),k>0)for(0>g?(i+=j,g=i.length-1):"."!==j&&(i=i.replace(".",j));i.length-1-g<k;)i+="0"}if(e.thousandsSeparator){var m=e.thousandsSeparator;g=i.lastIndexOf(j),g=g>-1?g:i.length;for(var n=i.substring(g),o=-1,p=g;p>0;p--)o++,o%3===0&&p!==g&&(!h||p>1)&&(n=m+n),n=i.charAt(p-1)+n;i=n}return i=e.prefix?e.prefix+i:i,i=e.suffix?i+e.suffix:i}return a},tryparsedate:function(a,b){(void 0==b||null==b)&&(b=this.defaultcalendar());var c=this;if(""==a)return null;if(null==a||a.substring||(a=a.toString()),null!=a&&"/Date("==a.substring(0,6)){var d=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,e=new Date(+a.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==e){var f=a.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),e=null;f&&(e=new Date(1*f[1]+36e5*f[2]+6e4*f[3]))}if(null==e||"Invalid Date"==e||isNaN(e)){var g=d.exec(a);if(g){var h=new Date(parseInt(g[1]));if(g[2]){var i=parseInt(g[3]);"-"===g[2]&&(i=-i);var j=h.getUTCMinutes();h.setUTCMinutes(j-i)}if(!isNaN(h.valueOf()))return h}}return e}patterns=b.patterns;for(prop in patterns)if(e=c.parsedate(a,patterns[prop],b)){if("ISO"==prop){var k=c.parsedate(a,patterns.ISO2,b);if(k)return k}return e}if(null!=a){for(var k=null,l=[":","/","-"],m=!0,n=0;n<l.length;n++)-1!=a.indexOf(l[n])&&(m=!1);if(m){var o=new Number(a);if(!isNaN(o))return new Date(o)}}return null},getparseregexp:function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=this.expandFormat(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=this.getTokenRegExp();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=this.appendPreOrPostMatch(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\"+a["/"]+")";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}this.appendPreOrPostMatch(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},outOfRange:function(a,b,c){return b>a||a>c},expandYear:function(a,b){var c=new Date,d=this.getEra(c);if(100>b){var e=a.twoDigitYearMax;e="string"==typeof e?(new Date).getFullYear()%100+parseInt(e,10):e;var f=this.getEraYear(c,a,d);b+=f-f%100,b>e&&(b-=100)}return b},parsedate:function(a,b,c){(void 0==c||null==c)&&(c=this.defaultcalendar()),a=this.trim(a);var d=c,e=this.getparseregexp(d,b),f=new RegExp(e.regExp).exec(a);if(null===f)return null;for(var g,h=e.groups,i=null,j=null,k=null,l=null,m=null,n=0,o=0,p=0,q=0,r=null,s=!1,t=0,u=h.length;u>t;t++){var v=f[t+1];if(v){var w=h[t],x=w.length,y=parseInt(v,10);switch(w){case"dd":case"d":if(l=y,this.outOfRange(l,1,31))return null;break;case"MMM":case"MMMM":if(k=this.getMonthIndex(d,v,3===x),this.outOfRange(k,0,11))return null;break;case"M":case"MM":if(k=y-1,this.outOfRange(k,0,11))return null;break;case"y":case"yy":case"yyyy":if(j=4>x?this.expandYear(d,y):y,this.outOfRange(j,0,9999))return null;break;case"h":case"hh":if(n=y,12===n&&(n=0),this.outOfRange(n,0,11))return null;break;case"H":case"HH":if(n=y,this.outOfRange(n,0,23))return null;break;case"m":case"mm":if(o=y,this.outOfRange(o,0,59))return null;break;case"s":case"ss":if(p=y,this.outOfRange(p,0,59))return null;break;case"tt":case"t":if(s=d.PM&&(v===d.PM[0]||v===d.PM[1]||v===d.PM[2]),!s&&(!d.AM||v!==d.AM[0]&&v!==d.AM[1]&&v!==d.AM[2]))return null;break;case"f":case"ff":case"fff":if(q=y*Math.pow(10,3-x),this.outOfRange(q,0,999))return null;break;case"ddd":case"dddd":if(m=this.getDayIndex(d,v,3===x),this.outOfRange(m,0,6))return null;break;case"zzz":var z=v.split(/:/);if(2!==z.length)return null;if(g=parseInt(z[0],10),this.outOfRange(g,-12,13))return null;var A=parseInt(z[1],10);if(this.outOfRange(A,0,59))return null;r=60*g+(startsWith(v,"-")?-A:A);break;case"z":case"zz":if(g=y,this.outOfRange(g,-12,13))return null;r=60*g;break;case"g":case"gg":var B=v;if(!B||!d.eras)return null;B=trim(B.toLowerCase());for(var C=0,D=d.eras.length;D>C;C++)if(B===d.eras[C].name.toLowerCase()){i=C;break}if(null===i)return null}}}var E,F=new Date,G=d.convert;if(E=F.getFullYear(),null===j?j=E:d.eras&&(j+=d.eras[i||0].offset),null===k&&(k=0),null===l&&(l=1),G){if(F=G.toGregorian(j,k,l),null===F)return null}else{if(F.setFullYear(j,k,l),F.getDate()!==l)return null;if(null!==m&&F.getDay()!==m)return null}if(s&&12>n&&(n+=12),F.setHours(n,o,p,q),null!==r){var H=F.getMinutes()-(r+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt(H/60,10),H%60)}return F},cleardatescache:function(){this.datescache=new Array},formatDate:function(a,b,c){return this.formatdate(a,b,c)},formatdate:function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=m[b-2]+d,c.substr(c.length-b,b)):c=d}function e(a,b){if(l)return l[b];if(void 0!=a.getMonth)switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}if((void 0==c||null==c)&&(c=this.defaultcalendar()),"string"==typeof a)return a;var f=a.toString()+"_"+b;if(this.datescache&&this.datescache[f])return this.datescache[f];if(!b||!b.length||"i"===b){var g;return g=this.formatDate(a,c.patterns.F,culture)}var h=c.eras,i="s"===b;b=this.expandFormat(c,b),g=[];for(var j,k,l,m=["0","00","000"],n=0,o=this.getTokenRegExp();;){var p=o.lastIndex,q=o.exec(b),r=b.slice(p,q?q.index:b.length);if(n+=this.appendPreOrPostMatch(r,g),!q)break;if(n%2)g.push(q[0]);else{var s=q[0],t=s.length;switch(s){case"ddd":case"dddd":var u=3===t?c.days.namesAbbr:c.days.names;g.push(u[a.getDay()]);break;case"d":case"dd":k=!0,g.push(d(e(a,2),t));break;case"MMM":case"MMMM":var v=e(a,1);g.push(c.months[3===t?"namesAbbr":"names"][v]);break;case"M":case"MM":g.push(d(e(a,1)+1,t));break;case"y":case"yy":case"yyyy":v=this.getEraYear(a,c,this.getEra(a,h),i),4>t&&(v%=100),g.push(d(v,t));break;case"h":case"hh":j=a.getHours()%12,0===j&&(j=12),g.push(d(j,t));break;case"H":case"HH":g.push(d(a.getHours(),t));break;case"m":case"mm":g.push(d(a.getMinutes(),t));break;case"s":case"ss":g.push(d(a.getSeconds(),t));break;case"t":case"tt":v=a.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",g.push(1===t?v.charAt(0):v);break;case"f":case"ff":case"fff":g.push(d(a.getMilliseconds(),3).substr(0,t));break;case"z":case"zz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),t));break;case"zzz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&g.push(c.eras[this.getEra(a,h)].name);break;case"/":g.push(c["/"]);break;default:throw"Invalid date format pattern '"+s+"'."}}}var w=g.join("");return this.datescache||(this.datescache=new Array),this.datescache[f]=w,w}}),a.jqx.data={};var i,j,k=/#.*$/,l=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,m=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,n=/^(?:GET|HEAD)$/,o=/^\/\//,p=/\?/,q=/([?&])_=[^&]*/,r=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,s=/\s+/,t=(jQuery.fn.load,{}),u={},v=["*/"]+["*"];try{j=location.href}catch(w){j=document.createElement("a"),j.href="",j=j.href}i=r.exec(j.toLowerCase())||[],a.extend(a.jqx.data,{ajaxSetup:function(b,c){return c?d(b,a.jqx.data.ajaxSettings):(c=b,b=a.jqx.data.ajaxSettings),d(b,c),b},ajaxSettings:{url:j,isLocal:m.test(i[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":v},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:b(t),ajaxTransport:b(u),ajax:function(b,d){function g(a,b,c,d){var g,i,k,l,m,n=b;2!==J&&(J=2,x&&clearTimeout(x),w=void 0,j=d||"",L.readyState=a>0?4:0,c&&(l=e(B,L,c)),a>=200&&300>a||304===a?(B.ifModified&&(m=L.getResponseHeader("Last-Modified"),m&&(jQuery.lastModified[h]=m),m=L.getResponseHeader("Etag"),m&&(jQuery.etag[h]=m)),304===a?(n="notmodified",g=!0):(g=f(B,l),n=g.state,i=g.data,k=g.error,g=!k)):(k=n,(!n||a)&&(n="error",0>a&&(a=0))),L.status=a,L.statusText=(b||n)+"",g?E.resolveWith(C,[i,n,L]):E.rejectWith(C,[L,n,k]),L.statusCode(G),G=void 0,z&&D.trigger("ajax"+(g?"Success":"Error"),[L,B,g?i:k]),F.fireWith(C,[L,n]),z&&(D.trigger("ajaxComplete",[L,B]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof b&&(d=b,b=void 0),d=d||{};var h,j,m,w,x,y,z,A,B=a.jqx.data.ajaxSetup({},d),C=B.context||B,D=C!==B&&(C.nodeType||C instanceof jQuery)?jQuery(C):jQuery.event,E=jQuery.Deferred(),F=jQuery.Callbacks("once memory"),G=B.statusCode||{},H={},I={},J=0,K="canceled",L={readyState:0,setRequestHeader:function(a,b){if(!J){var c=a.toLowerCase();a=I[c]=I[c]||a,H[a]=b}return this},getAllResponseHeaders:function(){return 2===J?j:null},getResponseHeader:function(a){var b;if(2===J){if(!m)for(m={};b=l.exec(j);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return void 0===b?null:b},overrideMimeType:function(a){return J||(B.mimeType=a),this},abort:function(a){return a=a||K,w&&w.abort(a),g(0,a),this}};if(E.promise(L),L.success=L.done,L.error=L.fail,L.complete=F.add,L.statusCode=function(a){if(a){var b;if(2>J)for(b in a)G[b]=[G[b],a[b]];else b=a[L.status],L.always(b)}return this},B.url=((b||B.url)+"").replace(k,"").replace(o,i[1]+"//"),B.dataTypes=jQuery.trim(B.dataType||"*").toLowerCase().split(s),null==B.crossDomain&&(y=r.exec(B.url.toLowerCase()),B.crossDomain=!(!y||y[1]===i[1]&&y[2]===i[2]&&(y[3]||("http:"===y[1]?80:443))==(i[3]||("http:"===i[1]?80:443)))),B.data&&B.processData&&"string"!=typeof B.data&&(B.data=jQuery.param(B.data,B.traditional)),c(t,B,d,L),2===J)return L;if(z=B.global,B.type=B.type.toUpperCase(),B.hasContent=!n.test(B.type),z&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),!B.hasContent&&(B.data&&(B.url+=(p.test(B.url)?"&":"?")+B.data,delete B.data),h=B.url,B.cache===!1)){var M=jQuery.now(),N=B.url.replace(q,"$1_="+M);B.url=N+(N===B.url?(p.test(B.url)?"&":"?")+"_="+M:"")}(B.data&&B.hasContent&&B.contentType!==!1||d.contentType)&&L.setRequestHeader("Content-Type",B.contentType),B.ifModified&&(h=h||B.url,jQuery.lastModified[h]&&L.setRequestHeader("If-Modified-Since",jQuery.lastModified[h]),jQuery.etag[h]&&L.setRequestHeader("If-None-Match",jQuery.etag[h])),L.setRequestHeader("Accept",B.dataTypes[0]&&B.accepts[B.dataTypes[0]]?B.accepts[B.dataTypes[0]]+("*"!==B.dataTypes[0]?", "+v+"; q=0.01":""):B.accepts["*"]);for(A in B.headers)L.setRequestHeader(A,B.headers[A]);if(B.beforeSend&&(B.beforeSend.call(C,L,B)===!1||2===J))return L.abort();K="abort";for(A in{success:1,error:1,complete:1})L[A](B[A]);if(w=c(u,B,d,L)){L.readyState=1,z&&D.trigger("ajaxSend",[L,B]),B.async&&B.timeout>0&&(x=setTimeout(function(){L.abort("timeout")},B.timeout));try{J=1,w.send(H,g)}catch(O){if(!(2>J))throw O;g(-1,O)}}else g(-1,"No Transport");return L},active:0,lastModified:{},etag:{}});var x=[],y=/\?/,z=/(=)\?(?=&|$)|\?\?/,A=jQuery.now();a.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=x.pop()||jQuery.expando+"_"+A++;return this[a]=!0,a}}),a.jqx.data.ajaxPrefilter("json jsonp",function(a,b,c){var d,e,f,g=a.data,h=a.url,i=a.jsonp!==!1,j=i&&z.test(h),k=i&&!j&&"string"==typeof g&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&z.test(g);return"jsonp"===a.dataTypes[0]||j||k?(d=a.jsonpCallback=jQuery.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,e=window[d],j?a.url=h.replace(z,"$1"+d):k?a.data=g.replace(z,"$1"+d):i&&(a.url+=(y.test(h)?"&":"?")+a.jsonp+"="+d),a.converters["script json"]=function(){return f||jQuery.error(d+" was not called"),f[0]},a.dataTypes[0]="json",window[d]=function(){f=arguments},c.always(function(){window[d]=e,a[d]&&(a.jsonpCallback=b.jsonpCallback,x.push(d)),f&&jQuery.isFunction(e)&&e(f[0]),f=e=void 0}),"script"):void 0}),a.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return jQuery.globalEval(a),a}}}),a.jqx.data.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),a.jqx.data.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(d,e){b=document.createElement("script"),b.async="async",a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,d){(d||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=void 0,d||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var B,C=window.ActiveXObject?function(){for(var a in B)B[a](0,1)}:!1,D=0;a.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&g()||h()}:g,function(a){jQuery.extend(jQuery.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(a.jqx.data.ajaxSettings.xhr()),jQuery.support.ajax&&a.jqx.data.ajaxTransport(function(a){if(!a.crossDomain||jQuery.support.cors){var b;return{send:function(c,d){var e,f,g=a.xhr();if(a.username?g.open(a.type,a.url,a.async,a.username,a.password):g.open(a.type,a.url,a.async),a.xhrFields)for(f in a.xhrFields)g[f]=a.xhrFields[f];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");try{for(f in c)g.setRequestHeader(f,c[f])}catch(h){}g.send(a.hasContent&&a.data||null),b=function(c,f){var h,i,j,k,l;try{if(b&&(f||4===g.readyState))if(b=void 0,e&&(g.onreadystatechange=jQuery.noop,C&&delete B[e]),f)4!==g.readyState&&g.abort();else{h=g.status,j=g.getAllResponseHeaders(),k={},l=g.responseXML,l&&l.documentElement&&(k.xml=l);try{k.text=g.responseText}catch(m){}try{i=g.statusText}catch(m){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=k.text?200:404}}catch(n){f||d(-1,n)}k&&d(h,i,k,j)},a.async?4===g.readyState?setTimeout(b,0):(e=++D,C&&(B||(B={},jQuery(window).unload(C)),B[e]=b),g.onreadystatechange=b):b()},abort:function(){b&&b(0,1)}}}}),a.jqx.filter=function(){this.operator="and";var b=1,c=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],d=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],e=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],f=["EQUAL","NOT_EQUAL"],g=new Array,h=new Array;this.evaluate=function(a){for(var c=!0,d=0;d<g.length;d++){var e=g[d].evaluate(a);c=0==d?e:h[d]==b||"or"==h[d]?c||e:c&&e}return c},this.getfilterscount=function(){return g.length},this.setoperatorsbyfiltertype=function(a,b){switch(a){case"numericfilter":d=b;break;case"stringfilter":c=b;break;case"datefilter":e=b;break;case"booleanfilter":f=b}},this.getoperatorsbyfiltertype=function(a){var b=new Array;switch(a){case"numericfilter":b=d.slice(0);break;case"stringfilter":b=c.slice(0);break;case"datefilter":b=e.slice(0);break;case"booleanfilter":b=f.slice(0)}return b};var i=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+"-"+a()+"-"+a()};this.createfilter=function(a,b,c,d,e,f){if(null==a||void 0==a)return null;switch(a){case"numericfilter":return new l(b,c.toUpperCase());case"stringfilter":return new j(b,c.toUpperCase());case"datefilter":return new m(b,c.toUpperCase(),e,f);case"booleanfilter":return new k(b,c.toUpperCase());case"custom":return new n(b,c.toUpperCase(),d)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var a=new Array,b=0;b<g.length;b++){var c={value:g[b].filtervalue,condition:g[b].comparisonoperator,operator:h[b],type:g[b].type};a[b]=c}return a},this.addfilter=function(a,b){g[g.length]=b,b.key=i(),h[h.length]=a},this.removefilter=function(a){for(var b=0;b<g.length;b++)if(g[b].key==a.key){g.splice(b,1),h.splice(b,1);break}},this.getoperatorat=function(a){return void 0==a||null==a?null:0>a||a>g.length?null:h[a]},this.setoperatorat=function(a,b){return void 0==a||null==a?null:0>a||a>g.length?null:void(h[b]=b)},this.getfilterat=function(a){return void 0==a||null==a?null:0>a||a>g.length?null:g[a]},this.setfilterat=function(a,b){return void 0==a||null==a?null:0>a||a>g.length?null:(b.key=i(),void(g[a]=b))},this.clear=function(){g=new Array,h=new Array};var j=function(b,c){this.filtervalue=b,this.comparisonoperator=c,this.type="stringfilter",this.evaluate=function(b){var c=this.filtervalue,d=this.comparisonoperator;if(null==b||void 0==b||""==b){if("NULL"==d)return!0;if("EQUAL"==d&&b==c)return!0;if("NOT_EQUAL"==d&&b!=c)return!0;if("EMPTY"!=d)return!1;if(""==b)return!0}var e="";try{e=b.toString()}catch(f){return!0}var g=function(b,c){switch(d){case"EQUAL":return a.jqx.string.equalsIgnoreCase(b,c);case"EQUAL_CASE_SENSITIVE":return a.jqx.string.equals(b,c);case"NOT_EQUAL":return!a.jqx.string.equalsIgnoreCase(b,c);case"NOT_EQUAL_CASE_SENSITIVE":return!a.jqx.string.equals(b,c);case"CONTAINS":return a.jqx.string.containsIgnoreCase(b,c);case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b,c);case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b,c);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b,c);case"EMPTY":return""==b;case"NOT_EMPTY":return""!=b;case"NOT_NULL":return null!=b;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b,c);case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b,c);case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b,c);case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b,c);default:return!1}},h=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var i=g(e,c);if(i)return i;var j=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,k=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,l=c.indexOf(" and ")>=0?c.split(" and "):new Array,m=c.indexOf(" or ")>=0?c.split(" or "):new Array,n=c.indexOf("|")>=0?c.split("|"):new Array;if(n.length>0)for(var o=0;o<n.length;o++)n[o]=a.trim(n[o]);var p=c.indexOf(" ")>=0?c.split(" "):new Array;if(p.length>0)for(var o=0;o<p.length;o++)p[o]=a.trim(p[o]);if(j=j.concat(p),j=j.concat(l),k=k.concat(n),k=k.concat(m),j.length>0)for(var o=0;o<j.length;o++)!j[o].indexOf(" OR ")>=0&&h.push(j[o]);if(k.length>0)for(var o=0;o<k.length;o++)!k[o].indexOf(" AND ")>=0&&h.push(k[o]);for(var q=void 0,r=0;r<h.length;r++){var b=h[r],i=g(e,b),s=r<j.length?"and":"or";q=void 0==q?i:"or"==s?q||i:q&&i}return q}return g(e,c)}},k=function(a,b){this.filtervalue=a,this.comparisonoperator=b,this.type="booleanfilter",this.evaluate=function(a){var b=this.filtervalue,c=this.comparisonoperator;if(null==a||void 0==a)return"NULL"==c?!0:!1;var d=a;switch(c){case"EQUAL":return d==b||d.toString()==b.toString();case"NOT_EQUAL":return d!=b&&d.toString()!=b.toString();default:return!1}}},l=function(b,c){this.filtervalue=b,this.comparisonoperator=c,this.type="numericfilter",this.evaluate=function(b){var c=this.filtervalue,d=this.comparisonoperator;if(null===b||void 0===b||""===b){if("NOT_NULL"==d)return!1;if("NULL"==d)return!0;switch(d){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c}return!1}if("NULL"==d)return!1;if("NOT_NULL"==d)return!0;var e=b;try{e=parseFloat(e)}catch(f){if(""!=b.toString())return!1}var g=function(b,c){switch(d){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c;case"GREATER_THAN":return b>c;case"GREATER_THAN_OR_EQUAL":return b>=c;case"LESS_THAN":return c>b;case"LESS_THAN_OR_EQUAL":return c>=b;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b.toString(),c.toString());case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b.toString(),c.toString());case"CONTAINS":return a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b.toString(),c.toString());case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b.toString(),c.toString());default:return!0}},h=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var i=g(e,c);if(i)return i;c=c.toString();var j=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,k=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,l=c.indexOf(" and ")>=0?c.split(" and "):new Array,m=c.indexOf(" or ")>=0?c.split(" or "):new Array;j=j.concat(l),k=k.concat(m);var n=c.indexOf("|")>=0?c.split("|"):new Array;if(n.length>0)for(var o=0;o<n.length;o++)n[o]=a.trim(n[o]);if(k=k.concat(n),j.length>0)for(var o=0;o<j.length;o++)!j[o].indexOf(" OR ")>=0&&h.push(j[o]);if(k.length>0)for(var o=0;o<k.length;o++)!k[o].indexOf(" AND ")>=0&&h.push(k[o]);for(var p=void 0,q=0;q<h.length;q++){var b=h[q];if(b&&b.indexOf&&b.indexOf("..")>=0){var r=b.toString().split("..");2==r.length&&(i=e>=r[0]&&e<=r[1])}else var i=g(e,b);var s=q<j.length?"and":"or";p=void 0==p?i:"or"==s?p||i:p&&i}return p}return c&&c.indexOf&&c.indexOf("..")>=0&&(h=c.toString().split(".."),2==h.length)?e>=h[0]&&e<=h[1]:g(e,c)}},m=function(b,c,d,e){if(this.filtervalue=b,this.type="datefilter",void 0!=d&&void 0!=e){var f=a.jqx.dataFormat.parsedate(b,d,e);if(null!=f)this.filterdate=f;else{var g=a.jqx.dataFormat.tryparsedate(b,e);null!=g&&(this.filterdate=g)}}else{var h=new Date(b);this.filterdate="NaN"==h.toString()||"Invalid Date"==h.toString()?a.jqx.dataFormat.tryparsedate(b):h}if(!this.filterdate){var h=new Date(b);this.filterdate="NaN"==h.toString()||"Invalid Date"==h.toString()?a.jqx.dataFormat.tryparsedate(b):h}this.comparisonoperator=c,this.evaluate=function(b){var c=this.filtervalue,f=this.comparisonoperator;if(null==b||void 0==b||""==b){if("NOT_NULL"==f)return!1;if("NULL"==f)return!0;switch(f){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c}return!1}if("NULL"==f)return!1;if("NOT_NULL"==f)return!0;var g=new Date;g.setFullYear(1900,0,1),g.setHours(12,0,0,0);try{var h=new Date(b);b="NaN"==h.toString()||"Invalid Date"==h.toString()?a.jqx.dataFormat.tryparsedate(b):h,g=b;var i=!1;if(void 0!=d&&void 0!=e&&(d.indexOf("t")>=0||d.indexOf("T")>=0||d.indexOf(":")>=0||d.indexOf("f")>=0)&&(i=!0,c&&-1==c.toString().indexOf(":"))){var j=a.jqx.dataFormat.tryparsedate(c.toString()+":00",e);null!=j&&(this.filterdate=j)}i||(g.setHours(0),g.setMinutes(0),g.setSeconds(0))}catch(k){if(""!=b.toString())return!1}if(null!=this.filterdate)c=this.filterdate;else if(c.indexOf&&(-1!=c.indexOf(":")||!isNaN(parseInt(c)))){var l=new Date(g);l.setHours(12,0,0,0);for(var m=c.split(":"),n=0;n<m.length;n++)0==n&&l.setHours(m[n]),1==n&&l.setMinutes(m[n]),2==n&&l.setSeconds(m[n]);c=l}i&&c&&c.setFullYear&&g&&g.getFullYear&&-1==d.indexOf("d")&&-1==d.indexOf("M")&&-1==d.indexOf("y")&&c.setFullYear(g.getFullYear(),g.getMonth(),g.getDate());var o=function(b,c){switch(null==b&&(b=""),f){case"EQUAL":return b.toString()==c.toString();case"NOT_EQUAL":return b.toString()!=c.toString();case"GREATER_THAN":return b>c;case"GREATER_THAN_OR_EQUAL":return b>=c;case"LESS_THAN":return c>b;case"LESS_THAN_OR_EQUAL":return c>=b;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b.toString(),c.toString());case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b.toString(),c.toString());case"CONTAINS":return a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b.toString(),c.toString());case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b.toString(),c.toString());default:return!0}},p=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var j=o(g,c);if(j)return j;var q=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,r=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,s=c.indexOf(" and ")>=0?c.split(" and "):new Array,t=c.indexOf(" or ")>=0?c.split(" or "):new Array;q=q.concat(s),r=r.concat(t);var u=c.indexOf("|")>=0?c.split("|"):new Array;if(u.length>0)for(var n=0;n<u.length;n++)u[n]=a.trim(u[n]);if(r=r.concat(u),q.length>0)for(var n=0;n<q.length;n++)!q[n].indexOf(" OR ")>=0&&p.push(q[n]);if(r.length>0)for(var n=0;n<r.length;n++)!r[n].indexOf(" AND ")>=0&&p.push(r[n]);for(var v=void 0,w=0;w<p.length;w++){var b=p[w];if(b&&b.indexOf&&b.indexOf("..")>=0){var x=b.toString().split("..");2==x.length&&(j=g>=x[0]&&g<=x[1])}else var j=o(g,b);var y=w<q.length?"and":"or";v=void 0==v?j:"or"==y?v||j:v&&j}return v}return c&&c.indexOf&&c.indexOf("..")>=0&&(p=c.toString().split(".."),2==p.length)?g>=p[0]&&g<=p[1]:o(g,c)}},n=function(a,b,c){this.filtervalue=a,this.comparisonoperator=b,this.evaluate=function(a){return c(this.filtervalue,a,this.comparisonoperator)}}}}(jQuery),function(a){function b(b,c){return this.owner=b,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.enabletooltips=!0,this.columngroup=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(a,b){if(this[a]){var c=this[a];this[a]=b,this.owner._columnPropertyChanged(this,a,b,c)}else if(this[a.toLowerCase()]){var c=this[a.toLowerCase()];this[a.toLowerCase()]=b,this.owner._columnPropertyChanged(this,a.toLowerCase(),b,c)}},this._initfields=function(c){if(null!=c){var d=this.that;if(a.jqx.hasProperty(c,"dataField")&&(this.datafield=a.jqx.get(c,"dataField")),this.displayfield=a.jqx.hasProperty(c,"displayField")?a.jqx.get(c,"displayField"):this.datafield,a.jqx.hasProperty(c,"enableTooltips")&&(this.enabletooltips=a.jqx.get(c,"enableTooltips")),a.jqx.hasProperty(c,"text")&&(this.text=a.jqx.get(c,"text")),a.jqx.hasProperty(c,"sortable")&&(this.sortable=a.jqx.get(c,"sortable")),a.jqx.hasProperty(c,"hideable")&&(this.hideable=a.jqx.get(c,"hideable")),a.jqx.hasProperty(c,"hidden")&&(this.hidden=a.jqx.get(c,"hidden")),a.jqx.hasProperty(c,"groupable")&&(this.groupable=a.jqx.get(c,"groupable")),a.jqx.hasProperty(c,"renderer")&&(this.renderer=a.jqx.get(c,"renderer")),a.jqx.hasProperty(c,"align")&&(this.align=a.jqx.get(c,"align")),a.jqx.hasProperty(c,"cellsAlign")&&(this.cellsalign=a.jqx.get(c,"cellsAlign")),a.jqx.hasProperty(c,"cellsFormat")&&(this.cellsformat=a.jqx.get(c,"cellsFormat")),a.jqx.hasProperty(c,"width")&&(this.width=a.jqx.get(c,"width")),a.jqx.hasProperty(c,"minWidth")&&(this.minwidth=a.jqx.get(c,"minWidth")),a.jqx.hasProperty(c,"maxWidth")&&(this.maxwidth=a.jqx.get(c,"maxWidth")),a.jqx.hasProperty(c,"cellsRenderer")&&(this.cellsrenderer=a.jqx.get(c,"cellsRenderer")),a.jqx.hasProperty(c,"columnType")&&(this.columntype=a.jqx.get(c,"columnType")),a.jqx.hasProperty(c,"checkChange")&&(this.checkchange=a.jqx.get(c,"checkChange")),a.jqx.hasProperty(c,"buttonClick")&&(this.buttonclick=a.jqx.get(c,"buttonClick")),a.jqx.hasProperty(c,"pinned")&&(this.pinned=a.jqx.get(c,"pinned")),a.jqx.hasProperty(c,"visibleIndex")&&(this.visibleindex=a.jqx.get(c,"visibleIndex")),a.jqx.hasProperty(c,"filterable")&&(this.filterable=a.jqx.get(c,"filterable")),a.jqx.hasProperty(c,"filter")&&(this.filter=a.jqx.get(c,"filter")),a.jqx.hasProperty(c,"resizable")&&(this.resizable=a.jqx.get(c,"resizable")),a.jqx.hasProperty(c,"editable")&&(this.editable=a.jqx.get(c,"editable")),a.jqx.hasProperty(c,"initEditor")&&(this.initeditor=a.jqx.get(c,"initEditor")),a.jqx.hasProperty(c,"createEditor")&&(this.createeditor=a.jqx.get(c,"createEditor")),a.jqx.hasProperty(c,"destroyEditor")&&(this.destroyeditor=a.jqx.get(c,"destroyEditor")),a.jqx.hasProperty(c,"getEditorValue")&&(this.geteditorvalue=a.jqx.get(c,"getEditorValue")),a.jqx.hasProperty(c,"validation")&&(this.validation=a.jqx.get(c,"validation")),a.jqx.hasProperty(c,"cellBeginEdit")&&(this.cellbeginedit=a.jqx.get(c,"cellBeginEdit")),a.jqx.hasProperty(c,"cellEndEdit")&&(this.cellendedit=a.jqx.get(c,"cellEndEdit")),a.jqx.hasProperty(c,"className")&&(this.classname=a.jqx.get(c,"className")),a.jqx.hasProperty(c,"cellClassName")&&(this.cellclassname=a.jqx.get(c,"cellClassName")),a.jqx.hasProperty(c,"menu")&&(this.menu=a.jqx.get(c,"menu")),a.jqx.hasProperty(c,"aggregates")&&(this.aggregates=a.jqx.get(c,"aggregates")),a.jqx.hasProperty(c,"aggregatesRenderer")&&(this.aggregatesrenderer=a.jqx.get(c,"aggregatesRenderer")),a.jqx.hasProperty(c,"createFilterWidget")&&(this.createfilterwidget=a.jqx.get(c,"createFilterWidget")),a.jqx.hasProperty(c,"filterType")&&(this.filtertype=a.jqx.get(c,"filterType")),a.jqx.hasProperty(c,"rendered")&&(this.rendered=a.jqx.get(c,"rendered")),a.jqx.hasProperty(c,"exportable")&&(this.exportable=a.jqx.get(c,"exportable")),a.jqx.hasProperty(c,"filterItems")&&(this.filteritems=a.jqx.get(c,"filterItems")),a.jqx.hasProperty(c,"cellValueChanging")&&(this.cellvaluechanging=a.jqx.get(c,"cellValueChanging")),a.jqx.hasProperty(c,"draggable")&&(this.draggable=a.jqx.get(c,"draggable")),a.jqx.hasProperty(c,"filterCondition")&&(this.filtercondition=a.jqx.get(c,"filterCondition")),a.jqx.hasProperty(c,"threeStateCheckbox")&&(this.threestatecheckbox=a.jqx.get(c,"threeStateCheckbox")),a.jqx.hasProperty(c,"nullable")&&(this.nullable=a.jqx.get(c,"nullable")),a.jqx.hasProperty(c,"columnGroup")&&(this.columngroup=a.jqx.get(c,"columnGroup")),!c instanceof String&&"string"!=typeof c)for(var e in c)if(!d.hasOwnProperty(e)&&!d.hasOwnProperty(e.toLowerCase()))throw b.host.remove(),new Error("jqxGrid: Invalid property name - "+e+".")
}},this._initfields(c),this}function c(a,b){return this.setdata=function(a){null!=a&&(this.bounddata=a,this.boundindex=a.boundindex,this.visibleindex=a.visibleindex,this.group=a.group,this.parentbounddata=a.parentItem,this.uniqueid=a.uniqueid,this.level=a.level)},this.setdata(b),this.parentrow=null,this.subrows=new Array,this.owner=a,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(a){this.hidden=a.hidden,this.rowdetails=a.rowdetails,this.rowdetailsheight=a.rowdetailsheight,this.rowdetailshidden=!a.showdetails,this.height=a.height},this}a.jqx.jqxWidget("jqxGrid","",{}),a.extend(a.jqx._jqxGrid.prototype,{defineInstance:function(){this.disabled=!1,this.width=600,this.height=400,this.pagerheight=28,this.groupsheaderheight=34,this.pagesize=10,this.pagesizeoptions=["5","10","20"],this.rowsheight=25,this.columnsheight=25,this.filterrowheight=31,this.groupindentwidth=30,this.rowdetails=!1,this.enablerowdetailsindent=!0,this.enablemousewheel=!0,this.initrowdetails=null,this.layoutrowdetails=null,this.editable=!1,this.editmode="selectedcell",this.pageable=!1,this.pagermode="default",this.pagerbuttonscount=5,this.groupable=!1,this.sortable=!1,this.filterable=!1,this.filtermode="default",this.autoshowfiltericon=!0,this.showfiltercolumnbackground=!0,this.showpinnedcolumnbackground=!0,this.showsortcolumnbackground=!0,this.altrows=!1,this.altstart=1,this.altstep=1,this.showrowdetailscolumn=!0,this.showtoolbar=!1,this.toolbarheight=34,this.showstatusbar=!1,this.statusbarheight=34,this.enableellipsis=!0,this.groups=[],this.groupsrenderer=null,this.groupcolumnrenderer=null,this.groupsexpandedbydefault=!1,this.pagerrenderer=null,this.touchmode="auto",this.columns=[],this.selectedrowindex=-1,this.selectedrowindexes=new Array,this.selectedcells=new Array,this.autobind=!0,this.selectedcell=null,this.tableZIndex=799,this.headerZIndex=199,this.updatefilterconditions=null,this.showaggregates=!1,this.showfilterrow=!1,this.autorowheight=!1,this.autokoupdates=!0,this.handlekeyboardnavigation=null,this.showsortmenuitems=!0,this.showfiltermenuitems=!0,this.showgroupmenuitems=!0,this.enablebrowserselection=!1,this.enablekeyboarddelete=!0,this.clipboard=!0,this.ready=null,this.updatefilterpanel=null,this.autogeneratecolumns=!1,this.rowdetailstemplate=null,this.scrollfeedback=null,this.rendertoolbar=null,this.renderstatusbar=null,this.rendered=null,this.multipleselectionbegins=null,this.columngroups=null,this.cellhover=null,this.source={beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},this.dataview=null,this.updatedelay=null,this.autoheight=!1,this.autowidth=!1,this.showheader=!0,this.showgroupsheader=!0,this.closeablegroups=!0,this.scrollbarsize=a.jqx.utilities.scrollBarSize,this.touchscrollbarsize=a.jqx.utilities.touchScrollBarSize,this.virtualmode=!1,this.sort=null,this.columnsmenu=!0,this.columnsresize=!1,this.columnsreorder=!1,this.columnsmenuwidth=15,this.autoshowcolumnsmenubutton=!0,this.popupwidth="auto",this.sorttogglestates=2,this.rendergridrows=null,this.enableanimations=!0,this.enabletooltips=!1,this.selectionmode="singlerow",this.enablehover=!0,this.loadingerrormessage="The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",this.verticalscrollbarstep=25,this.verticalscrollbarlargestep=400,this.horizontalscrollbarstep=10,this.horizontalscrollbarlargestep=50,this.keyboardnavigation=!0,this.touchModeStyle="auto",this.autoshowloadelement=!0,this.showdefaultloadelement=!0,this.showemptyrow=!0,this.autosavestate=!1,this.autoloadstate=!1,this._updating=!1,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this._requiresupdate=!1,this._hasOpenedMenu=!1,this.scrollmode="physical",this.deferreddatafields=null,this.localization=null,this.rtl=!1,this.menuitemsarray=[],this.events=["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]},createInstance:function(){this.that=this;var b="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+this.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(this.element.innerText="",this.element.innerHTML="",15!=a.jqx.utilities.scrollBarSize&&(this.scrollbarsize=a.jqx.utilities.scrollBarSize),this.source){this.source.dataBind||(this.source=new a.jqx.dataAdapter(this.source));var c=this.source._source.datafields;c&&c.length>0&&(this._camelCase=void 0!==this.source._source.dataFields,this.editmode=this.editmode.toLowerCase(),this.selectionmode=this.selectionmode.toLowerCase())}this.host.attr("role","grid"),this.host.attr("align","left"),this.element.innerHTML=b,this.host.addClass(this.toTP("jqx-grid")),this.host.addClass(this.toTP("jqx-reset")),this.host.addClass(this.toTP("jqx-rc-all")),this.host.addClass(this.toTP("jqx-widget")),this.host.addClass(this.toTP("jqx-widget-content")),this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var d=this.host.find("#verticalScrollBar"+this.element.id),e=this.host.find("#horizontalScrollBar"+this.element.id);if(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),!d.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(this.editors=new Array,this.vScrollBar=d.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=e.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.groupsheader=this.host.find("#groupsheader"),this.groupsheader.addClass(this.toTP("jqx-grid-groups-header")),this.groupsheader.addClass(this.toTP("jqx-widget-header")),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance,this.gridtable=null,this.isNestedGrid=this.host.parent()?2e3==this.host.parent().css("z-index"):!1,this.touchdevice=this.isTouchDevice(),this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this.rowdetailstemplate&&(void 0==this.rowdetailstemplate.rowdetails&&(this.rowdetailstemplate.rowdetails="<div></div>"),void 0==this.rowdetailstemplate.rowdetailsheight&&(this.rowdetailstemplate.rowdetailsheight=200),void 0==this.rowdetailstemplate.rowdetailshidden&&(this.rowdetailstemplate.rowdetailshidden=!0)),this.showfilterrow&&!this.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(this.autorowheight&&!this.autoheight&&!this.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(this.virtualmode&&null==this.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(this.virtualmode&&!this.pageable&&this.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!this._testmodules()){if(this._builddataloadelement(),this._cachedcolumns=this.columns,25!=this.rowsheight&&this._measureElement("cell"),(25!=this.columnsheight||this.columngroups)&&this._measureElement("column"),this.source){var c=this.source.datafields;if(null==c&&this.source._source&&(c=this.source._source.datafields),c)for(var f=0;f<this.columns.length;f++){var g=this.columns[f];if(g&&g.cellsformat&&g.cellsformat.length>2)for(var h=0;h<c.length;h++)if(c[h].name==g.datafield&&!c[h].format){c[h].format=g.cellsformat;break}}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","visible"),this.showstatusbar&&this.statusbar.css("visibility","visible"),this._arrange(),this.pageable&&this._initpager&&this._initpager(),this.tableheight=null;var i=this.that,j=function(){i.content&&(i.content[0].scrollTop=0,i.content[0].scrollLeft=0),i.gridcontent&&(i.gridcontent[0].scrollLeft=0,i.gridcontent[0].scrollTop=0)};this.addHandler(this.content,"mousedown",function(){j()}),this.addHandler(this.content,"scroll",function(){return j(),!1}),this.showfilterrow||(this.showstatusbar||this.showtoolbar||this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),this.enablebrowserselection&&(this.content.removeClass("jqx-disableselect"),this.host.removeClass("jqx-disableselect")),this._resizeWindow(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.hasTransform=a.jqx.utilities.hasTransform(this.host),"logical"==this.scrollmode&&(this.vScrollInstance.thumbStep=this.rowsheight,this.vScrollInstance.step=this.rowsheight),a.jqx.isHidden(this.host)||(this.filterable||this.groupable||this.sortable)&&this._initmenu()}},_resizeWindow:function(){var b=this.that;(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&(this._updatesizeonwindowresize=!0,a.jqx.utilities.resize(this.host,function(c){var d=a(window).width(),e=a(window).height(),f=b.host.width(),g=b.host.height();if(b.autoheight&&(b._lastHostWidth=e),b._lastHostWidth!=f||b._lastHostHeight!=g){if(b.touchdevice&&b.editcell&&"orientationchange"!==c)return;b._updatesize(b._lastHostWidth!=f,b._lastHostHeight!=g)}b._lastWidth=d,b._lastHeight=e,b._lastHostWidth=f,b._lastHostHeight=g}))},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=a('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var b=a('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");b.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),b.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(b)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement)},_measureElement:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");c.addClass(this.toTP("jqx-widget")),a(document.body).append(c),"cell"==b?this._cellheight=c.height():this._columnheight=c.height(),c.remove()},_measureMenuElement:function(){var b=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");b.addClass(this.toTP("jqx-widget")),b.addClass(this.toTP("jqx-menu")),b.addClass(this.toTP("jqx-menu-item-top")),b.addClass(this.toTP("jqx-fill-state-normal")),a(document.body).append(b);var c=b.outerHeight();return b.remove(),c},_measureElementWidth:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>"+b+"</span>");c.addClass(this.toTP("jqx-widget")),c.addClass(this.toTP("jqx-grid")),c.addClass(this.toTP("jqx-grid-column-header")),c.addClass(this.toTP("jqx-widget-header")),a(document.body).append(c);var d=c.outerWidth()+20;return c.remove(),d},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},_testmodules:function(){var b="",c=this.that,d=function(){""!=b.length&&(b+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(d(),b+=" jqxmenu.js"),this.host.jqxScrollBar||(d(),b+=" jqxscrollbar.js"),this.host.jqxButton||(d(),b+=" jqxbuttons.js"),a.jqx.dataAdapter||(d(),b+=" jqxdata.js"),this.pageable&&!this.gotopage&&(d(),b+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(d(),b+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(d(),b+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(d(),b+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(d(),b+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(d(),b+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(d(),b+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(d(),b+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(d(),b+=" jqxgrid.selection.js"),""!=b||this.editable||this.filterable||this.pageable){var e=[],f=function(a){switch(a){case"checkbox":c.host.jqxCheckBox||e.checkbox||(e.checkbox=!0,d(),b+=" jqxcheckbox.js");break;case"numberinput":c.host.jqxNumberInput||e.numberinput||(e.numberinput=!0,d(),b+=" jqxnumberinput.js");break;case"datetimeinput":c.host.jqxDateTimeInput||e.datetimeinput?c.host.jqxCalendar||e.calendar||(d(),b+=" jqxcalendar.js"):(d(),e.datetimeinput=!0,b+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":c.host.jqxComboBox||e.combobox?c.host.jqxListBox||e.listbox||(d(),e.listbox=!0,b+=" jqxlistbox.js"):(d(),e.combobox=!0,b+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":c.host.jqxDropDownList||e.dropdownlist?c.host.jqxListBox||e.listbox||(d(),e.listbox=!0,b+=" jqxlistbox.js"):(d(),e.dropdownlist=!0,b+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&f("dropdownlist");for(var g=0;g<this.columns.length;g++)if(void 0!=this.columns[g]){var h=this.columns[g].columntype;if(f(h),this.filterable&&this.showfilterrow){var h=this.columns[g].filtertype;("checkedlist"==h||"bool"==h)&&f("checkbox"),"date"==h&&f("datetimeinput")}}if(""!=b)throw new Error("jqxGrid: Missing references to the following module(s): "+b)}return!1},focus:function(){try{this.wrapper.focus();var a=this.that;setTimeout(function(){a.wrapper.focus()},25),this.focused=!0}catch(b){}},hiddenParent:function(){return a.jqx.isHidden(this.host)},resize:function(a,b){this.width=a,this.height=b,this._updatesize(!0,!0)},_updatesize:function(b,c){if(!this._loading){var d=this.that;d._newmax=null;var e=d.host.width(),f=d.host.height();d._oldWidth||(d._oldWidth=e),d._oldHeight||(d._oldHeight=f),d._resizeTimer&&clearTimeout(d._resizeTimer);var g=5;d._resizeTimer=setTimeout(function(){if(d.resizingGrid=!0,!a.jqx.isHidden(d.host)){if(d.editcell&&(d.endcelledit(d.editcell.row,d.editcell.column,!0,!0),d._oldselectedcell=null),h!=d._oldHeight||1==c){var f=d.groupable&&d.groups.length>0,g=d.vScrollBar.css("visibility");if(!d.autoheight){if(d.virtualmode&&(d._pageviews=new Array),f||d.rowdetails||d.pageable){d._arrange(),d.prerenderrequired=!0;var h=Math.round(d.host.height())+2*d.rowsheight;realheight=d._gettableheight();var i=Math.round(h/d.rowsheight),j=Math.max(d.dataview.totalrows,d.dataview.totalrecords);d.pageable&&(j=d.pagesize,d.pagesize>Math.max(d.dataview.totalrows,d.dataview.totalrecords)&&d.autoheight?j=Math.max(d.dataview.totalrows,d.dataview.totalrecords):d.autoheight||d.dataview.totalrows<d.pagesize&&(j=Math.max(d.dataview.totalrows,d.dataview.totalrecords)));{j*d.rowsheight,d._getpagesize()}!d.pageable&&d.autoheight&&(i=j),d.virtualsizeinfo&&(d.virtualsizeinfo.visiblerecords=i),d.rendergridcontent(!0,!1),d._renderrows(d.virtualsizeinfo)}else{d._arrange(),d.virtualsizeinfo=d._calculatevirtualheight();var h=Math.round(d.host.height())+2*d.rowsheight;parseInt(h)>=parseInt(d._oldHeight)&&(d.prerenderrequired=!0),d._renderrows(d.virtualsizeinfo)}g!=d.vScrollBar.css("visibility")&&(d.vScrollInstance.setPosition(0),d._arrange(),d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths())}}if(e!=d._oldWidth||1==b){var k=!1;if(d.editcell&&d.editcell.editor)switch(d.editcell.columntype){case"dropdownlist":if(k=d.editcell.editor.jqxDropDownList("isOpened")||d.editcell.editor.jqxDropDownList("isanimating")&&!d.editcell.editor.jqxDropDownList("ishiding"))return d.editcell.editor.jqxDropDownList({openDelay:0}),d.editcell.editor.jqxDropDownList("open"),void d.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(k=d.editcell.editor.jqxComboBox("isOpened")||d.editcell.editor.jqxComboBox("isanimating")&&!d.editcell.editor.jqxComboBox("ishiding"))return d.editcell.editor.jqxComboBox({openDelay:0}),d.editcell.editor.jqxComboBox("open"),void d.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(k)return k=d.editcell.editor.jqxDateTimeInput("isOpened")||d.editcell.editor.jqxDateTimeInput("isanimating")&&!d.editcell.editor.jqxDateTimeInput("ishiding"),d.editcell.editor.jqxDateTimeInput({openDelay:0}),d.editcell.editor.jqxDateTimeInput("open"),void d.editcell.editor.jqxDateTimeInput({openDelay:250})}var l=d.hScrollBar.css("visibility");d._arrange(),d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths(),0==b&&d._oldWidth>e||c&&0!=d.dataview.rows.length||d._renderrows(d.virtualsizeinfo),l!=d.hScrollBar.css("visibility")&&d.hScrollInstance.setPosition(0)}d._oldWidth=e,d._oldHeight=h,d.resizingGrid=!1}},g)}},getTouches:function(b){return a.jqx.mobile.getTouches(b)},_updateTouchScrolling:function(){var b=this.that;if(b.isTouchDevice()){b.scrollmode="logical",b.vScrollInstance.thumbStep=b.rowsheight;var c=a.jqx.mobile.getTouchEventName("touchstart"),d=a.jqx.mobile.getTouchEventName("touchend"),e=a.jqx.mobile.getTouchEventName("touchmove");b.enablehover=!1,b.gridcontent&&(b.removeHandler(b.gridcontent,c+".touchScroll"),b.removeHandler(b.gridcontent,e+".touchScroll"),b.removeHandler(b.gridcontent,d+".touchScroll"),b.removeHandler(b.gridcontent,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(b.gridcontent[0],b.vScrollInstance.max,function(a,c){if("visible"==b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c)}if("visible"==b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a)}b.vScrollInstance.thumbCapture=!0,b._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),b._overlayElement&&(b.removeHandler(b._overlayElement,c+".touchScroll"),b.removeHandler(b._overlayElement,e+".touchScroll"),b.removeHandler(b._overlayElement,d+".touchScroll"),b.removeHandler(b._overlayElement,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(b._overlayElement[0],b.vScrollInstance.max,function(a,c){if("visible"==b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c)}if("visible"==b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a)}b.vScrollInstance.thumbCapture=!0,b._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,c,function(){b.editcell?b._overlayElement.css("visibility","hidden"):b._overlayElement.css("visibility","visible")}),this.addHandler(this.host,d,function(){b.editcell?b._overlayElement.css("visibility","hidden"):b._overlayElement.css("visibility","visible")})))}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var b=a.jqx.mobile.isTouchDevice();if(this.touchDevice=b,1==this.touchmode){if(a.jqx.browser.msie&&a.jqx.browser.version<9)return this.enablehover=!1,!1;b=!0,a.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=b}else 0==this.touchmode&&(b=!1);return b&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),b},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(b,c){if(this._cellscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=b){for(var d in b)d.toLowerCase()!==d&&(b[d.toLowerCase()]=b[d]);if(b.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=b.pagergotopagestring),b.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=b.pagershowrowsstring),b.pagerrangestring&&(this.gridlocalization.pagerrangestring=b.pagerrangestring),b.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=b.pagernextbuttonstring),b.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=b.pagerpreviousbuttonstring),b.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=b.pagerfirstbuttonstring),b.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=b.pagerlastbuttonstring),b.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=b.groupsheaderstring),b.sortascendingstring&&(this.gridlocalization.sortascendingstring=b.sortascendingstring),b.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=b.sortdescendingstring),b.sortremovestring&&(this.gridlocalization.sortremovestring=b.sortremovestring),b.groupbystring&&(this.gridlocalization.groupbystring=b.groupbystring),b.groupremovestring&&(this.gridlocalization.groupremovestring=b.groupremovestring),b.firstDay&&(this.gridlocalization.firstDay=b.firstDay),b.days&&(this.gridlocalization.days=b.days),b.months&&(this.gridlocalization.months=b.months),b.AM&&(this.gridlocalization.AM=b.AM),b.PM&&(this.gridlocalization.PM=b.PM),b.patterns&&(this.gridlocalization.patterns=b.patterns),b.percentsymbol&&(this.gridlocalization.percentsymbol=b.percentsymbol),b.currencysymbol&&(this.gridlocalization.currencysymbol=b.currencysymbol),b.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=b.currencysymbolposition),void 0!=b.decimalseparator&&(this.gridlocalization.decimalseparator=b.decimalseparator),void 0!=b.thousandsseparator&&(this.gridlocalization.thousandsseparator=b.thousandsseparator),b.filterclearstring&&(this.gridlocalization.filterclearstring=b.filterclearstring),b.filterstring&&(this.gridlocalization.filterstring=b.filterstring),b.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=b.filtershowrowstring),b.filterselectallstring&&(this.gridlocalization.filterselectallstring=b.filterselectallstring),b.filterchoosestring&&(this.gridlocalization.filterchoosestring=b.filterchoosestring),b.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=b.filterorconditionstring),b.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=b.filterandconditionstring),b.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=b.filterstringcomparisonoperators),b.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=b.filternumericcomparisonoperators),b.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=b.filterdatecomparisonoperators),b.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=b.filterbooleancomparisonoperators),b.emptydatastring&&(this.gridlocalization.emptydatastring=b.emptydatastring),b.filterselectstring&&(this.gridlocalization.filterselectstring=b.filterselectstring),b.todaystring&&(this.gridlocalization.todaystring=b.todaystring),b.clearstring&&(this.gridlocalization.clearstring=b.clearstring),b.validationstring&&(this.gridlocalization.validationstring=b.validationstring),b.loadtext&&(this.gridlocalization.loadtext=b.loadtext),c!==!1){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var d in this._filterrowcache)a(this._filterrowcache[d]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today"}},_initmenu:function(){var b=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array,this.gridmenu=a('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu);var c=a("<ul></ul>"),d='<div class="jqx-grid-sortasc-icon"></div>',e=a("<li>"+d+this.gridlocalization.sortascendingstring+"</li>"),f='<div class="jqx-grid-sortdesc-icon"></div>',g=a("<li>"+f+this.gridlocalization.sortdescendingstring+"</li>"),h='<div class="jqx-grid-sortremove-icon"></div>',i=a("<li>"+h+this.gridlocalization.sortremovestring+"</li>"),j='<div class="jqx-grid-groupby-icon"></div>',k=a("<li>"+j+this.gridlocalization.groupbystring+"</li>"),l=a("<li>"+j+this.gridlocalization.groupremovestring+"</li>"),m=a('<li type="separator"></li>'),n=a('<li class="filter" style="height: 175px;" ignoretheme="true"><div class="filter"></div></li>'),o=this.gridlocalization.sortascendingstring.length,p=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>o&&(o=this.gridlocalization.sortdescendingstring.length,p=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>o&&(o=this.gridlocalization.sortremovestring.length,p=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>o&&(o=this.gridlocalization.groupbystring.length,p=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>o&&(o=this.gridlocalization.groupremovestring.length,p=this.gridlocalization.groupremovestring));var q=200;p=a.trim(p).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var r=a("<span>"+p+"</span>");r.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(r),q=r.outerWidth()+60,r.remove();var s=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(c.append(e),this.menuitemsarray[0]=e[0],c.append(g),this.menuitemsarray[1]=g[0],c.append(i),this.menuitemsarray[2]=i[0],s=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(c.append(k),this.menuitemsarray[3]=k[0],c.append(l),this.menuitemsarray[4]=l[0],s+=2);var t=this._measureMenuElement(),u=s*t+9,v=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=n[0],this.menuitemsarray[6]=n[0],c.append(m),c.append(n),u+=180,a.jqx.browser.msie&&a.jqx.browser.version<8&&(u+=20);var w=a(n).find("div:first");q+=20,this._initfilterpanel(this,w,"",q),v=!1,this.removeHandler(a(document),"click.menu"+b.element.id,b._closemenuafterclick,b),this.addHandler(a(document),"click.menu"+b.element.id,b._closemenuafterclick,b)
}if(this.gridmenu.append(c),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.filterable&&(a("#listBoxfilter1"+this.element.id).css("z-index",4990),a("#listBoxfilter2"+this.element.id).css("z-index",4990),a("#listBoxfilter3"+this.element.id).css("z-index",4990),a("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(a("#gridmenu"+this.element.id),"initialized",function(){a("#menuWrappergridmenu"+b.element.id).css("z-index",4980)})),void 0==this.menuitemsarray[0]&&(u=65),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(c){if(27==c.keyCode)b.gridmenu.jqxMenu("close");else if(13==c.keyCode&&b.filterable&&b._buildfilter){var d="block"==a(a.find("#filter1"+b.element.id)).jqxDropDownList("container").css("display"),e="block"==a(a.find("#filter2"+b.element.id)).jqxDropDownList("container").css("display"),f="block"==a(a.find("#filter3"+b.element.id)).jqxDropDownList("container").css("display"),g=a(a.find("#filterclearbutton"+b.element.id)).hasClass("jqx-fill-state-focus");if(g){var h=a.data(document.body,"contextmenu"+b.element.id).column;b._clearfilter(b,b.element,h),b.gridmenu.jqxMenu("close")}else if(!d&&!e&&!f){var h=a.data(document.body,"contextmenu"+b.element.id).column;b.gridmenu.jqxMenu("close"),b._buildfilter(b,n,h)}}}),"auto"!=this.popupwidth&&(q=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:999999,width:q,height:u,autoCloseOnClick:v,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",n[0].id,"closeOnClick",!1),this.rtl){var x=this.that;a.each(c.find("li"),function(){a(this).addClass(x.toTP("jqx-rtl"))});var y=function(a){var b=a.find("div");b.css("float","right"),b.css("margin-left","4px"),b.css("margin-right","-4px")};y(i),y(g),y(e),y(k),y(l)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var b=this.gridlocalization.sortascendingstring.length,c=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>b&&(b=this.gridlocalization.sortdescendingstring.length,c=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>b&&(b=this.gridlocalization.sortremovestring.length,c=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>b&&(b=this.gridlocalization.groupbystring.length,c=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>b&&(b=this.gridlocalization.groupremovestring.length,c=this.gridlocalization.groupremovestring));var d=200;c=a.trim(c).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var e=a("<span>"+c+"</span>");e.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(e),d=e.outerWidth()+60,e.remove();var f=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(f=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(f+=2);var g=27*f+3;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(g+=180,d+=20,a.jqx.browser.msie&&a.jqx.browser.version<8&&(g+=20)),void 0==this.menuitemsarray[0]&&(g=65),"auto"!=this.popupwidth&&(d=this.popupwidth),this.gridmenu.jqxMenu({width:d,height:g})},_closemenuafterclick:function(b){var c=null!=b?b.data:this,d=!1;if(void 0==b.target||void 0!=b.target&&void 0==b.target.className.indexOf)return void c.gridmenu.jqxMenu("close");if(-1==b.target.className.indexOf("filter")||-1!=b.target.className.indexOf("jqx-grid-cell-filter")){if(-1!=b.target.className.indexOf("jqx-grid-cell"))return void c.gridmenu.jqxMenu("close");if(!c._hasOpenedMenu||!a(b.target).ischildof(c.gridmenu)){var e=(c.host.coord(),c.gridmenu.coord()),f=b.pageX,g=b.pageY;if(a.each(a(b.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(d=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(d=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(c.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(c.gridmenu.jqxMenu("close"),!1):void 0}),!d){try{if("default"===c.filtermode){var h=a(a.find("#filter1"+c.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup,i=new Date;if(100>i-h)return;var j=a(a.find("#filter3"+c.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(100>i-j)return;if("block"==a(a.find("#filter3"+c.element.id)).jqxDropDownList("container").css("display"))return;if("block"==a(a.find("#filter1"+c.element.id)).jqxDropDownList("container").css("display"))return;if("block"==a(a.find("#filter2"+c.element.id)).jqxDropDownList("container").css("display"))return;if(c._hasdatefilter&&"div"==a(".filtertext1"+c.element.id)[0].nodeName.toLowerCase()){if("block"==a(".filtertext1"+c.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==a(".filtertext2"+c.element.id).jqxDateTimeInput("container").css("display"))return}}else{var h=a(a.find("#filter1"+c.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,i=new Date;if(100>i-h)return;var j=a(a.find("#filter1"+c.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(100>i-j)return}}catch(k){}f>=e.left&&f<=e.left+c.gridmenu.width()&&g>=e.top&&g<=e.top+c.gridmenu.height()||c.gridmenu.jqxMenu("close")}}}},_handlemenueevents:function(){var b=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(){b._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(c){for(var d=c.args,e=0;e<b.menuitemsarray.length;e++){var f=b.menuitemsarray[e];if(d==f){if(void 0!=a(d).attr("ignoretheme"))return;var g=a.data(document.body,"contextmenu"+b.element.id),h=g.column;b.filterable&&b.gridmenu.jqxMenu("close");var i=h.displayfield;if(null==i&&(i=h.datafield),null!=g)switch(e){case 0:b.sortby(i,"ascending",null);break;case 1:b.sortby(i,"descending",null);break;case 2:b.sortby(i,null,null);break;case 3:b.addgroup(h.datafield);break;case 4:b.removegroup(h.datafield);break;case 5:var j=a(b.menuitemsarray[6]);a(j).css("display","block");break;case 7:}break}}})},getdatainformation:function(){var a=this.dataview.totalrecords;return this.summaryrows&&(a+=this.summaryrows.length),{rowscount:a,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var b=this.that;this.hiddens=new Array;var c=this.hiddenboundrows;a.each(c,function(a){if(void 0!=this.index){var c=(this.index,b.getrowvisibleindex(a));b.hiddens[c]=this.hidden}})},_updaterowheights:function(){var b=this.that;this.heights=new Array;var c=this.heightboundrows;a.each(c,function(a){if(void 0!=this.index){var c=(this.index,b.getrowvisibleindex(a));b.heights[c]=this.height}})},_updaterowdetails:function(){var b=this.that;this.details=new Array;var c=this.detailboundrows;a.each(c,function(a){if(void 0!=this.index){var c=(this.index,b.getrowvisibleindex(a));b.details[c]=this.details}})},_getmenuitembyindex:function(a){return void 0==a?null:this.menuitemsarray[a]},openmenu:function(b){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var c=this.getcolumn(b);if(!c.menu)return!1;this.gridmenu||this._initmenu();var d=c.columnsmenu;a(c.element).trigger("mouseenter");for(var e=this,f=0;f<e.columns.records.length;f++)e.columns.records[f].datafield!=b&&a(e.columns.records[f].element).trigger("mouseleave");setTimeout(function(){"block"==a(d)[0].style.display&&a(d).trigger("click"),e._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var b=a.data(document.body,"contextmenu"+this.element.id);if(null!=b&&this.autoshowcolumnsmenubutton){if(this.enableanimations){a(b.columnsmenu).animate({"margin-left":0},"fast",function(){a(b.columnsmenu).css("display","none")});var c=this.rtl?0:-32;b.column.iconscontainer.animate({"margin-left":c},"fast")}else{a(b.columnsmenu).css("display","none");var c=this.rtl?0:-32;b.column.iconscontainer.css("margin-left",c)}a.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1;var d=this._getmenuitembyindex(5);if(d){var e=a(d).find("#filter1"+this.element.id),f=a(d).find("#filter2"+this.element.id),g=a(d).find("#filter3"+this.element.id);e.length>0&&"default"===this.filtermode&&(e.jqxDropDownList("hideListBox"),f.jqxDropDownList("hideListBox"),g.jqxDropDownList("hideListBox"))}}},scrolloffset:function(a,b){null!=a&&null!=b&&void 0!=a&&void 0!=b&&(this.vScrollBar.jqxScrollBar("setPosition",a),this.hScrollBar.jqxScrollBar("setPosition",b))},scrollleft:function(a){null!=a&&void 0!=a&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",a)},scrolltop:function(a){null!=a&&void 0!=a&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",a)},beginupdate:function(){this._updating=!0,this._datachanged=!1},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,1==this._datachanged){var a=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=a&&a<this.vScrollInstance.max&&this.scrolltop(a)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block")},hideloadelement:function(){a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var a=this.that;a.focusedfilter&&(a.focusedfilter.focus(),setTimeout(function(){if(a.focusedfilter.focus(),"input"==a.focusedfilter[0].nodeName.toLowerCase()){var b=a.focusedfilter.val().length;try{if("selectionStart"in a.focusedfilter[0])a.focusedfilter[0].setSelectionRange(b,b);else{var c=a.focusedfilter[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}catch(d){}}},10))},databind:function(b,c){if(this.loadingstate!==!0){"block"==this.host.css("display")&&(this.autoshowloadelement?(a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var d=this.that;null==b&&(b={}),b.recordstartindex||(b.recordstartindex=0),b.recordendindex||(b.recordendindex=0),(void 0==b.loadallrecords||null==b.loadallrecords)&&(b.loadallrecords=!0),(void 0==b.sortcomparer||null==b.sortcomparer)&&(b.sortcomparer=null),(void 0==b.filter||null==b.filter)&&(b.filter=null),(void 0==b.sort||null==b.sort)&&(b.sort=null),(void 0==b.data||null==b.data)&&(b.data=null);var e=null;if(null!=b&&(e=void 0!=b._source?b._source.url:b.url),this.dataview=this.dataview||new a.jqx.dataview,a.jqx.dataview.sort&&a.extend(this.dataview,new a.jqx.dataview.sort),a.jqx.dataview.grouping&&a.extend(this.dataview,new a.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!d.initializedcall){if(b._source&&this.sortable&&(void 0!=b._source.sortcolumn&&(this.sortcolumn=b._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=b._source.sortcolumn,b._source.sortcolumn=null),void 0!=b._source.sortdirection)){this.dataview.sortfielddirection=b._source.sortdirection;var f=b._source.sortdirection;if("a"==f||"asc"==f||"ascending"==f||1==f)var g=!0;else var g=!1;this.sortdirection=null!=f?{ascending:g,descending:!g}:{ascending:!1,descending:!1}}this.pageable&&b._source&&(void 0!=b._source.pagenum&&(this.dataview.pagenum=b._source.pagenum),void 0!=b._source.pagesize?(this.pagesize=b._source.pagesize,this.dataview.pagesize=b._source.pagesize):(this.dataview.pagesize=b._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(b.sortcolumn&&(this.dataview.sortfield=b.sortcolumn),b.sortdirection&&(this.dataview.sortfielddirection=b.sortdirection))}this._loading=!0,this.dataview.update=function(b){if(!d.pageable&&d.virtualmode&&(d.loadondemand=!0),d._loading=!1,d.dataview.isupdating()&&d.dataview.resumeupdate(!1),d.pageable&&d.pagerrenderer){if(!d._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");d._initpager()}if(d.source&&d.source.sortcolumn&&d.sortby&&!d.virtualmode)d.render(),d.source._source.sort||d.sortby(d.source.sortcolumn,d.source.sortdirection,d.source.sortcomparer),d.source.sortcolumn=null;else{var e=d.vScrollInstance.value,f=d.hScrollInstance.value,g=d.source?d.source.datatype:"array";if("local"!=g||"array"!=g){var h=null==d.virtualsizeinfo||null!=d.virtualsizeinfo&&0==d.virtualsizeinfo.virtualheight;if("cells"==c){var i=!1;if(d.filterable&&d._initfilterpanel&&d.dataview.filters.length&&(i=!0),0==b)return d.vScrollInstance.isScrolling()||d.hScrollInstance.isScrolling()||(d._cellscache=new Array,d._pagescache=new Array,d._renderrows(d.virtualsizeinfo),d.showfilterrow&&d.filterable&&d.filterrow&&d._updatelistfilters(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()),d.sortcolumn&&d.sortby(d.sortcolumn,d.dataview.sortfielddirection,d.source.sortcomparer),d.autoshowloadelement&&(a(d.dataloadelement).css("visibility","hidden"),a(d.dataloadelement).css("display","none")),void(d.virtualmode&&!d._loading&&(d.loadondemand=!0,d._renderrows(d.virtualsizeinfo)));i?c="filter":void 0!=d.sortcolumn&&(c="sort")}!d.virtualmode||h||d.virtualmode&&d.pageable?1==d.initializedcall&&"pagechanged"==c?(e=0,d.groupable&&d.groups.length>0?(d._render(!0,!0,!1,!1,!1),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo)):(d.rendergridcontent(!0),d.pageable&&d.updatepagerdetails&&(d.updatepagerdetails(),d.autoheight?(d._updatepageviews(),d.autorowheight&&d._renderrows(this.virtualsizeinfo)):d.autorowheight&&(d._updatepageviews(),d._renderrows(this.virtualsizeinfo)))),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):"filter"==c?d.virtualmode?(d._render(!0,!0,!1,!1,!1),d._updatefocusedfilter(),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo)):d._render(!0,!0,!1,!1,!1):"sort"==c?(d.virtualmode?(d.rendergridcontent(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):(d._render(!0,!0,!1,!1,!1),d.sortcolumn&&!d.source.sort&&d.sortby(d.sortcolumn,d.dataview.sortfielddirection,d.source.sortcomparer)),d.source.sort&&d._updatefocusedfilter()):"data"==c?d._render(!0,!0,!1,!1,!1):"state"==c?d._render(!0,!0,!1,d.menuitemsarray&&d.menuitemsarray.length>0&&!d.virtualmode):d._render(!0,!0,!0,d.menuitemsarray&&d.menuitemsarray.length>0&&!d.virtualmode):d.virtualmode&&1==b&&!d.pageable?(d._render(!0,!0,!1,!1,!1),d._updatefocusedfilter(),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo)):d.virtualmode&&!d.pageable&&0==b&&void 0!=c?(d.rendergridcontent(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):d.virtualmode&&0==d.dataview.totalrecords&&d.dataview.filters.length>0?d._render(!0,!0,!0,d.menuitemsarray&&!d.virtualmode):(d._pagescache=new Array,d._renderrows(d.virtualsizeinfo)),d.vScrollInstance.value!=e&&e<=d.vScrollInstance.max&&d.vScrollInstance.setPosition(e),d.hScrollInstance.value!=f&&f<=d.hScrollInstance.max&&d.hScrollInstance.setPosition(f)}}if(d.autoshowloadelement&&(a(d.dataloadelement).css("visibility","hidden"),a(d.dataloadelement).css("display","none")),d.pageable&&(d.pagerrightbutton&&(d.pagerrightbutton.jqxButton({disabled:!1}),d.pagerleftbutton.jqxButton({disabled:!1}),d.pagershowrowscombo.jqxDropDownList({disabled:!1})),d.pagerfirstbutton&&(d.pagerfirstbutton.jqxButton({disabled:!1}),d.pagerlastbutton.jqxButton({disabled:!1}))),d._raiseEvent(11),d.initializedcall)d._updateTouchScrolling();else{var j=function(){d._raiseEvent(0),d.initializedcall=!0,d.isInitialized=!0,d.ready&&d.ready(),d.renderstatusbar&&d.renderstatusbar(d.statusbar),d.rendertoolbar&&d.rendertoolbar(d.toolbar),d.autoloadstate&&d.loadstate&&d.loadstate(null,!0)};if(a.jqx.isHidden(d.host)?(d.readyInterval&&clearInterval(d.readyInterval),d.readyInterval=setInterval(function(){a.jqx.isHidden(d.host)||d.__isRendered&&(clearInterval(d.readyInterval),d.readyInterval=null,j(),d._initmenu())},200)):j(),null!=d.width&&-1!=d.width.toString().indexOf("%")||null!=d.height&&-1!=d.height.toString().indexOf("%"),"hidden"==d.host.css("visibility")){{a.jqx.browser.msie&&a.jqx.browser.version<8}"visible"==d.vScrollBar.css("visibility")&&d.vScrollBar.css("visibility","inherit"),d.autowidth||"visible"==d.hScrollBar.css("visibility")&&d.hScrollBar.css("visibility","inherit"),d._intervalTimer=setInterval(function(){"visible"==d.host.css("visibility")&&(d._updatesize(!0),clearInterval(d._intervalTimer))},100)}}},this.dataview.databind(b),this.dataview.isupdating()&&(void 0!=e?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(a,b){void 0!=a&&this.hScrollInstance.setPosition(a),void 0!=b&&this.vScrollInstance.setPosition(b)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(a){if(this.autoheight&&!this.pageable)return!0;var b=this._getpagesize(),c=Math.floor(a/b);if(this._pageviews[c]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0)return!0;var d=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){var c=Math.floor(a/b);if(this.dataview.pagenum!=c){if(this.groupable&&this.groups.length>0)return!0;this.gotopage(c),d=!0}}var e=this.vScrollInstance.value,f=this._gettableheight()-this.rowsheight,g=b*(a/b-c);if(g=Math.round(g),this._pageviews[c]){var h=this._pageviews[c].top,i=h+g*this.rowsheight;if(this.rowdetails)for(var j=b*c;a>j;j++)this.details[j]&&0==this.details[j].rowdetailshidden&&(i+=this.details[j].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=i+this.rowsheight&&(i=this.vScrollInstance.max),e>i?(this.scrolltop(i),d=!0):i>e+f+2&&(this.scrolltop(i-f),d=!0)}else if(this.pageable){var i=g*this.rowsheight;if(this.rowdetails)for(var j=b*c;b*c+g>j;j++)this.details[j]&&0==this.details[j].rowdetailshidden&&(i+=this.details[j].rowdetailsheight);(e>i||i>e+f)&&(this.scrollto(0,i),d=!0)}return d},ensurecellvisible:function(b,c){var d=this.that,e=this.hScrollBar.jqxScrollBar("value"),f=d.hScrollInstance.max;d.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(f=0);var g=this.ensurerowvisible(b),h=0;if(this.columns.records){var i=e;if("hidden"==this.hScrollBar.css("visibility"))return;var j=this.host.width(),k=0,l="visible"==this.vScrollBar.css("visibility")?20:0,m=!1;a.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==c){var a=0,b=d.rtl?f-e:i;return h+this.width>b+j-l?(a=h+this.width-j+l,d.rtl&&(a=f-a),d.scrollleft(a),m=!0):b>=h&&(a=h-this.width,d.rtl&&(a=f-a),d.scrollleft(a),m=!0),0==k?(d.scrollleft(d.rtl?f:0),m=!0):k==d.columns.records.length-1&&"visible"==d.hScrollBar.css("visibility")&&(d.scrollleft(d.rtl?d.hScrollBar.jqxScrollBar("min"):d.hScrollBar.jqxScrollBar("max")),m=!0),!1}k++,h+=this.width}),m||d.scrollleft(i)}return g},setrowheight:function(a,b){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return null==a||null==b?!1:(this.heightboundrows[a]={index:a,height:b},a=this.getrowvisibleindex(a),0>a?!1:(this.rows.records[a]?this.rows.records[a].height=b:(row=new c(this,null),row.height=b,this.rows.replace(a,row)),this.heights[a]=b,this.rendergridcontent(!0),!0))},getrowheight:function(a){return null==a?null:(a=this.getrowvisibleindex(a),0>a?!1:this.rows.records[a]?this.rows.records[a].height:void 0)},setrowdetails:function(b,c,d,e){if(!(void 0==b||null==b||0>b)){var f=b+"_";if(this._rowdetailscache[f]){var g=this._rowdetailscache[f].element;a(g).remove(),this._rowdetailscache[f]=null}var h=this.dataview.generatekey();return this.detailboundrows[b]={index:b,details:{rowdetails:c,rowdetailsheight:d,rowdetailshidden:e,key:h}},b=this.getrowvisibleindex(b),0>b?!1:this._setrowdetails(b,c,d,e,h)}},getcolumn:function(b){var c=null;return this.columns.records&&a.each(this.columns.records,function(){return this.datafield==b||this.displayfield==b?(c=this,!1):void 0}),c},_getcolumnindex:function(b){var c=-1;return this.columns.records&&a.each(this.columns.records,function(){return c++,this.datafield==b?!1:void 0}),c},_getcolumnat:function(a){var b=this.columns.records[a];return b},_getprevvisiblecolumn:function(a){for(var b=this.that;a>0;){a--;var c=b.getcolumnat(a);if(!c)return null;if(!c.hidden)return c}return null},_getnextvisiblecolumn:function(a){for(var b=this.that;a<this.columns.records.length;){a++;var c=b.getcolumnat(a);if(!c)return null;if(!c.hidden)return c}return null},getcolumnat:function(a){if(!isNaN(a)){var b=this.columns.records[a];return b}return null},_getcolumn:function(b){var c=null;return a.each(this._columns,function(){return this.datafield==b||this.displayfield==b?(c=this,!1):void 0}),c},_setcolumnproperty:function(a,b,c){if(null==a||null==b||null==c)return null;b=b.toLowerCase();var d=this.getcolumn(a);if(null!=d){var e=d[b];d[b]=c;var f=this._getcolumn(a);switch(null!=f&&(f[b]=c),this._cellscache=new Array,b){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo);break;case"editable":case"resizable":case"draggable":if("editable"==b&&c!=e){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==d.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==b&&this._initializeColumns(),this.rendergridcontent(!0),this.updating())return!1;"hidden"==b&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;d._width=null,d._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(a,b){if(null==a||null==b)return null;b=b.toLowerCase();var c=this.getcolumn(a);return c[b]},setcolumnproperty:function(a,b,c){this._setcolumnproperty(a,b,c)},getcolumnproperty:function(a,b){return this._getcolumnproperty(a,b)},hidecolumn:function(a){this._setcolumnproperty(a,"hidden",!0)},showcolumn:function(a){this._setcolumnproperty(a,"hidden",!1)},iscolumnvisible:function(a){return!this._getcolumnproperty(a,"hidden")},pincolumn:function(a){this._setcolumnproperty(a,"pinned",!0)},unpincolumn:function(a){this._setcolumnproperty(a,"pinned",!1)},iscolumnpinned:function(a){return this._getcolumnproperty(a,"pinned")},_setrowdetails:function(a,b,c,d,e){if(0==c&&(c=100),null==a||null==c)return!1;if(null!=e)this.details[a]={rowdetails:b,rowdetailsheight:c,rowdetailshidden:d,detailskey:e};else{for(var f=null!=this.details[a]?this.details[a].detailskey:null,g={rowdetails:b,rowdetailsheight:c,rowdetailshidden:d,detailskey:f},h=(this.that,0);h<this.detailboundrows.length;h++)if(void 0!=this.detailboundrows[h]){var i=this.detailboundrows[h];if(i.details.detailskey==f){i.details.rowdetailsheight=g.rowdetailsheight,i.details.rowdetailshidden=g.rowdetailshidden,i.details.rowdetails=g.rowdetails;break}}this.details[a]=g}return this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0},getrowdetails:function(a){return null==a?!1:(a=this.getrowvisibleindex(a),this._getrowdetails(a))},_getrowdetails:function(a){return null==a?!1:0>a?!1:this.details[a]?this.details[a]:this.rowdetailstemplate?this.rowdetailstemplate:void 0},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==a)return!1;if(a=this.getrowvisibleindex(a),0>a)return!1;var b=this._getrowdetails(a);return this._setrowdetailsvisibility(a,b,!1)},hiderowdetails:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(a=this.getrowvisibleindex(a),0>a)return!1;var b=this._getrowdetails(a);return this._setrowdetailsvisibility(a,b,!0)},_togglerowdetails:function(a){var b=a.visibleindex,c=this._getrowdetails(b);if(null!=c){var d=this.vScrollInstance.value,e=!c.rowdetailshidden,f=this._setrowdetailsvisibility(b,c,e);return 0!==d&&"hidden"!==this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(d<=this.vScrollInstance.max?d:this.vScrollInstance.max),f}return!1},_setrowdetailsvisibility:function(a,b,c){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[a])){this.details[a]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var d=this.dataview.generatekey();this.details[a].detailskey=d,this.detailboundrows[a]={index:a,details:this.details[a]}}if(null==b)return!1;this.details[a].rowdetailshidden=c;var e=this.details[a];return c?this._raiseEvent(21,{rowindex:a,details:e.rowdetails,height:e.rowdetailsheight}):this._raiseEvent(20,{rowindex:a,details:e.rowdetails,height:e.rowdetailsheight}),this._setrowdetails(a,e.rowdetails,e.rowdetailsheight,e.rowdetailshidden)},getrowvisibleindex:function(a){if(void 0==a||null==a||0>a)return!1;if(this.virtualmode){var b=this.dataview.loadedrecords[a];return void 0==b?-1:b.visibleindex}return this.getrowdisplayindex(a)},hiderow:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==a||null==a||0>a?!1:null==a?!1:(this.hiddenboundrows[a]={index:a,hidden:!0},a=this.getrowvisibleindex(a),this._setrowvisibility(a,!0))},showrow:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==a||null==a||0>a?!1:null==a?!1:(this.hiddenboundrows[a]={index:a,hidden:!1},a=this.getrowvisibleindex(a),this._setrowvisibility(a,!1))},isrowhiddenat:function(a){return null==a?null:(a=this.getrowvisibleindex(a),this.rows.records[a]?this.rows.records[a].hidden:void 0)},_setrowvisibility:function(a,b,c){return null==a?!1:(this.hiddens[a]=b,void 0==c||c?(this.rendergridcontent(!0),!0):!1)},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var a=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&void 0!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var b=this.that,d=new Array,e=new Array,f=b.groupable&&b.groups.length>0,g=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var h=this.dataview.pagesize;this.pageable&&f&&(h=this.dataview.rows.length);for(var i=0;h>i&&!(i>=this.dataview.rows.length);i++){var j=this.dataview.rows[i],k=null;b.rows.records[j.visibleindex]?(k=b.rows.records[j.visibleindex],k.setdata(j)):k=new c(b,j),k.hidden=this.hiddens[k.visibleindex],this.rowdetailstemplate&&(k.rowdetails=this.rowdetailstemplate.rowdetails,k.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,k.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var l=this.details[k.visibleindex];if(l?(k.rowdetails=l.rowdetails,k.rowdetailsheight=l.rowdetailsheight,k.rowdetailshidden=l.rowdetailshidden):this.rowdetailstemplate||(k.rowdetails=null),f&&this.pageable&&null!=k.parentbounddata){var m=d[k.parentbounddata.uniqueid];if(null!=m){var n=this._findgroupstate(m.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,k.parentbounddata,!n,!1),k.hidden=this.hiddens[k.visibleindex]}null!=m&&void 0!=m&&(k.parentrow=m,m.subrows[m.subrows.length++]=k)}if(!k.hidden){var o=j.visibleindex;this.heights[o]||(this.heights[o]=this.rowsheight),k.height=this.heights[o],this.rowdetails&&k.rowdetails&&!k.rowdetailshidden&&(k.height+=k.rowdetailsheight),d[k.uniqueid]=k,e[g++]=k,k.top=a,a+=k.height;var p=o;b.rows.replace(p,k)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=a),this.rows.resumeupdate(),e.length>0&&(this._pagescache[this.dataview.pagenum]=e)}}},_gettableheight:function(){if(void 0!=this.tableheight)return this.tableheight;var a=this.host.height();if(this.columnsheader){var b=this.columnsheader.outerHeight();this.showheader||(b=0)}return a-=b,"visible"==this.hScrollBar[0].style.visibility&&(a-=this.hScrollBar.outerHeight()),this.pageable&&(a-=this.pager.outerHeight()),this._groupsheader()&&(a-=this.groupsheader.outerHeight()),this.showtoolbar&&(a-=this.toolbarheight),this.showstatusbar&&(a-=this.statusbarheight),a>0?(this.tableheight=a,a):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var a=Math.round(this.host.height())+2*this.rowsheight,b=Math.round(a/this.rowsheight);return b}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){var a=(this.that,Math.round(this.host.height())+2*this.rowsheight);realheight=this._gettableheight();var b=Math.round(a/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var c=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(c=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?c=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(c=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var d=c*this.rowsheight,e=0,f=0,g=0,h=this._getpagesize(),i=h*this.rowsheight,j=0;if(!this.pageable&&this.autoheight&&(b=c),c+h>0)for(;c+h>=j;){if(e+=i,c>j-h&&j>=c){var k=j-c;k>0&&(g-=i,this._pageviews[f-1]={top:g,height:i-k*this.rowsheight});break}this._pageviews[f++]={top:g,height:i},g=e,j+=h}return 1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),d>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),this.vScrollBar.jqxScrollBar("deferred"==this.scrollmode?{max:d}:{max:d-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=h,this.dataview.updateview(),{visiblerecords:b,virtualheight:d}
},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var a=this.that,b=Math.round(this.host.height())+2*this.rowsheight,c=Math.round(b/this.rowsheight),d=Math.max(this.dataview.totalrows,this.dataview.totalrecords),e=d*this.rowsheight,f=0,g=0,h=0,i=0,j=0,k=this._getpagesize();if(this.pageable)this._updatepagedview&&(e=this._updatepagedview(d,e,0)),this.autoheight&&this._arrange();else for(var l=0;d>l;l++){var m={index:l,height:this.heights[l],hidden:this.hiddens[l],details:this.details[l]};if(void 0==this.heights[l]&&(this.heights[l]=this.rowsheight,m.height=this.rowsheight),void 0==this.hiddens[l]&&(this.hiddens[l]=!1,m.hidden=!1),void 0==this.details[l]&&(this.details[l]=null),m.height!=a.rowsheight&&(e-=a.rowsheight,e+=m.height),m.hidden)e-=m.height;else{g+=m.height;var n=0;this.rowdetails&&(this.rowdetailstemplate&&(m.details||(m.details=this.rowdetailstemplate)),m.details&&m.details.rowdetails&&!m.details.rowdetailshidden&&(n=m.details.rowdetailsheight,g+=n,e+=n)),f+=m.height+n}j++,(j>=k||l==d-1)&&(this._pageviews[h++]={top:i,height:g},g=0,i=f,j=0)}var o=this._gettableheight();if(e>o)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height,0>e&&(e=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(o>=e||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-o>0){if("deferred"!=this.scrollmode){var p=e-o,q=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:p}),p!=q&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(c=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:c,virtualheight:e}}},updatebounddata:function(a){"data"==a||"sort"==a||"filter"==a||"cells"==a||"pagechanged"==a||"pagesizechanged"==a||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,a)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var a=this._pageviews[0].height;(this.virtualmode||!this.pageable)&&(a=this.virtualsizeinfo.virtualheight);var b=this._gettableheight();if(a>b)if(this.pageable&&this.gotopage&&(a=this._pageviews[0].height,0>a&&(a=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(b>=a||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),a-b>0){var c=a-b;this.vScrollBar.jqxScrollBar({max:c})}else this.vScrollBar.jqxScrollBar({value:0,max:a});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(b){if(1!=b){if(a.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var a=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var b=this,c=0;c<this.columngroups.length;c++)this.columngroups[c].parent=null,this.columngroups[c].groups=null;for(var c=0;c<this.columns.records.length;c++)this.columns.records[c].parent=null,this.columns.records[c].groups=null;for(var d=function(a){for(var c=0;c<b.columngroups.length;c++){var d=b.columngroups[c];if(d.name===a)return d}return null},c=0;c<this.columngroups.length;c++){var e=this.columngroups[c];if(e.groups||(e.groups=null),e.parentgroup){var f=d(e.parentgroup);f&&(e.parent=f,f.groups||(f.groups=new Array),-1===f.groups.indexOf(e)&&f.groups.push(e))}}for(var c=0;c<this.columns.records.length;c++){var e=this.columns.records[c];if(e.columngroup){var f=d(e.columngroup);f&&(f.groups||(f.groups=new Array),e.parent=f,-1===f.groups.indexOf(e)&&f.groups.push(e))}}for(var g=0,c=0;c<this.columns.records.length;c++){var e=this.columns.records[c],h=e;for(e.level=0;h.parent;)h=h.parent,e.level++;var h=e,i=e.level;for(g=Math.max(g,e.level);h.parent;)h=h.parent,h&&(h.level=--i)}for(var j=function(a){var b=new Array;if(a.columngroup&&b.push(a),a.groups)for(var c=0;c<a.groups.length;c++)if(a.groups[c].columngroup)b.push(a.groups[c]);else if(a.groups[c].groups)for(var d=j(a.groups[c]),e=0;e<d.length;e++)b.push(d[e]);return b},c=0;c<this.columngroups.length;c++){var e=this.columngroups[c],k=j(e);e.columns=k;for(var l=new Array,m=0,n=0;n<k.length;n++)l.push(this.columns.records.indexOf(k[n])),k[n].pinned&&m++;if(0!=m)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");l.sort(function(a,b){return a=parseInt(a),b=parseInt(b),b>a?-1:a>b?1:0});for(var o=1;o<l.length;o++)if(l[o]!=l[o-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+g,a=this.columngroupslevel*this.columnsheight}return a},_render:function(b,c,d,e,f){if(null!=this.dataview&&!this._loading){if(a.jqx.isHidden(this.host)){var g=this;return g.___hiddenTimer&&(clearInterval(g.___hiddenTimer),g.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){a.jqx.isHidden(g.host)||(clearInterval(g.___hiddenTimer),g.render())},300))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=void 0!=c?c:!0,this._newmax=null,d&&(this._requiresupdate||0!=e&&this._initmenu(),null==this.columns?this.columns=new a.jqx.collection(this.element):this._initializeColumns()),this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==e&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,a.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),d?(this.filterrow&&this.filterrow.detach(),a.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||a('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&a.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||a('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var h=this.columnsheight;if(h=this._preparecolumngroups(),this.columnsheader.height(this.showfilterrow&&this.filterable?h+this.filterrowheight:h),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||a("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,d),this.groups.length>0&&this.groupable){var i=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=i&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(void 0==f||1==f)&&this._updatelistfilters(!d),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){if(this.autoheight)return this._overlayElement&&this._overlayElement.remove(),void this._updateTouchScrolling();var b=a.jqx.utilities.getBrowser();if("msie"==b.browser&&parseInt(b.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=a("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var c=0;"checkbox"==this.selectionmode&&(c+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var d=this._overlayElement.css("left");this._overlayElement.css("left",d+c)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=a("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=a("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},rendergridcontent:function(a,b){if(this.updating())return!1;(void 0==a||null==a)&&(a=!1),this._requiresupdate=a;var c=this.prerenderrequired;this.prerenderrequired&&this._arrange();var d=this.that,b=b;if((null==b||void 0==b)&&(b=!0),this.tableheight=null,d.virtualsizeinfo=d.virtualsizeinfo||d._calculatevirtualheight(),d.pageable&&!d.autoheight&&d.dataview.totalrows<d.pagesize&&(d._requiresupdate=!0),b?d._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),d._renderrows(d.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),c){var e=this.tableheight;this._arrange(),e!=this.tableheight&&this.autoheight&&d._renderrows(d.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var b=this.host.width(),c=b,d="";if(void 0!=this.columns&&void 0!=this.columns.records){var e=this.that,f=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;a.each(this.columns.records,function(a,g){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var g=0,h="hidden"==e.vScrollBar[0].style.visibility?0:e.scrollbarsize+5,i=c;g=parseFloat(this.width)*i/100,h+=f,void 0!=this._percentagewidth&&(g=parseFloat(this._percentagewidth)*(i-h)/100),g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth),b-=g}else"auto"==this.width||this._width?d+=this.text:b-=this.width});var g=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>g)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var h=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var i=0;i<this.dataview.rows.length;i++)this.dataview.rows[i].group&&0===this.dataview.rows[i].level&&(h+=this.rowsheight);h>g?(b-=this.scrollbarsize+5,c-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(b-=this.scrollbarsize+5,c-=this.scrollbarsize+5)}else b-=this.scrollbarsize+5,c-=this.scrollbarsize+5;else b-=this.scrollbarsize+5,c-=this.scrollbarsize+5;var f=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(c-=f,this.columnsheader){var j=this.columnsheader.find("#columntable"+this.element.id);if(0!=j.length){var k=j.find(".jqx-grid-column-header"),l=0;a.each(this.columns.records,function(e){var f=a(k[e]),g=!1,h=this.width;if((-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(h=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*c/100:parseFloat(this.width)*c/100,g=!0),"auto"==this.width||this._width||g)if(g)h<this.minwidth&&"auto"!=this.minwidth&&(h=this.minwidth,this.width=h),h>this.maxwidth&&"auto"!=this.maxwidth&&(h=this.maxwidth,this.width=h),parseInt(f[0].style.width)!=h&&(f.width(h),this.width=h);else{var i=Math.floor(b*(this.text.length/d.length));isNaN(i)&&(i=this.minwidth),0>i&&($element=a("<span>"+this.text+"</span>"),a(document.body).append($element),i=10+$element.width(),$element.remove()),i<this.minwidth&&(i=this.minwidth),i>this.maxwidth&&(i=this.maxwidth),this._width="auto",this.width=i,f.width(this.width)}else parseInt(f[0].style.width)!=this.width&&f.width(this.width);parseInt(f[0].style.left)!=l&&f.css("left",l),this.hidden&&this.hideable||(l+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+l),j.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==l?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var b=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),void(this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var c=a('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');c[0].cells=new Array;var d=0,e=0,f="",g=this.host.width(),h=g,i=new Array,j=new Array,k=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(a.each(this.columns.records,function(a,c){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)f+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)g-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)g-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var c=0,d="hidden"==b.vScrollBar[0].style.visibility?0:b.scrollbarsize+5;d+=k,c=parseFloat(this.width)*(h-d)/100,c<this.minwidth&&"auto"!=this.minwidth&&(c=this.minwidth),c>this.maxwidth&&"auto"!=this.maxwidth&&(c=this.maxwidth),g-=c}else"string"==typeof this.width&&(this.width=parseInt(this.width)),g-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(b._haspinned&&(this.pinned=!0),i[i.length]=this):j[j.length]=this}),this.rtl){var l=0;i.reverse();for(var m=this.columns.records.length-1;m>=this.columns.records.length-i.length;m--)this.columns.replace(m,i[l++]);for(var n=0;n<j.length;n++)this.columns.replace(n,j[n])}else{for(var m=0;m<i.length;m++)this.columns.replace(m,i[m]);for(var n=0;n<j.length;n++)this.columns.replace(i.length+n,j[n])}var o=this.headerZIndex,p=b.groupable?b.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&p++;var q=b.columnsheader.height();this.showfilterrow&&(this.columngroups?q-=this.filterrowheight:q=this.columnsheight);var r=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>r)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var s=0;if(this.pageable){if(this.pageable)for(var t=0;t<this.dataview.rows.length;t++)this.dataview.rows[t].group&&0===this.dataview.rows[t].level&&(s+=this.rowsheight)}else var s=this.dataview.loadedrootgroups.length*this.rowsheight;s>r&&(g-=this.scrollbarsize+5,h-=this.scrollbarsize+5)}else g-=this.scrollbarsize+5,h-=this.scrollbarsize+5;else this.autoheight||(g-=this.scrollbarsize+5,h-=this.scrollbarsize+5);h-=k;var u=function(a,c){var d=b.columngroupslevel*b.columnsheight;return d-=c.level*b.columnsheight};if(a.each(this.columns.records,function(i){this.height=b.columnsheight,b.columngroups&&b.columngroups.length&&(this.height=u(this.datafield,this),q=this.height);var j=b.toTP("jqx-grid-column-header")+" "+b.toTP("jqx-widget-header");b.rtl&&(j+=" "+b.toTP("jqx-grid-column-header-rtl"));var k=b.rtl?150+o+1:150+o-1,l=b.rtl?o++:o--,m=a('<div role="columnheader" style="z-index: '+l+';position: absolute; height: 100%;" class="'+j+'"><div style="height: 100%; width: 100%;"></div></div>');b.columngroups&&(m[0].style.height=q+"px",m[0].style.bottom="0px",this.pinned&&(m[0].style.zIndex=k)),this.uielement=m,""!=this.classname&&this.classname&&m.addClass(this.classname);var n=this.width,r=!1;if(null===this.width&&(this.width="auto"),(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(n=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*h/100:parseFloat(this.width)*h/100,r=!0),"auto"==this.width||this._width||r){if(r)n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth),(void 0==this._percentagewidth||-1!=this.width.toString().indexOf("%"))&&(this._percentagewidth=this.width),m.width(n),this.width=n;else if(!this.hidden){var s=Math.floor(g*(this.text.length/f.length));isNaN(s)&&(s=this.minwidth),0>s&&($element=a("<span>"+this.text+"</span>"),a(document.body).append($element),s=10+$element.width(),$element.remove()),s<this.minwidth&&(s=this.minwidth),s>this.maxwidth&&(s=this.maxwidth),this._width="auto",this.width=s,n=this.width,m.width(this.width)}}else n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth,this.width=n),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth,this.width=n),m[0].style.width=parseInt(n)+"px";this.hidden&&this.hideable&&m.css("display","none");var t=a(m.children()[0]),v=b.rtl?b.toTP("jqx-grid-column-menubutton")+" "+b.toTP("jqx-grid-column-menubutton-rtl"):b.toTP("jqx-grid-column-menubutton");v+=" "+b.toTP("jqx-icon-arrow-down");var w=a('<div style="height: '+q+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+v+'" style="width: 100%; height:100%;"></div></div>');b.enableanimations||w.css("margin-left",-16),b.rtl&&w.css("left","0px"),this.columnsmenu=w[0],c[0].cells[i]=m[0],w[0].style.width=parseInt(b.columnsmenuwidth)+"px";var x=b.columnsmenu,y=!1,z=!1,A=b.groupable&&p>0&&p>d||b.rowdetails&&p>d;if(b.rtl&&(A=b.groupable&&p>0&&p>d||b.rowdetails&&p>d,A&=i>b.columns.records.length-1-p),A)d++,x&=!1,this.sortable=!1,this.editable=!1,z=!0;else{var B=null!=this.renderer?this.renderer(this.text,this.align,q):b._rendercolumnheader(this.text,this.align,q,b);null==B&&(B=b._rendercolumnheader(this.text,this.align,q,b)),null!=this.renderer&&(B=a(B)),x&=!0,y=!0}if(b.WinJS?MSApp.execUnsafeLocalFunction(function(){t.append(a(B))}):this.renderer?t.append(a(B)):B&&(t[0].innerHTML=B),null!=B){var C=a('<div class="iconscontainer" style="height: '+q+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortascbutton")+" "+b.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortdescbutton")+" "+b.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');w.addClass(b.toTP("jqx-widget-header")),t.append(C);var D=C.children();this.sortasc=D[1],this.sortdesc=D[2],this.filtericon=D[0],this.iconscontainer=C,b.rtl&&(C.css("margin-left","0px"),C.css("left","0px"),a(this.sortasc).css("float","left"),a(this.filtericon).css("float","left"),a(this.sortdesc).css("float","left")),!b.autoshowfiltericon&&this.filterable&&a(this.filtericon).css("display","block")}if(x&&(b._handlecolumnsmenu(b,t,m,w,this),this.menu||w.hide()),c.append(m),b.groupable&&y){if(m[0].id=b.dataview.generatekey(),!b._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");b._handlecolumnstogroupsdragdrop(this,m)}b.columnsreorder&&this.draggable&&b._handlecolumnsdragreorder&&b._handlecolumnsdragreorder(this,m);var E=this;if(b.addHandler(m,"click",function(a){return E.checkboxcolumn?!0:(b.sorttogglestates>0&&b._togglesort&&(b._loading||b._togglesort(E)),a.preventDefault(),void b._raiseEvent(7,{column:E.getcolumnproperties(),datafield:E.datafield,originalEvent:a}))}),E.resizable&&b.columnsresize&&!z){var F=!1,G="mousemove";b.isTouchDevice()&&b.touchmode!==!0&&(F=!0,G=a.jqx.mobile.getTouchEventName("touchstart")),b.addHandler(m,G,function(c){var d=parseInt(c.pageX),e=5,f=parseInt(m.coord().left);if(b.hasTransform&&(f=a.jqx.utilities.getOffset(m).left),b.resizing)return!0;if(b._handlecolumnsresize){if(F){var g=b.getTouches(c),h=g[0];return d=h.pageX,e=40,d>=f+E.width-e?(b.resizablecolumn={columnelement:m,column:E},m.css("cursor","col-resize")):(m.css("cursor",""),b.resizablecolumn=null),!0}var i=E.width;if(b.rtl&&(i=0),d>=f+i-e){if(f+i+e>=d)return b.resizablecolumn={columnelement:m,column:E},m.css("cursor","col-resize"),!1;m.css("cursor",""),b.resizablecolumn=null}else m.css("cursor",""),f+i-e>d&&(E._animating||E._menuvisible||m.mouseenter()),b.resizablecolumn=null}})}if(m.css("left",e),this.hidden&&this.hideable||(e+=n),E.rendered){var H=E.rendered(a(t[0].firstChild),E.align,q);H&&null!=C&&C.hide()}if(E.checkboxcolumn){if(C&&C.hide(),!b.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");t.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var I=t.find("div:first");I.jqxCheckBox({_canFocus:!1,disabled:b.disabled,disabledContainer:!0,theme:b.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),E.checkboxelement=I;var J=I.data().jqxCheckBox.instance;b._checkboxcolumn=E,J.updated=function(a,c,d){b._checkboxcolumnupdating=!0,b.disabled&&(I.jqxCheckBox({disabled:b.disabled}),c=d),c?b.selectallrows():b.unselectallrows(),b._checkboxcolumnupdating=!1}}}),this.columnsheader.width(e>0?2+e:e),this.columnsrow=c,b.columnsheader.append(c),this.showfilterrow&&this._updatefilterrow){if(c.height(this.columngroups?this.columngroupslevel*this.columnsheight:this.columnsheight),!this.filterrow){var v=a("<div></div>");v[0].id="filterrow."+this.element.id,v.height(this.filterrowheight),this.filterrow=v}this.filterrow.width(2+e),this.columnsheader.append(this.filterrow),this._updatefilterrow()}c[0].style.visibility=0==e?"hidden":"inherit",c.width(e),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var b=0,c=0;c<this.columns.records.length;c++)this.columns.records[c].pinned&&b++;var d=this.headerZIndex-b+this.columns.records.length,e=this.that,f=e.toTP("jqx-grid-column-header")+" "+e.toTP("jqx-grid-columngroup-header")+" "+e.toTP("jqx-widget-header");e.rtl&&(f+=" "+e.toTP("jqx-grid-columngroup-header-rtl"));var g=this.columnsheader.find("#columntable"+this.element.id);g.find("jqx-grid-columngroup-header").remove();for(var h=0;h<this.columngroupslevel-1;h++)for(var c=0;c<this.columngroups.length;c++){var i=this.columngroups[c],j=i.level;if(j===h){var k=j*this.columnsheight,l=99999;if(i.groups){var m=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=m(d):d.hidden||(b+=d.width,l=Math.min(parseFloat(d.element.style.left),l))}return b};i.width=m(i),i.left=l;var n=this.columnsheight,o=d--,p=a('<div role="columnheader" style="z-index: '+o+';position: absolute;" class="'+f+'"></div>'),q=a(this._rendercolumnheader(i.text,i.align,this.columnsheight,this));if(i.renderer){var q=a("<div style='height: 100%; width: 100%;'></div>"),r=i.renderer(i.text,i.align,n);q.html(r)}p.append(q),p[0].style.left=l+"px",0===l&&(p[0].style.borderLeftColor="transparent"),p[0].style.top=k+"px",p[0].style.height=n+"px",p[0].style.width=-1+i.width+"px",g.append(p),i.element=p,i.rendered&&i.rendered(q,i.align,n)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var a=0;a<this.columngroups.length;a++){var b=this.columngroups[a],c=b.level,d=c*this.columnsheight,e=99999;if(b.groups){var f=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=f(d):d.hidden||(b+=d.width,e=Math.min(parseFloat(d.element.style.left),e))}return b};b.width=f(b),b.left=e;var g=this.columnsheight,h=b.element;h[0].style.left=e+"px",h[0].style.top=d+"px",h[0].style.height=g+"px",h[0].style.width=-1+b.width+"px"}}},_handlecolumnsmenu:function(b,c,d,e,f){b.dragmousedown=null,e[0].id=b.dataview.generatekey(),c.append(e),d[0].columnsmenu=e[0],f.element=d[0];var g=this.columnsmenuwidth+1,h=function(){if(!f.menu)return!1;if(!b.resizing){if(f._menuvisible&&b._hasOpenedMenu)return!1;if(f._animating=!0,b.menuitemsarray&&b.menuitemsarray.length>0)if(b.enableanimations){e.css("display","block"),e.stop(),f.iconscontainer.stop(),b.rtl?(e.css("margin-left",-g),e.animate({"margin-left":"0px"},"fast",function(){e.css("display","block"),f._animating=!1,f._menuvisible=!0})):(e.css("margin-left","0px"),e.animate({"margin-left":-g},"fast",function(){e.css("display","block"),f._animating=!1,f._menuvisible=!0}));var a=b.rtl?g:-(32+g);f.iconscontainer.animate({"margin-left":a},"fast")}else{e.css("display","block");var a=b.rtl?16:-48;f.iconscontainer.css("margin-left",a+"px"),f._animating=!1,f._menuvisible=!0}}},i="mouseenter";if(b.isTouchDevice()&&(i="touchstart"),b.addHandler(d,i,function(c){var e=parseInt(c.pageX),g=b.columnsresize&&f.resizable?3:0,i=parseInt(d.coord().left);b.hasTransform&&(i=a.jqx.utilities.getOffset(d).left);var j=f.width;if(b.rtl&&(j=0),0!=g&&e>=i+j-g&&i+j+g>=e)return!1;var k=b.vScrollInstance.isScrolling();f.menu&&b.autoshowcolumnsmenubutton&&!k&&!b.disabled&&h()}),!b.autoshowcolumnsmenubutton){e.css("display","block");var j=b.rtl?16:-48;f.iconscontainer.css("margin-left",j+"px"),e.css(b.rtl?{"margin-left":"0px"}:{"margin-left":-g})}b.addHandler(d,"mouseleave",function(){if(b.menuitemsarray&&b.menuitemsarray.length>0&&f.menu){var c=a.data(document.body,"contextmenu"+b.element.id);if(void 0!=c&&e[0].id==c.columnsmenu.id)return;if(b.autoshowcolumnsmenubutton)if(b.enableanimations){b.rtl?e.css("margin-left","0px"):e.css("margin-left",-g),e.stop(),f.iconscontainer.stop(),b.rtl?e.animate({"margin-left":-g},"fast",function(){e.css("display","none"),f._menuvisible=!1}):e.animate({"margin-left":0},"fast",function(){e.css("display","none"),f._menuvisible=!1});var d=b.rtl?0:-32;f.iconscontainer.animate({"margin-left":d},"fast")}else{e.css("display","none");var d=b.rtl?0:-32;f.iconscontainer.css("margin-left",d+"px"),f._menuvisible=!1}}});var k=!0,l="",m=a(f.filtericon);b.addHandler(e,"mousedown",function(){b.gridmenu||b._initmenu(),k=!a.data(b.gridmenu[0],"contextMenuOpened"+b.gridmenu[0].id),l=a.data(document.body,"contextmenu"+b.element.id),null!=l&&(l=l.column.datafield)}),b.addHandler(m,"mousedown",function(){b.gridmenu||b._initmenu(),k=!a.data(b.gridmenu[0],"contextMenuOpened"+b.gridmenu[0].id),l=a.data(document.body,"contextmenu"+b.element.id),null!=l&&(l=l.column.datafield)});var n=function(){if(!f.menu)return!1;if(b.gridmenu||b._initmenu(),b.disabled)return!1;for(var c=0;c<b.columns.records.length;c++)b.columns.records[c].datafield!=f.datafield&&(b.columns.records[c]._menuvisible=!1);var d=e.coord(!0),g=e.height();if(!k&&(k=!0,l==f.datafield))return b._closemenu(),!1;var h=b.host.coord(!0);b.hasTransform&&(h=a.jqx.utilities.getOffset(b.host),d=a.jqx.utilities.getOffset(e)),h.left+b.host.width()>parseInt(d.left)+b.gridmenu.width()?b.gridmenu.jqxMenu("open",d.left,d.top+g):b.gridmenu.jqxMenu("open",e.width()+d.left-b.gridmenu.width(),d.top+g),b.gridmenu.width()<100&&b._arrangemenu(),b._hasOpenedMenu=!0;var i=b._getmenuitembyindex(0),j=b._getmenuitembyindex(1),m=b._getmenuitembyindex(2),n=b._getmenuitembyindex(3),o=b._getmenuitembyindex(4),p=b._getmenuitembyindex(5);if(null!=i&&null!=j&&null!=m){var q=f.sortable&&b.sortable;if(b.gridmenu.jqxMenu("disable",i.id,!q),b.gridmenu.jqxMenu("disable",j.id,!q),b.gridmenu.jqxMenu("disable",m.id,!q),f.datafield)if(b.sortcolumn==f.datafield){var r=b.getsortinformation();q&&(r.sortdirection.ascending?b.gridmenu.jqxMenu("disable",i.id,!0):b.gridmenu.jqxMenu("disable",j.id,!0))}else b.gridmenu.jqxMenu("disable",m.id,!0)}if(null!=n&&null!=o&&(b.groupable&&f.groupable?b.groups&&-1!=b.groups.indexOf(f.datafield)?(b.gridmenu.jqxMenu("disable",n.id,!0),b.gridmenu.jqxMenu("disable",o.id,!1)):(b.gridmenu.jqxMenu("disable",n.id,!1),b.gridmenu.jqxMenu("disable",o.id,!0)):(b.gridmenu.jqxMenu("disable",o.id,!0),b.gridmenu.jqxMenu("disable",n.id,!0))),null!=p){b._updatefilterpanel(b,p,f);var s=0;b.sortable&&b._togglesort&&b.showsortmenuitems&&(s+=3),b.groupable&&b.addgroup&&b.showgroupmenuitems&&(s+=2);var t=27*s+3;a.jqx.browser.msie&&a.jqx.browser.version<8&&(t+=20,a(p).height(190)),b.filterable&&b.showfiltermenuitems&&(f.filterable?(b.gridmenu.height(t+180),a(p).css("display","block")):(b.gridmenu.height(t),a(p).css("display","none")))}a.data(document.body,"contextmenu"+b.element.id,{column:f,columnsmenu:e[0]})};b.addHandler(m,"click",function(){return f.menu?(b.showfilterrow||("block"!=e[0].style.display&&d.trigger("mouseenter"),setTimeout(function(){"block"!=e[0].style.display&&d.trigger("mouseenter"),n()
},200)),!1):!1}),b.addHandler(e,"click",function(){return f.menu?(n(),!1):!1}),b.isTouchDevice()&&b.addHandler(e,a.jqx.mobile.getTouchEventName("touchstart"),function(){return f.menu?(b._hasOpenedMenu?b._closemenu():n(),!1):!1})},_removecolumnhandlers:function(b){var c=this.that,d=a(b.element);if(d.length>0){c.removeHandler(d,"mouseenter"),c.removeHandler(d,"mouseleave");var e=a(b.filtericon);if(c.removeHandler(e,"mousedown"),c.removeHandler(e,"click"),c.removeHandler(d,"click"),c.removeHandler(d,"mousemove"),c.columnsreorder&&(c.removeHandler(d,"mousedown.drag"),c.removeHandler(d,"mousemove.drag")),c.removeHandler(d,"dragstart"),d[0].columnsmenu){var f=a(d[0].columnsmenu);c.removeHandler(f,"click"),c.removeHandler(f,"mousedown"),c.removeHandler(f,a.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(a,b,c,d){var e="4px";if(d.columngroups?(e=c/2-this._columnheight/2,0>e&&(e=4),e+="px"):25!=this.columnsheight&&(e=this.columnsheight/2-this._columnheight/2,0>e&&(e=4),e+="px"),this.enableellipsis)return'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+b+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+e+"; margin-top: "+e+';"><span style="text-overflow: ellipsis; cursor: default;">'+a+"</span></div>";if("center"==b||"middle"==b)return'<div style="padding-bottom: 2px; text-align: center; margin-top: '+e+';"><a href="#">'+a+"</a></div>";var f='<a style="margin-top: '+e+"; float: "+b+';" href="#">'+a+"</a>";return f},_renderrows:function(b,c){var d=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(d.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var e=this.source.totalrecords;isNaN(e)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=e&&(d.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||d.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?d.prerenderrequired=!0:this.pageable||(d.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?d.prerenderrequired=!0:this.pageable||(d.prerenderrequired=!0))),d._prerenderrows(b),d._requiresupdate&&(d._requiresupdate=!1,d._updatepageviews());var f=function(){d._loading||(d.WinJS?MSApp.execUnsafeLocalFunction(function(){d._rendervisualrows()}):d._rendervisualrows(),d.virtualmode&&d.showaggregates&&d._updateaggregates&&d.refreshaggregates())},g=a.jqx.browser.msie&&a.jqx.browser.version<10;if(this.virtualmode){var h=function(){if(d.rendergridrows){var a=d._startboundindex;void 0==a&&(a=0);var b=a+1+d.dataview.pagesize;if(null!=a&&null!=b){var e=d.source._source?!0:!1,f=e?d.source._source.recordstartindex:d.source.recordstartindex;if(f!=a||1==c){if(e){if(b>=d.source._source.totalrecords&&(b=d.source._source.totalrecords,a=b-d.dataview.pagesize-1,0>a&&(a=0),d.source._source.recordendindex==b&&d.source._source.recordstartindex==a))return;d.source._source.recordstartindex=a,d.source._source.recordendindex=b}else d.source.recordstartindex=a,d.source.recordendindex=b;d.updatebounddata("cells")}}}};this.loadondemand&&(f(),h(),this.loadondemand=!1);var i=void 0==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?f():this.autoheight?f():i||g||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){f()},5)):f()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var j=this._getfirstvisualrow();if(null!=j){var k=function(){if(null==j)return"";var b="<table>",c=d.deferreddatafields;null==c&&d.columns.records.length>0&&(c=new Array,c.push(d.columns.records[0].displayfield));for(var e=0;e<c.length;e++){var f=c[e],g=d._getcolumnbydatafield(f);if(g){var h=d._getcellvalue(g,j);""!=g.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(h)?h=a.jqx.dataFormat.formatdate(h,g.cellsformat,d.gridlocalization):a.jqx.dataFormat.isNumber(h)&&(h=a.jqx.dataFormat.formatnumber(h,g.cellsformat,d.gridlocalization))),b+="<tr><td>"+h+"</td></tr>"}}return b+="</table>"},l=this.scrollfeedback?this.scrollfeedback(j.bounddata):k(j.bounddata);l!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=l,this._scrollelementcontent=l)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){d.hScrollInstance.isScrolling()||d.vScrollInstance.isScrolling()||(f(),d._scrollelement.css("visibility","hidden"),d._scrollelementoverlay.css("visibility","hidden"),clearInterval(d._scrolltimer),j&&d.ensurerowvisible(j.visibleindex))},100))}navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),void 0!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5);var i=void 0==this._browser?this._isIE10():this._browser;if((i||g)&&(this._updatedelay=5),i&&this.hScrollInstance.isScrolling())return void f();if(a.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)f();else{var m=this._jqxgridrendertimer;null!=m&&clearTimeout(m),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(m=setTimeout(function(){f()},this._updatedelay),this._jqxgridrendertimer=m):(this._jqxgridrendertimer=m,f())}}if(d.autorowheight&&!d.autoheight&&this._pageviews.length>0){var n=this._gettableheight(),o=this._pageviews[0].height;if(o>n)if(this.pageable&&this.gotopage&&(o=this._pageviews[0].height,0>o&&(o=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(n>=o||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),o-n>0){if("deferred"!=this.scrollmode){var p=o-n,q=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:p}),Math.round(p)!=Math.round(q)&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:o});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=o)}},scrolling:function(){var a=this.vScrollInstance.isScrolling(),b=this.hScrollInstance.isScrolling();return{vertical:a,horizontal:b}},_renderhorizontalscroll:function(){var a=this.hScrollInstance,b=a.value;"hidden"===this.hScrollBar.css("visibility")&&(a.value=0,b=0);var c=parseInt(b);if(null!=this.table){var d=this.table[0].rows.length,e=this.columnsrow,f=this.groupable&&this.groups.length>0?this.groups.length:0,g=this.columns.records.length-f,h=this.columns.records,i=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(c=a.max-c),i&&!this._haspinned){for(var j=0;d>j;j++)for(var k=this.table[0].rows[j],l=0;f+g>l;l++){var m=k.cells[l];if(void 0!=m){var n=h[l];if(n.pinned&&(m.style.marginLeft=c+"px",0==j)){var o=e[0].cells[l];o.style.marginLeft=c+"px"}}}this.table[0].style.marginLeft=-c+"px",e[0].style.marginLeft=-c+"px"}else if(this._haspinned||void 0==this._haspinned){for(var j=0;d>j;j++)for(var k=this.table[0].rows[j],l=0;f+g>l;l++){var m=k.cells[l];if(void 0!=m){var n=h[l];if(n.pinned){if(0==c&&""==m.style.marginLeft)continue;var p=null,q=null;if(this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(q=this.filterrow[0].cells[l]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[l]),this.rtl){if(m.style.marginLeft=-parseInt(b)+"px",0==j){var o=e[0].cells[l];o.style.marginLeft=-parseInt(b)+"px",p&&(p.style.marginLeft=-parseInt(b)+"px"),q&&(q.style.marginLeft=-parseInt(b)+"px")}}else if(m.style.marginLeft=c+"px",0==j){var o=e[0].cells[l];o.style.marginLeft=c+"px",p&&(p.style.marginLeft=c+"px"),q&&(q.style.marginLeft=c+"px")}}}}this.table[0].style.marginLeft=-c+"px",e[0].style.marginLeft=-c+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-c+"px",e[0].style.marginLeft=-c+"px");if(this.showaggregates&&this.statusbar[0].cells){var r=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(r=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-c+r+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-c+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var b=0;b<this._rowdetailselementscache.length;b++)a(this._rowdetailselementscache[b]).css("display","none")},_getvisualcolumnsindexes:function(a,b,c,d,e){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:c+d};var f=0,g=-1,h=c+d,i=!1;if(this.autorowheight)return{start:0,end:c+d};if(!e)for(var j=0;c+d>j;j++){if(i||this.columns.records[j].pinned&&(i=!0),this.columns.records[j].hidden||(f+=this.columns.records[j].width),f>=a&&-1==g&&(g=j),f>b+a){h=j;break}}return h++,h>c+d&&(h=c+d),(-1==g||i)&&(g=0),{start:g,end:h}},_getfirstvisualrow:function(){var a=this.vScrollInstance,b=a.value,c=parseInt(b);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(c=0),!this.pageable){var d=this._findvisiblerow(c,this._pageviews);if(-1==d)return null;d!=this.dataview.pagenum?(this.dataview.pagenum=d,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var e=this._findvisiblerow(c,this._pagescache[this.dataview.pagenum]),f=this._pagescache[this.dataview.pagenum];return f&&f[0]?f[e]:void 0},_rendervisualrows:function(){if(this.virtualsizeinfo){var b=this.vScrollInstance,c=this.hScrollInstance,d=b.value,e=c.value,f=parseInt(d),g=parseInt(e),h=this._gettableheight(),i=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(h+=29),"deferred"==this.scrollmode&&0!=this._newmax&&f>this._newmax&&null!=this._newmax&&(f=this._newmax);var j=b.isScrolling()||c.isScrolling()||this._keydown,k=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&void 0==this.editrow&&this._hidecelleditor(!1),void 0!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(f=0),!this.pageable){var l=this._findvisiblerow(f,this._pageviews);if(-1==l)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();l!=this.dataview.pagenum?(this.dataview.pagenum=l,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var m=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var n=this.columns.records.length-m,o=this._findvisiblerow(f,this._pagescache[this.dataview.pagenum]),p=this._pagescache[this.dataview.pagenum],q=o;0>q&&(q=0);var r=0,s=0,t=0,u=0,v=this.virtualsizeinfo.visiblerecords,w=this.groupable?this.groups.length:0,x=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(x+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(v=this.dataview.pagesize),k&&(x=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(x+=" "+this.toTP("jqx-touch")),this.autorowheight&&(x+=" jqx-grid-cell-wrap");var y=this.rowsheight,z=this._rendercell,A=!0,B=this._getvisualcolumnsindexes(g,i,m,n,k),C=B.start,D=B.end;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(q=0),q>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=p?p[q].bounddata.boundindex:0,this._startvisibleindex=null!=p?p[q].bounddata.visibleindex:0;for(var E=0;v>E&&v>s;E++){var F=void 0!=p?p[q+E]:null;if(null==F){if(q=-E,this._pagescache[this.dataview.pagenum+1])p=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var G=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){p=void 0;break}this.dataview.pagenum++,p=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),p=this._pagescache[this.dataview.pagenum])}while(void 0==p&&this.dataview.pagenum<G)}void 0!=p&&(F=p[q+E])}if(null!=F){if(F.hidden)continue;if(this._endboundindex=this._startboundindex+E,this._endvisibleindex=this._startvisibleindex+E,0==E){var H=Math.abs(f-F.top);this.table[0].style.top=-H+"px",u=-H}var I=this.table[0].rows[s];if(!I)continue;parseInt(I.style.height)!=F.height&&(I.style.height=parseInt(F.height)+"px"),t+=F.height;var J=this.rowdetails&&F.rowdetails,K=!F.rowdetailshidden;J&&K&&(I.style.height=parseInt(F.height-F.rowdetailsheight)+"px",v++);for(var L=this._isrowselected(A,F),M=C;D>M;M++){var N=M;this._rendervisualcell(z,x,L,J,K,k,w,I,F,N,s,j)}if(void 0!=F.group&&this._rendergroup&&this._rendergroup(w,I,F,m,n,s,i),this.autorowheight&&(this.autoheight||this.pageable)){for(var y=this.rowsheight,M=C;D>M;M++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[M].datafield&&this.editcell.row==this.getboundindex(F)?y=Math.max(y,this.editcell.editor.height()):I.cells[M].firstChild&&(y=Math.max(y,8+parseInt(I.cells[M].firstChild.offsetHeight)));I.style.height=parseInt(y)+"px",this.heights[this._startboundindex+E]=y,J&&K&&(y+=F.rowdetailsheight),F.height=y}if(this.visiblerows[this.visiblerows.length]=F,this.hittestinfo[this.hittestinfo.length]={row:F,visualrow:I,details:!1},J&&K){s++;var I=this.table[0].rows[s];this._renderrowdetails(x,I,F,m,n,s),this.visiblerows[this.visiblerows.length]=F,this.hittestinfo[this.hittestinfo.length]={row:F,visualrow:I,details:!0}}if(!this.autorowheight&&t+u>=h)break}else cansetheight=!0,this._clearvisualrow(g,k,s,m,n),h>=t+r+u&&(r+=y);s++}if(this._horizontalvalue=g,r>0&&"visible"==this.vScrollBar[0].style.visibility){var O=(parseInt(this.table.css("top")),this._pageviews[this._pageviews.length-1]),P=b.max,Q=O.top+O.height-h;"visible"==this.hScrollBar.css("visibility")&&(Q+=this.scrollbarsize+20),P==Q||this.autorowheight||Q>=0&&("deferred"!=this.scrollmode?(b.max=Q,b.setPosition(b.max)):this._newmax!=Q&&(this._newmax=Q,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;for(var R=0,S=0,T=0;T<this.visiblerows.length;T++){var U=this.visiblerows[T];U.top=R,R+=U.height,S+=U.height;var J=this.rowdetails&&U.rowdetails,K=!U.rowdetailshidden,I=this.table[0].rows[T];J&&K&&T++;for(var M=C;D>M;M++){var V=this.columns.records[M];if(!V.hidden&&!V.cellsrenderer){var W=I.cells[M],X=0;if(W.firstChild){var X=(U.height-parseInt(W.firstChild.offsetHeight)-8)/2;if(J&&K)var X=(U.height-U.rowdetailsheight-a(W.firstChild).height()-8)/2}else var X=(U.height-parseInt(a(W).height())-8)/2;if(X>=0&&(X=parseInt(X)+4,W.firstChild&&-1==W.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=V.columntype&&"button"!=V.columntype)){if(this.editable&&this.editcell&&this.editcell.column==V.datafield&&this.editcell.row==this.getboundindex(U))continue;W.firstChild.style.marginTop=X+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=S),this._arrange()}this._renderemptyrow()}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var b=this.table[0].rows[0];if(b)for(var c=!1,d=0;d<b.cells.length;d++){var e=a(b.cells[d]);"none"==e.css("display")||c||(e.width()==this.host.width()||e.text()==this.gridlocalization.emptydatastring)&&(e[0].checkbox=null,e[0].button=null,c=!0,e[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var b=!1,c=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var d=this.table[0].rows[0];this.table[0].style.top="0px";for(var e=0;e<d.cells.length;e++){var f=a(d.cells[e]);if("none"!=f.css("display")&&!b){f[0].checkbox=null,f[0].button=null,f[0].className=c,b=!0,f[0].innerHTML="";var g=a("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");g.text(this.gridlocalization.emptydatastring),f.append(g);var h=0;this.oldhscroll||(h=parseInt(this.table[0].style.marginLeft),this.rtl&&(f.css("z-index",999),f.css("overflow","visible"))),g.css("left",-h-g.width()/2),g.css("top",this._gettableheight()/2-g.height()/2),a.jqx.browser.msie&&a.jqx.browser.version<8&&(g.css("margin-left","0px"),g.css("left",this.host.width()/2-g.width()/2));var i=Math.abs(parseInt(this.table[0].style.top));isNaN(i)&&(i=0),a(d).height(this._gettableheight()+i),f.css("margin-left","0px"),f.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}f.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var a=this.virtualsizeinfo.visiblerecords,b=this.hScrollInstance,c=b.value,d=parseInt(c),e=this.groupable&&this.groups.length>0;if(this.columns.records)for(var f=0;a>f;f++)this._clearvisualrow(d,e,f,0,this.columns.records.length)},_iscellselected:function(a,b,c){var d=!1,e=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(e=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var f=this.getrowboundindexbyid(b.bounddata.uid);for(var g in this.selectedcells)g==f+"_"+c&&(d=!0);return d}if(a&&null!=b.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||void 0==b.bounddata.dataindex)for(var g in this.selectedcells)g==e+b.bounddata.boundindex+"_"+c&&(d=!0);else for(var g in this.selectedcells)g==e+b.bounddata.dataindex+"_"+c&&(d=!0);else for(var g in this.selectedcells)if(g==e+b.bounddata.boundindex+"_"+c){d=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||void 0==b.bounddata.dataindex){for(var g in this.selectedcells)if(g==e+b.bounddata.boundindex+"_"+c){d=!0;break}}else for(var g in this.selectedcells)if(g==e+b.bounddata.dataindex+"_"+c){d=!0;break}}else for(var g in this.selectedcells)if(g==e+b.bounddata.boundindex==this.selectedrowindex){d=!0;break}return d},_isrowselected:function(a,b){var c=!1,d=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(d=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var e=this.getrowboundindexbyid(b.bounddata.uid);return-1!=this.selectedrowindexes.indexOf(e)&&(c=!0),c||(c=e==this.selectedrowindex&&-1!=this.selectedrowindex),c}return a&&null!=b.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||void 0==b.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(d+b.bounddata.boundindex)&&(c=!0):-1!=this.selectedrowindexes.indexOf(d+b.bounddata.dataindex)&&(c=!0):-1!=this.selectedrowindexes.indexOf(d+b.bounddata.boundindex)&&(c=!0):this.dataview.filters.length>0?this.virtualmode||void 0==b.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(d+b.bounddata.boundindex)&&(c=!0):-1!=this.selectedrowindexes.indexOf(d+b.bounddata.dataindex)&&(c=!0):d+b.bounddata.boundindex==this.selectedrowindex&&(c=!0)),c},_rendervisualcell:function(b,c,d,e,f,g,h,i,j,k,l,m){var n=this.columns.records[k];if(n.hidden){var o=i.cells[k];return void(o.innerHTML="")}cellvalue=this._getcellvalue(n,j);var o=i.cells[k],p=c;if(-1!=this.selectionmode.indexOf("cell")&&(d=this.dataview.filters.length>0?this.selectedcells[j.bounddata.dataindex+"_"+n.datafield]?!0:!1:this.selectedcells[j.boundindex+"_"+n.datafield]?!0:!1,this.editcell&&this.editcell.row===j.boundindex&&this.editcell.column===n.datafield&&"checkbox"!==n.columntype&&(d=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(d=this._iscellselected(!0,j,n.datafield))),""!=n.cellclassname&&n.cellclassname)if("string"==typeof n.cellclassname)p+=" "+n.cellclassname;else{var q=n.cellclassname(this.getboundindex(j),n.datafield,cellvalue,j.bounddata);q&&(p+=" "+q)}var r=this.showsortcolumnbackground&&this.sortcolumn&&n.displayfield==this.sortcolumn;if(r&&(p+=" "+this.toTP("jqx-grid-cell-sort")),n.filter&&this.showfiltercolumnbackground&&(p+=" "+this.toTP("jqx-grid-cell-filter")),(n.pinned&&this.showpinnedcolumnbackground||n.grouped)&&(p+=g?" "+this.toTP("jqx-grid-cell-pinned"):" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&void 0==j.group){var s=j.visibleindex;s>=this.altstart&&(this.altstart+s)%(1+this.altstep)==0&&(p+=r?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),n.filter&&this.showfiltercolumnbackground&&(p+=" "+this.toTP("jqx-grid-cell-filter-alt")),n.pinned&&this.showpinnedcolumnbackground&&(p+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(h>=k){if(g||this.rowdetails){var t=a(o),u=this.columns.records[k].width;o.style.width!=parseInt(u)+"px"&&t.width(u)}}else if((g||this.rowdetails)&&this._hiddencolumns){var t=a(o),u=this.columns.records[k].width;parseInt(o.style.width)!=u&&t.width(u)}var v=!0;if(this.rowdetails&&e&&(f&&!g?p+=" "+this.toTP("jqx-grid-details-cell"):g&&(p+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(void 0==j.group&&k==i.cells.length-h-1){var w=this.toThemeProperty("jqx-icon-arrow-down");if(f)p+=" "+this.toTP("jqx-grid-group-expand-rtl"),p+=" "+w;else{p+=" "+this.toTP("jqx-grid-group-collapse-rtl");var w=this.toThemeProperty("jqx-icon-arrow-left");p+=" "+w}return v=!1,o.title="",o.innerHTML="",void(o.className!=p&&(o.className=p))}}else if(void 0==j.group&&k==h){var w=this.toThemeProperty("jqx-icon-arrow-down");if(f)p+=" "+this.toTP("jqx-grid-group-expand"),p+=" "+w;else{p+=" "+this.toTP("jqx-grid-group-collapse");var w=this.toThemeProperty("jqx-icon-arrow-right");p+=" "+w}return v=!1,o.title="",o.innerHTML="",void(o.className!=p&&(o.className=p))}return d&&v&&k>=h&&(p+=" "+this.toTP("jqx-grid-cell-selected"),p+=" "+this.toTP("jqx-fill-state-pressed")),o.className!=p&&(o.className=p),void 0!=j.group?(cellvalue="",o.title="",void(o.innerHTML="")):void b(this,n,j,cellvalue,o,m)},_rendercell:function(b,c,d,e,f,g){var h=e+"_"+c.visibleindex;if("number"==c.columntype||null!=c.cellsrenderer)var h=d.uniqueid+"_"+c.visibleindex;if(b.editcell&&void 0==b.editrow)if("selectedrow"==b.editmode&&c.editable&&b.editable){if(b.editcell.row==b.getboundindex(d)&&b._showcelleditor)return void(b.hScrollInstance.isScrolling()||b.vScrollInstance.isScrolling()?b._showcelleditor(b.editcell.row,c,f,!1,!1):b._showcelleditor(b.editcell.row,c,f,b.editcell.init))}else if(b.editcell.row==b.getboundindex(d)&&b.editcell.column==c.datafield&&(b.editcell.element=f,b.editcell.editing&&b._showcelleditor))return void(b.hScrollInstance.isScrolling()||b.vScrollInstance.isScrolling()?b._showcelleditor(b.editcell.row,c,b.editcell.element,b.editcell.init,!1):b._showcelleditor(b.editcell.row,c,b.editcell.element,b.editcell.init));var i=b._defaultcellsrenderer(e,c),j=b._cellscache[h];if(j){if("inline"==c.columntype){if(b._renderinlinecell(b,f,c,d,e),null!=c.cellsrenderer){var k=c.cellsrenderer(b.getboundindex(d),c.datafield,e,i,c.getcolumnproperties(),d.bounddata);void 0!=k&&(f.innerHTML=k)}return}if("checkbox"==c.columntype){if(b.host.jqxCheckBox){""===e&&(e=null);var l=0==f.innerHTML.toString().length;if(!f.checkbox||b.groupable||l?b._rendercheckboxcell(b,f,c,d,e):(f.checkboxrow=b.getboundindex(d),""==e&&(e=!1),"1"==e&&(e=!0),"0"==e&&(e=!1),1==e&&(e=!0),0==e&&(e=!1),"true"==e&&(e=!0),"false"==e&&(e=!1),null!=e||c.threestatecheckbox||(e=!1),c.checkboxcolumn&&(e=!1,b.dataview.filters.length>0&&!b.virtualmode&&void 0!=d.bounddata.dataindex?-1!=b.selectedrowindexes.indexOf(d.bounddata.dataindex)&&(e=!0):-1!=b.selectedrowindexes.indexOf(d.bounddata.boundindex)&&(e=!0)),b.disabled||(f.checkboxinstance?f.checkboxinstance._setState(e):f.checkbox.jqxCheckBox("_setState",e))),null!=c.cellsrenderer){var k=c.cellsrenderer(b.getboundindex(d),c.datafield,e,i,c.getcolumnproperties(),d.bounddata);void 0!=k&&(f.innerHTML=k)}return}}else if("button"==c.columntype&&b.host.jqxButton)return""==e&&(e=!1),null!=c.cellsrenderer&&(e=c.cellsrenderer(b.getboundindex(d),c.datafield,e,i,c.getcolumnproperties(),d.bounddata)),""==f.innerHTML&&(f.buttonrow=b.getboundindex(d),f.button=null,b._renderbuttoncell(b,f,c,d,e)),void(f.button&&!b.groupable?(f.buttonrow=b.getboundindex(d),f.button.val(e)):b._renderbuttoncell(b,f,c,d,e));var m=j.element;if(null!=c.cellsrenderer||f.childNodes&&0==f.childNodes.length||b.groupable||b.rowdetails)f.innerHTML!=m&&(f.innerHTML=m);else if(f.innerHTML.indexOf("editor")>=0)f.innerHTML=m;else if(g){var n=m.indexOf(">"),o=m.indexOf("</"),p=m.substring(n+1,o),q=f.childNodes[0];if(p.indexOf(">")>=0)f.innerHTML=m;else if(q.childNodes[0])p!=q.childNodes[0].nodeValue&&(p.indexOf("&")>=0?f.innerHTML=m:q.childNodes[0].nodeValue=p);else{var r=document.createTextNode(p);q.appendChild(r)}}else f.innerHTML!=m&&(f.innerHTML=m);return void(b.enabletooltips&&c.enabletooltips&&(f.title=j.title))}if("checkbox"==c.columntype)return b._rendercheckboxcell(b,f,c,d,e),b._cellscache[h]={element:"",title:e},void(b.enabletooltips&&c.enabletooltips&&(f.title=e));if("button"==c.columntype)return null!=c.cellsrenderer&&(e=c.cellsrenderer(b.getboundindex(d),c.datafield,e,i,c.getcolumnproperties(),d.bounddata)),b._renderbuttoncell(b,f,c,d,e),b._cellscache[h]={element:"",title:e},void(b.enabletooltips&&c.enabletooltips&&(f.title=e));if("number"==c.columntype)e=d.visibleindex;else if("inline"==c.columntype)return b._renderinlinecell(b,f,c,d,e),b._cellscache[h]={element:"",title:e},void(b.enabletooltips&&c.enabletooltips&&(f.title=e));var m=null;m=null!=c.cellsrenderer?c.cellsrenderer(b.getboundindex(d),c.datafield,e,i,c.getcolumnproperties(),d.bounddata):i,null==m&&(m=i);var s=e;return b.enabletooltips&&c.enabletooltips&&(""!=c.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(e)?s=a.jqx.dataFormat.formatdate(s,c.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(e)&&(s=a.jqx.dataFormat.formatnumber(s,c.cellsformat,this.gridlocalization))),f.title=s),b.WinJS?a(f).html(m):f.innerHTML=m,b._cellscache[h]={element:f.innerHTML,title:s},!0},_isIE10:function(){if(void 0==this._browser){var b=a.jqx.utilities.getBrowser();if("msie"==b.browser&&parseInt(b.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==b.browser){var c="Browser CodeName: "+navigator.appCodeName;c+="Browser Name: "+navigator.appName,c+="Browser Version: "+navigator.appVersion,c+="Platform: "+navigator.platform,c+="User-agent header: "+navigator.userAgent,-1!=c.indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(b,c){a(c);c.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(b,c,d,e,f){if(b.host.jqxCheckBox){var g=a(c);if(""===f&&(f=d.threestatecheckbox?null:!1),"1"==f&&(f=!0),"0"==f&&(f=!1),1==f&&(f=!0),0==f&&(f=!1),"true"==f&&(f=!0),"false"==f&&(f=!1),d.checkboxcolumn&&(f=!1,this.dataview.filters.length>0&&void 0!=e.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(e.bounddata.dataindex)&&(f=!0):-1!=this.selectedrowindexes.indexOf(e.bounddata.boundindex)&&(f=!0)),0==g.find(".jqx-checkbox").length){if(c.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',a(c.firstChild).jqxCheckBox({disabled:b.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:d.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:b.theme,checked:f}),this.editable&&d.editable&&a(c.firstChild).jqxCheckBox({locked:!1}),d.checkboxcolumn&&a(c.firstChild).jqxCheckBox({locked:!1}),c.checkbox=a(c.firstChild),c.checkboxinstance=c.checkbox.data().jqxCheckBox.instance,c.checkboxrow=e.boundindex,this.dataview.filters.length>0){var h=e.bounddata.dataindex;void 0==h&&(h=e.boundindex),c.checkboxrow=h}var i=a.data(c.firstChild,"jqxCheckBox").instance;i.updated=function(e,f,g){if(b.disabled){f=g;for(var h=b.table[0].rows.length,i=b._getcolumnindex(d.datafield),j=0;h>j;j++){var k=b.table[0].rows[j].cells[i].firstChild;k&&a(k).jqxCheckBox({disabled:b.disabled})}}if(d.editable&&!b.disabled){var h=b.table[0].rows.length,i=b._getcolumnindex(d.datafield);if(void 0==b.editrow){if(d.cellbeginedit){var l=d.cellbeginedit(c.checkboxrow,d.datafield,d.columntype,!f);if(0==l)return void b.setcellvalue(c.checkboxrow,d.datafield,!f,!0)}if("selectedrow"!==b.editmode)for(var j=0;h>j;j++){var k=b.table[0].rows[j].cells[i].firstChild;k&&a(k).jqxCheckBox("destroy")}b.editcell&&0==b.editcell.validated?b.setcellvalue(c.checkboxrow,d.datafield,!f,!0):"selectedrow"!==b.editmode||null==b.editcell?(b._raiseEvent(17,{rowindex:c.checkboxrow,datafield:d.datafield,value:g,columntype:d.columntype}),b.setcellvalue(c.checkboxrow,d.datafield,f,!0),b._raiseEvent(18,{rowindex:c.checkboxrow,datafield:d.datafield,oldvalue:g,value:f,columntype:d.columntype})):b.setcellvalue(c.checkboxrow,d.datafield,f,!1,!1)}}else d.checkboxcolumn&&(b.editcell&&b.endcelledit(b.editcell.row,b.editcell.column,!1,!0),b.disabled||(f?b.selectrow(c.checkboxrow):b.unselectrow(c.checkboxrow),b.autosavestate&&b.savestate&&b.savestate()))}}else c.checkboxrow=e.boundindex,this.dataview.filters.length>0&&(h=e.bounddata.dataindex,c.checkboxrow=h),a(c.firstChild).jqxCheckBox("_setState",f)}},_renderbuttoncell:function(b,c,d,e,f){if(b.host.jqxButton){var g=a(c);if(""==f&&(f=!1),0==g.find(".jqx-button").length){c.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',a(c.firstChild).val(f),a(c.firstChild).attr("hideFocus","true"),a(c.firstChild).jqxButton({disabled:b.disabled,theme:b.theme,height:b.rowsheight-4,width:d.width-4}),c.button=a(c.firstChild),c.buttonrow=b.getboundindex(e);var h=this.isTouchDevice();if(h){var i=a.jqx.mobile.getTouchEventName("touchend");b.addHandler(a(c.firstChild),i,function(a){d.buttonclick&&d.buttonclick(c.buttonrow,a)})}else b.addHandler(a(c.firstChild),"click",function(a){d.buttonclick&&d.buttonclick(c.buttonrow,a)})}else c.buttonrow=b.getboundindex(e),a(c.firstChild).val(f)}},_clearvisualrow:function(b,c,d,e,f){var g=this.toTP("jqx-grid-cell");c&&(g=" "+this.toTP("jqx-grid-group-cell")),g+=" "+this.toTP("jqx-grid-cleared-cell");for(var h=this.table[0].rows,i=0;e+f>i;i++)if(h[d]){var j=h[d].cells[i];j.className!=g&&(j.className=g);var k=this.columns.records[i];if(this._horizontalvalue!=b&&!k.pinned&&1==this.oldhscroll){j.style.marginLeft=-b+"px"}var l=k.width;l<k.minwidth&&(l=k.minwidth),l>k.maxwidth&&(l=k.maxwidth),parseInt(j.style.width)!=l&&(a(j)[0].style.width="auto"!=l?l+"px":l),""!=j.title&&(j.title=""),""!=j.innerHTML&&(j.innerHTML="")}h[d]&&parseInt(h[d].style.height)!=this.rowsheight&&(h[d].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(a){var b=this._findgroup(a);return null==b?!1:b.expanded},_findgroup:function(a){var b=null;return this.expandedgroups[a]?this.expandedgroups[a]:b},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this.tableheight=null
},_getColumnText:function(b){if(void 0==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[b])return this._columnsbydatafield[b];var c=b,d=null;return a.each(this.columns.records,function(){return this.datafield==b?(c=this.text,d=this,!1):void 0}),this._columnsbydatafield[b]={label:c,column:d},this._columnsbydatafield[b]},_getcolumnbydatafield:function(b){if(void 0==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[b])return this.__columnsbydatafield[b];var c=b,d=null;return a.each(this.columns.records,function(){return this.datafield==b||this.displayfield==b?(c=this.text,d=this,!1):void 0}),this.__columnsbydatafield[b]=d,this.__columnsbydatafield[b]},isscrollingvertically:function(){var a=this.vScrollBar.jqxScrollBar("isScrolling");return a},_renderrowdetails:function(b,c,d,e,f){if(void 0!=c){var g=a(c),h=0,i=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var j=0;f>=j;j++){var k=a(c.cells[j]);k[0].innerHTML="",k[0].className="jqx-grid-details-cell"}var k=a(c.cells[h]);if("none"==k[0].style.display){for(var l=c.cells[h],m=2,n=h;void 0!=l&&"none"==l.style.display&&10>m;)l=c.cells[n+m-1],m++;k=a(l)}if(this.rtl)for(var o=e;f>o;o++)c.cells[o].innerHTML="",c.cells[o].className="jqx-grid-details-cell";k.css("width","100%"),g.height(d.rowdetailsheight),k[0].className=b;var p=this.getboundindex(d),q=p+"_";if(this._rowdetailscache[q]){var r=this._rowdetailscache[q],s=r.html;if(this.initrowdetails){if(this._rowdetailscache[q].element){var t=this._rowdetailscache[q].element,u=k.coord(),v=this.gridcontent.coord(),w=parseInt(u.top)-parseInt(v.top),x=parseInt(u.left)-parseInt(v.left);this.rtl&&(x=0),a(t).css("top",w),a(t).css("left",x),a(t).css("display","block"),a(t).width(this.host.width()-i),this.layoutrowdetails&&this.layoutrowdetails(p,t,this.element,this.getrowdata(p))}}else k[0].innerHTML=s}else{k[0].innerHTML="",this.enablerowdetailsindent||(i=0);var y='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+i+'px;">'+d.rowdetails+"</div>";if(this.rtl)var y='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+i+'px;">'+d.rowdetails+"</div>";if(this._rowdetailscache[q]={id:c.id,html:y},this.initrowdetails){var t=a(y)[0];a(this.gridcontent).prepend(a(t)),a(t).css("position","absolute"),a(t).width(this.host.width()-i),a(t).height(k.height());var u=k.coord();a(t).css("z-index",2e3),this.isTouchDevice()&&a(t).css("z-index",99999),a(t).addClass(this.toThemeProperty("jqx-widget-content"));var u=k.coord(),v=this.gridcontent.coord(),w=parseInt(u.top)-parseInt(v.top),x=parseInt(u.left)-parseInt(v.left);a(t).css("top",w),a(t).css("left",x),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var z=a(a(t).children()[0]);""!=z[0].id&&(z[0].id=z[0].id+p),this.initrowdetails(p,t,this.element,this.getrowdata(p)),this._rowdetailscache[q].element=t,this._rowdetailselementscache[p]=t}else k[0].innerHTML=y}}},_defaultcellsrenderer:function(b,c){""!=c.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(b)?b=a.jqx.dataFormat.formatdate(b,c.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(b)&&(b=a.jqx.dataFormat.formatnumber(b,c.cellsformat,this.gridlocalization)));var d="4px";if(25!=this.rowsheight&&(d=this.rowsheight/2-this._cellheight/2,0>d&&(d=4),d+="px"),this.enableellipsis){if("center"==c.cellsalign||"middle"==c.cellsalign)return'<div style="text-overflow: ellipsis; overflow: hidden; padding-bottom: 2px; text-align: center; margin-top: '+d+';">'+b+"</div>";if("left"==c.cellsalign)return'<div style="overflow: hidden; text-overflow: ellipsis; padding-bottom: 2px; text-align: left; margin-right: 2px; margin-left: 4px; margin-top: '+d+';">'+b+"</div>";if("right"==c.cellsalign)return'<div style="overflow: hidden;  text-overflow: ellipsis; padding-bottom: 2px; text-align: right; margin-right: 2px; margin-left: 4px; margin-top: '+d+';">'+b+"</div>"}return"center"==c.cellsalign||"middle"==c.cellsalign?'<div style="text-align: center; margin-top: '+d+';">'+b+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+d+"; float: "+c.cellsalign+';">'+b+"</span>"},getcelltext:function(b,c){if(null==b||null==c)return null;var d=this.getcellvalue(b,c),e=this.getcolumn(c);return e&&""!=e.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(d)?d=a.jqx.dataFormat.formatdate(d,e.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(d)&&(d=a.jqx.dataFormat.formatnumber(d,e.cellsformat,this.gridlocalization))),d},getcelltextbyid:function(b,c){if(null==b||null==c)return null;var d=this.getcellvaluebyid(b,c),e=this.getcolumn(c);return e&&""!=e.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(d)?d=a.jqx.dataFormat.formatdate(d,e.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(d)&&(d=a.jqx.dataFormat.formatnumber(d,e.cellsformat,this.gridlocalization))),d},_getcellvalue:function(a,b){var c=null;return c=b.bounddata[a.datafield],null!=a.displayfield&&(c=b.bounddata[a.displayfield]),null==c&&(c=""),c},getcell:function(a,b){if(null==a||null==b)return null;var c=parseInt(a),d=a,e="";return isNaN(c)||(d=this.getrowdata(c)),null!=d&&(e=d[b]),this._getcellresult(e,a,b)},getrenderedcell:function(a,b){if(null==a||null==b)return null;var c=parseInt(a),d=a,e="";return isNaN(c)||(d=this.getrenderedrowdata(c)),null!=d&&(e=d[b]),this._getcellresult(e,a,b)},_getcellresult:function(a,b,c){var d=this.getcolumn(c);if(null==d||void 0==d)return null;var e=d.getcolumnproperties(),f=e.hidden,g=e.width,h=e.pinned,i=e.cellsalign,j=e.cellsformat,k=this.getrowheight(b);return 0==k?null:{value:a,row:b,column:c,datafield:c,width:g,height:k,hidden:f,pinned:h,align:i,format:j}},setcellvaluebyid:function(a,b,c,d,e){var f=this.getrowboundindexbyid(a);return this.setcellvalue(f,b,c,d,e)},getcellvaluebyid:function(a,b){var c=this.getrowboundindexbyid(a);return this.getcellvalue(c,b)},setcellvalue:function(b,c,d,e,f){if(null==b||null==c)return!1;var g=parseInt(b),h=g,i=b;isNaN(g)||(i=this.getrowdata(g));var j=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(j=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var k="",l="";if(null==i||i[c]===d)return this._updating||0==e||this._renderrows(this.virtualsizeinfo),!1;if(null!==i[c]||""!==d){var m=this._getcolumnbydatafield(c),n="string",o=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(o){var p="";a.each(o,function(){return this.name==m.displayfield?(this.type&&(p=this.type),!1):void 0}),p&&(n=p),l=i[m.displayfield]}if(k=i[c],!m.nullable||null!=d&&""!==d&&m.nullable&&void 0===d.label){if(a.jqx.dataFormat.isNumber(k)||"number"==n||"float"==n||"int"==n||"decimal"==n&&"date"!=n)d=new Number(d),d=parseFloat(d),isNaN(d)&&(d=0);else if((a.jqx.dataFormat.isDate(k)||"date"==n)&&""!=d){var q=d;q=new Date(q),"Invalid Date"!=q&&null!=q?d=q:"Invalid Date"==q&&(q=new Date,d=q)}if(i[c]===d)return void(this._updating||0==e||this._renderrows(this.virtualsizeinfo))}i[c]=d;var r=this.getrenderedrowdata(g,!0);if(r){if(r[c]=d,null!=d&&null!=d.label){var m=this._getcolumnbydatafield(c);i[m.displayfield]=d.label,r[m.displayfield]=d.label,i[c]=d.value,r[c]=d.value}if(j&&void 0!=i.dataindex&&(h=i.dataindex,this.dataview.cachedrecords[i.dataindex][c]=d,null!=d&&void 0!=d.label&&(this.dataview.cachedrecords[i.dataindex][c]=d.value,this.dataview.cachedrecords[i.dataindex][m.displayfield]=d.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var s=g;j&&void 0!=i.dataindex&&(s=i.dataindex);var t=this.source._source._localdata()[s];this.source.suspendKO=!0;var u=t;if(u[c]&&u[c].subscribe)null!=d&&null!=d.label?(u[m.displayfield](d.label),u[c](d.value)):u[c](d);else{var o=this.source._source.datafields,v=null;if(o&&a.each(o,function(){return this.name==c?(v=this.map,!1):void 0}),null==v)null!=d&&null!=d.label?(u[c]=d.value,u[m.displayfield]=d.label):u[c]=d;else{var w=v.split(this.source.mapChar);if(w.length>0){for(var x=u,y=0;y<w.length-1;y++)x=x[w[y]];x[w[w.length-1]]=d}}this.source._source._localdata.replace(t,a.extend({},u))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var z=this.getsortinformation();this.sortcolumn==c&&(this.dataview.clearsortdata(),this.dataview.sortby(z.sortcolumn,z.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[c]&&(this.dataview.sortcache[c]=null);if(this._cellscache=new Array,this.source.updaterow&&(void 0==f||1==f)){var A=!1,B=this.that,C=function(a){0==a&&(B.setcellvalue(b,c,k,!0,!1),k!=l&&B.setcellvalue(b,B.getcolumn(c).displayfield,l,!0,!1))};try{var D=this.getrowid(g);A=this.source.updaterow(D,i,C),void 0==A&&(A=!0)}catch(E){return A=!1,B.setcellvalue(b,c,k,!0,!1),void(k!=l&&B.setcellvalue(b,B.getcolumn(c).displayfield,l,!0,!1))}}var F=this.vScrollInstance.value;if(this._updating&&1!=e&&(e=!1),1==e||void 0==e){var B=this.that,G=function(){B.pageable&&B.updatepagerdetails&&(B.updatepagerdetails(),(B.autoheight||B.autorowheight)&&B._updatepageviews())},H=this.groupable&&this.groups.length>0;j&&!H?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),G(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!H?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),G(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(c)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(F),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var I=this.getcolumn(c).filtertype;("list"==I||"checkedlist"==I)&&this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:b,datafield:c,newvalue:d,value:d,oldvalue:k}),!0}}},getcellvalue:function(a,b){if(null==a||null==b)return null;var c=parseInt(a),d=a;if(isNaN(c)||(d=this.getrowdata(c)),null!=d){var e=d[b];return e}return null},getrows:function(){var b=this.dataview.records.length;if(this.virtualmode){for(var c=new Array,d=0;d<this.dataview.records.length;d++){var e=this.dataview.records[d];e&&c.push(e)}void 0===this.dataview.records.length&&a.each(this.dataview.records,function(){var a=this;a&&c.push(a)});var f=0;return this.pageable&&(f=this.dataview.pagenum*this.dataview.pagesize),c.length>this.source._source.totalrecords-f?c.slice(0,this.source._source.totalrecords-f):c}if(this.dataview.sortdata){for(var c=new Array,d=0;b>d;d++){var g={};g=a.extend({},this.dataview.sortdata[d].value),c[d]=g}return c}return this.dataview.records},getrowboundindexbyid:function(a){var b=this.dataview.recordsbyid["id"+a];if(b&&b.boundindex)return this.getboundindex(b);for(var c=this.getboundrows(),d=0;d<c.length;d++)if(c[d]&&c[d].uid==a)return d;return-1},getrowdatabyid:function(a){var b=this.dataview.recordsbyid["id"+a];if(b)return b;var c=this.getrowboundindexbyid(a);return this.getboundrows()[c]},getrowdata:function(a){if(void 0==a&&(a=0),this.virtualmode){var b=this.dataview.records[a];return b}var b=this.getboundrows()[a];return b},getrenderedrowdata:function(a,b){if(void 0==a&&(a=0),this.virtualmode){var c=this.getrowvisibleindex(a),d=this.dataview.loadedrecords[c];return d}var c=this.getrowvisibleindex(a);if(c>=0){if(this.groupable&&this.groups.length>0)var d=this.dataview.loadedrecords[c];else{var d=this.dataview.loadedrecords[c];if(this.pageable&&(void 0==b||0==b))var d=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+a]}return d}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(a){for(var b=this.getdisplayrows(),c=0;c<b.length;c++)if(void 0!==b[c].dataindex){if(b[c].dataindex===a)return b[c].visibleindex}else if(b[c].boundindex===a)return b[c].visibleindex;return-1},getboundindex:function(a){var b=a.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&(b=this.getrowboundindexbyid(a.bounddata.uid)),this.dataview.filters.length>0&&(a.bounddata?void 0!==a.bounddata.dataindex&&(b=a.bounddata.dataindex):void 0!==a.dataindex&&(b=a.dataindex)),b},getrowboundindex:function(a){var b=this.getdisplayrows()[a];return b?void 0!==b.dataindex?b.dataindex:b.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(a){var b=this.getvisiblerows();return b?b[a]:null},getloadedrowdata:function(a){var b=this.getloadedrows();return b?b[a]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var a=[],b=0;b<this.dataview.pagesize;b++){var c=this.dataview.loadedrecords[b+this.dataview.pagesize*this.dataview.pagenum];if(void 0==c)break;a.push(c)}return a}if(void 0!=this._startboundindex&&void 0!=this._endboundindex){for(var a=[],b=this._startvisibleindex;b<=this._endvisibleindex;b++){var c=this.dataview.loadedrecords[b];if(void 0==c)break;a.push(c)}return a}return this.dataview.loadedrecords},getrowid:function(a){if(void 0==a&&(a=0),this.virtualmode){var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];if(c)return c.uid}else{var c=null,d=this.dataview.filters.length>0;if(a>=0&&a<this.dataview.bounditems.length&&!d){if(this.groupable&&this.groups.length>0)var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];else var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];if(c)return c.uid}if(this.dataview.filters.length>0){var c=this.getboundrows()[a];return c&&null!=c.uid?c.uid:null}}return null},_updateGridData:function(a){var b=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(b=!0),b?(this.dataview.refresh(),"updaterow"==a?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(b,c,d){if(void 0!=b&&void 0!=c){var e=this.that,f=!1;e._datachanged=!0;var g=function(b,c,e){if(b._loading)throw new Error("jqxGrid: "+b.loadingerrormessage);var f=!1;a.isArray(c)?(a.each(c,function(a){f=b.dataview.updaterow(this,e[a],!1)}),b.dataview.refresh()):f=b.dataview.updaterow(c,e);var g=b.vScrollInstance.value;if((void 0==d||1==d)&&(void 0==b._updating||0==b._updating)&&b._updateGridData("updaterow"),b.showaggregates&&b._updatecolumnsaggregates&&b._updatecolumnsaggregates(),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata){var h=b.dataview.recordsbyid["id"+c],i=b.dataview.records.indexOf(h),j=b.source._source._localdata()[i];b.source.suspendKO=!0,b.source._source._localdata.replace(j,a.extend({},h)),b.source.suspendKO=!1}return b.vScrollInstance.setPosition(g),f};if(this.source.updaterow){var h=function(a){1==a||void 0==a?g(e,b,c):f=!1};try{f=this.source.updaterow(b,c,h),void 0==f&&(f=!0)}catch(i){f=!1}}else f=g(e,b,c);return f}return!1},deleterow:function(b,c){if(void 0!=b){this._datachanged=!0;var d=!1,e=this.that,f=this.getrowboundindexbyid(b);void 0!=f&&(this.selectedrowindexes.indexOf(f)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(f),1),this.selectedrowindex==f&&(this.selectedrowindex=-1));var g=function(b,d){if(b._loading)throw new Error("jqxGrid: "+b.loadingerrormessage);var e=!1,f=b.vScrollInstance.value;if(a.isArray(d))a.each(d,function(){e=b.dataview.deleterow(this,!1)}),b.dataview.refresh();else var e=b.dataview.deleterow(d);return(void 0==b._updating||0==b._updating)&&(void 0==c||1==c)&&(b._render(!0,!0,!1,!1),"visible"!=b.vScrollBar.css("visibility")&&(b._arrange(),b._updatecolumnwidths(),b._updatecellwidths(),b._renderrows(b.virtualsizeinfo))),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.pop(rowdata),b.source.suspendKO=!1),b.dataview.sortby&&b.dataview.clearsortdata(),b.vScrollInstance.setPosition(f),e};if(this.source.deleterow){var h=function(a){(1==a||void 0==a)&&g(e,b)};try{this.source.deleterow(b,h),void 0==d&&(d=!0)}catch(i){d=!1}}else d=g(e,b);return d}return!1},addrow:function(b,c,d){if(void 0!=c){this._datachanged=!0,void 0==d&&(d="last");var e=!1,f=this.that;if(null==b){var g=this.dataview.filters&&this.dataview.filters.length>0,h=g?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(a.isArray(c)){var i=new Array;a.each(c,function(a){var b=f.dataview.getid(f.dataview.source.id,c[a],h+a);i.push(b)}),b=i}else for(b=this.dataview.getid(this.dataview.source.id,c,h);null!=this.dataview.recordsbyid["id"+b];)b++}var j=function(b,c,d,e){if(b._loading)throw new Error("jqxGrid: "+b.loadingerrormessage);var f=b.vScrollInstance.value,g=!1;return a.isArray(d)?(a.each(d,function(a){void 0!=this.dataindex&&delete this.dataindex;var d=null;null!=c&&null!=c[a]&&(d=c[a]),g=b.dataview.addrow(d,this,e,!1)}),b.dataview.refresh()):(void 0!=d&&void 0!=d.dataindex&&delete d.dataindex,g=b.dataview.addrow(c,d,e)),(void 0==b._updating||0==b._updating)&&(b._render(!0,!0,!1,!1),b.invalidate()),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.push(d),b.source.suspendKO=!1),b.vScrollInstance.setPosition("deferred"!=b.scrollmode?f:0),g};if(this.source.addrow){var k=function(a,e){(1==a||void 0==a)&&(void 0!=e&&(b=e),j(f,b,c,d))};try{e=this.source.addrow(b,c,d,k),void 0==e&&(e=!0)}catch(l){e=!1}if(0==e)return!1}else j(this,b,c,d);return e}return!1},_findvisiblerow:function(a,b){void 0==a&&(a=parseInt(this.vScrollInstance.value));var c=0;(void 0==b||null==b)&&(b=this.rows.records);for(var d=b.length;d>=c;){mid=parseInt((c+d)/2);var e=b[mid];if(void 0==e)break;if(e.top>a&&e.top+e.height>a)d=mid-1;else{if(!(e.top<a&&e.top+e.height<a))return mid;c=mid+1}}return-1},_updatecellwidths:function(){var a=this.virtualsizeinfo;if(a){{this.that}if(void 0!=this.gridcontent){void 0==this.table&&(this.table=this.gridcontent.find("#contenttable"+this.element.id));var b=this.groupable&&this.groups.length>0,c=0,d=a.visiblerecords;if(this.pageable&&(this.autoheight||this.autorowheight)&&(d=this.dataview.pagesize,this.groupable&&(this.dataview.updateview(),d=this.dataview.rows.length)),this.groupable||this.pageable||!this.autoheight&&!this.autorowheight||(d=this.dataview.totalrecords),this.rowdetails&&(d+=this.dataview.pagesize),this.columns.records){for(var e=this.columns.records.length,f=this.table[0].rows,g=0;d>g;g++){var h=f[g];if(!h)break;for(var i=h.cells,j=0,k=0;e>k;k++){var l=this.columns.records[k],m=l.width,n=i[k];parseInt(n.style.left)!=j&&(n.style.left=j+"px"),parseInt(n.style.width)!=m&&(n.style.width=m+"px"),l.hidden&&l.hideable?n.style.display="none":j+=parseFloat(m)}0==c&&(this.table.width(parseFloat(j)+2),c=j)}this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this.showfilterrow&&this.filterable&&this._updatefilterrowui&&this._updatefilterrowui(),this._updatescrollbarsafterrowsprerender(),b&&this._renderrows(this.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var a=this.hScrollBar[0].style.visibility,b=0,c=this.vScrollBar[0].style.visibility;"visible"==c&&(b=this.scrollbarsize+3);var d=this.element.style.width;if(d=d.toString().indexOf("%")>=0?this.host.width():parseInt(d),parseInt(this.table[0].style.width)-2>d-b){if("visible"!=a&&(this.autowidth||(this.hScrollBar[0].style.visibility="visible"),this._arrange()),"visible"==c){if("deferred"==this.scrollmode||this.virtualmode)this._updatevscrollbarmax();else if(this.virtualsizeinfo){var e=this.virtualsizeinfo.virtualheight-this._gettableheight();!isNaN(e)&&e>0&&("hidden"!=a?this.vScrollBar.jqxScrollBar("max",e+this.scrollbarsize+4):this.vScrollBar.jqxScrollBar("max",e))}}else b=-2;this.hScrollBar.jqxScrollBar("max",b+this.table.width()-this.host.width())}else"hidden"!=a&&(this.hScrollBar.css("visibility","hidden"),this._arrange());this._renderhorizontalscroll()},_prerenderrows:function(b){var c=this.that;if(1==this.prerenderrequired){if(this.prerenderrequired=!1,this.editable&&this._destroyeditors&&this._destroyeditors(),void 0==this.gridcontent)return;this.gridcontent.find("#contenttable"+this.element.id).remove(),null!=this.table&&(this.table.remove(),this.table=null),this.table=a('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;" height="100%"></div>'),this.gridcontent.addClass(this.toTP("jqx-grid-content")),this.gridcontent.addClass(this.toTP("jqx-widget-content")),this.gridcontent.append(this.table);var d=this.groupable&&this.groups.length>0,e=0;this.table[0].rows=new Array;var f=this.toTP("jqx-grid-cell");d&&(f=" "+this.toTP("jqx-grid-group-cell"));var g=b.visiblerecords;if(this.pageable&&(this.autoheight||this.autorowheight)&&(g=this.dataview.pagesize,this.groupable&&(this.dataview.updateview(),g=this.dataview.rows.length,g<this.dataview.pagesize&&(g=this.dataview.pagesize))),this.pageable||!this.autoheight&&!this.autorowheight||(g=this.dataview.totalrecords),this.groupable&&(this.autoheight||this.autorowheight)&&!this.pageable&&(g=this.dataview.rows.length),this.rowdetails&&(g+=this.autoheight||this.autorowheight?this.dataview.pagesize:g),!this.columns.records)return;var h=this.columns.records.length;a.jqx.browser.msie&&a.jqx.browser.version>8&&this.table.css("opacity","0.99"),a.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&this.table.css("opacity","0.99");var i=a.jqx.browser.msie&&a.jqx.browser.version<8;i&&this.host.attr("hideFocus","true");var j=this.tableZIndex;g*h>j&&(j=g*h);var k=(0==this.dataview.records.length,this.isTouchDevice(),"");this._hiddencolumns=!1;for(var l=0;g>l;l++){var m='<div role="row" style="position: relative; height='+this.rowsheight+'px;" id="row'+l+this.element.id+'">';if(i){var m='<div role="row" style="position: relative; z-index: '+j+"; height:"+this.rowsheight+'px;" id="row'+l+this.element.id+'">';j--}for(var n=0,o=0;h>o;o++){var p=this.columns.records[o],q=p.width;if(q<p.minwidth&&(q=p.minwidth),q>p.maxwidth&&(q=p.maxwidth),this.rtl){var r=j-h+2*o,s='<div role="gridcell" style="left: '+n+"px; z-index: "+r+"; width:"+q+"px;";j--}else var s='<div role="gridcell" style="left: '+n+"px; z-index: "+j--+"; width:"+q+"px;";p.hidden&&p.hideable?(s+="display: none;",this._hiddencolumns=!0,j++):n+=q,s+='" class="'+f+'"></div>',m+=s}0==e&&(this.table.width(parseInt(n)+2),e=n),m+="</div>",k+=m}c.WinJS?MSApp.execUnsafeLocalFunction(function(){c.table.html(k)}):c.table[0].innerHTML=k,this.table[0].rows=new Array;for(var t=this.table.children(),l=0;g>l;l++){var u=t[l];this.table[0].rows.push(u),u.cells=new Array;for(var v=a(u).children(),o=0;h>o;o++)u.cells.push(v[o])}if(0==g){var n=0;if(this.showemptyrow){var m=a('<div style="position: relative;" id="row0'+this.element.id+'"></div>');this.table.append(m),m.height(this.rowsheight),this.table[0].rows[0]=m[0],this.table[0].rows[0].cells=new Array}for(var o=0;h>o;o++){var p=this.columns.records[o],q=p.width;if(this.showemptyrow){var s=a('<div style="position: absolute; height: 100%; left: '+n+"px; z-index: "+j--+"; width:"+q+'px;" class="'+f+'"></div>');s.height(this.rowsheight),m.append(s),this.table[0].rows[0].cells[o]=s[0]}q<p.minwidth&&(q=p.minwidth),q>p.maxwidth&&(q=p.maxwidth),p.hidden&&p.hideable||(n+=q)}this.table.width(parseInt(n)+2),e=n}this._updatescrollbarsafterrowsprerender(),this.rendered&&this.rendered("rows"),this._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var a=null,b=null;this.tableheight=null;var c=this.that,d=!1,e=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("px")?a=this.width:void 0==this.width||isNaN(this.width)||(a=this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&(a=this.width,d=!0),this.autowidth){for(var f=0,g=0;g<this.columns.records.length;g++){var h=this.columns.records[g].width;"auto"==h?(h=this._measureElementWidth(this.columns.records[g].text),f+=h):f+=h}"hidden"!=this.vScrollBar.css("visibility")&&(f+=this.scrollbarsize+4),a=f,this.width=a}null!=this.height&&-1!=this.height.toString().indexOf("px")?b=this.height:void 0==this.height||isNaN(this.height)||(b=this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=this.height,e=!0);var i=function(){var a=0,b=c.showheader&&null!=c.columnsheader?c.columnsheader.height()+2:0;return a+=b,c.pageable&&(a+=c.pagerheight),c._groupsheader()&&(a+=c.groupsheaderheight),c.showtoolbar&&(a+=c.toolbarheight),c.showstatusbar&&(a+=c.statusbarheight),"visible"==c.hScrollBar[0].style.visibility&&(a+=20),a};if(this.autoheight&&this.virtualsizeinfo)if(this.pageable&&this.gotopage){var j=0;b=j+(this._pageviews[0]?this._pageviews[0].height:0),b+=i(),this.showemptyrow&&0==this.dataview.totalrecords&&(b+=this.rowsheight)}else{var j=this.host.height()-this._gettableheight();this._pageviews.length>0?(b=j+this._pageviews[this._pageviews.length-1].height+this._pageviews[this._pageviews.length-1].top,this.vScrollBar[0].style.visibility="hidden"):(b=i(),this.showemptyrow&&(b+=this.rowsheight))}else this.autoheight&&(b=this.dataview.totalrecords*this.rowsheight,this._loading&&(b=250,this.dataloadelement.height(b)),b+=i(),b>1e4&&(b=1e4));null!=a?(a=parseInt(a),d?this.element.style.width=this.width:this.element.style.width!=parseInt(this.width)+"px"&&(this.element.style.width=parseInt(this.width)+"px"),d&&(a=this.host.width(),2>=a&&(a=600,this.host.width(a)),this._oldWidth||(this._oldWidth=a))):this.host.width(250),null!=b?(e||(b=parseInt(b)),e?this.element.style.height=this.height:this.element.style.height!=parseInt(b)+"px"&&(this.element.style.height=parseInt(b)+"px"),e&&!this.autoheight&&(b=this.host.height(),0==b&&(b=400,this.host.height(b)),this._oldHeight||(this._oldHeight=b))):this.host.height(250),this.autoheight&&(this.tableheight=null,this._gettableheight());var k=0;if(this.showtoolbar?(this.toolbar.width(a),this.toolbar.height(this.toolbarheight-1),this.toolbar.css("top",0),k+=this.toolbarheight,b-=parseInt(this.toolbarheight)):this.toolbar[0].style.height="0px",this.showstatusbar?(this.statusbar.width(this.showaggregates?this.table?Math.max(a,this.table.width()):a:a),this.statusbar.height(this.statusbarheight)):this.statusbar[0].style.height="0px",this._groupsheader()){this.groupsheader.width(a),this.groupsheader.height(this.groupsheaderheight),this.groupsheader.css("top",k);var l=this.groupsheader.height()+1;k+=l,b>l&&(b-=parseInt(l))}else{this.groupsheader[0].style.width!=a+"px"&&(this.groupsheader[0].style.width=parseInt(a)+"px"),this.groupsheader[0].style.height="0px",this.groupsheader[0].style.top!=k+"px"&&this.groupsheader.css("top",k);var l=this.showgroupsheader&&this.groupable?this.groupsheaderheight:0,m=k+l+"px";this.content[0].style.top!=m&&this.content.css("top",k+this.groupsheaderheight)}var n=this.scrollbarsize;isNaN(n)&&(n=parseInt(n),isNaN(n)?n="17px":n+="px"),n=parseInt(n);var o=4,p=2,q=0;"visible"==this.vScrollBar[0].style.visibility&&(q=n+o),"visible"==this.hScrollBar[0].style.visibility&&(p=n+o+2);var r=0;this.pageable&&(r=this.pagerheight,p+=this.pagerheight),this.showstatusbar&&(p+=this.statusbarheight,r+=this.statusbarheight),this.hScrollBar[0].style.height!=n+"px"&&(this.hScrollBar[0].style.height=parseInt(n)+"px"),(this.hScrollBar[0].style.top!=k+b-o-n-r+"px"||"0px"!=this.hScrollBar[0].style.left)&&this.hScrollBar.css({top:k+b-o-n-r+"px",left:"0px"});var s=this.hScrollBar[0].style.width,t=!1,u=!1;0==q?s!=a-2+"px"&&(this.hScrollBar.width(a-2),t=!0):s!=a-n-o+"px"&&(this.hScrollBar.width(a-n-o+"px"),t=!0),this.autoheight||(this.vScrollBar[0].style.width!=n+"px"&&(this.vScrollBar.width(n),u=!0),this.vScrollBar[0].style.height!=parseInt(b)-p+"px"&&(this.vScrollBar.height(parseInt(b)-p+"px"),u=!0),(this.vScrollBar[0].style.left!=parseInt(a)-parseInt(n)-o+"px"||this.vScrollBar[0].style.top!=k+"px")&&this.vScrollBar.css({left:parseInt(a)-parseInt(n)-o+"px",top:k})),this.rtl&&(this.vScrollBar.css({left:"0px",top:k}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:n+2}));var v=this.vScrollInstance;v.disabled=this.disabled,this.autoheight||u&&v.refresh();var w=this.hScrollInstance;w.disabled=this.disabled,t&&w.refresh(),this.autowidth&&(this.hScrollBar[0].style.visibility="hidden"),this.statusbarheight=parseInt(this.statusbarheight),this.toolbarheight=parseInt(this.toolbarheight);var x=function(a){"visible"==a.vScrollBar[0].style.visibility&&"visible"==a.hScrollBar[0].style.visibility?(a.bottomRight[0].style.visibility="visible",a.bottomRight.css({left:1+parseInt(a.vScrollBar.css("left")),top:parseInt(a.hScrollBar.css("top"))}),a.rtl&&a.bottomRight.css("left","0px"),a.bottomRight.width(parseInt(n)+3),a.bottomRight.height(parseInt(n)+4),a.showaggregates&&(a.bottomRight.css("z-index",99),a.bottomRight.height(parseInt(n)+4+a.statusbarheight),a.bottomRight.css({top:parseInt(a.hScrollBar.css("top"))-a.statusbarheight}))):a.bottomRight[0].style.visibility="hidden"};if(x(this),this.content[0].style.width!=a-q+"px"&&this.content.width(a-q),this.content[0].style.height!=b-p+3+"px"&&this.content.height(b-p+3),this.content[0].style.top!=k+"px"&&this.content.css("top",k),this.rtl&&(this.content.css("left",q),this.table)){var y=this.table.width();a-q>y&&this.content.css("left",a-y)}if(this.showstatusbar&&(this.statusbar.css("top",k+b-this.statusbarheight-(this.pageable?this.pagerheight:0)),this.showaggregates&&("visible"==this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:k+b-o-n-r+this.statusbarheight+"px"}),this.statusbar.css("top",1+k+b-n-5-this.statusbarheight-(this.pageable?this.pagerheight:0))),x(this)),this.rtl&&("visible"!=this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager.width(a),this.pager.height(this.pagerheight),this.pager.css("top",k+b-this.pagerheight-1)):this.pager[0].style.height="0px",null!=this.table){var z=-2;if("visible"==this.vScrollBar[0].style.visibility&&(z=this.scrollbarsize+3),"visible"==this.hScrollBar[0].style.visibility){var A=z+this.table.width()-this.host.width();A>=0&&this.hScrollBar.jqxScrollBar("max",A),"visible"==this.hScrollBar[0].style.visibility&&0==A&&(this.hScrollBar[0].style.visibility="hidden",this._arrange())}}a!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),b!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=a},destroy:function(){if(delete a.jqx.dataFormat.datescache,delete this.gridlocalization,a.jqx.utilities.resize(this.host,null,!0),this.table&&this.table[0]){for(var b=this.table[0].rows.length,c=0;b>c;c++){for(var d=this.table[0].rows[c],e=d.cells,f=e.length,g=0;f>g;g++)a(d.cells[g]).remove(),d.cells[g]=null,delete d.cells[g];d.cells=null,d.cells&&delete d.cells,a(this.table[0].rows[c]).remove(),this.table[0].rows[c]=null}try{delete this.table[0].rows}catch(h){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(var c=0;c<this.columns.records.length;c++){var i=this.columns.records[c];
this._removecolumnhandlers(this.columns.records[c]),i.element&&(a(i.element).remove(),a(i.sortasc).remove(),a(i.sortdesc).remove(),a(i.filtericon).remove(),a(i.menu).remove(),i.element=null,i.uielement=null,i.sortasc=null,i.sortdesc=null,i.filtericon=null,i.menu=null,delete i.element,delete i.uielement,delete i.sortasc,delete i.sortdesc,delete i.filtericon,delete i.menu,delete this.columnsrow[0].cells[c])}try{delete this.columnsrow[0].cells}catch(h){}delete this.columnsrow}if(jQuery.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(a(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(a(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(a(document),"selectstart."+this.element.id),this.removeHandler(a(document),"mousedown.resize"+this.element.id),this.removeHandler(a(document),"mouseup.resize"+this.element.id),this.removeHandler(a(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var j=a.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,k=a.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,l=a.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l)}if(this.removeHandler(a(document),"mousedown.reorder"+this.element.id),this.removeHandler(a(document),"mouseup.reorder"+this.element.id),this.removeHandler(a(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){var j=a.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,k=a.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,l=a.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l)}if(this.removeHandler(a(window),"resize."+this.element.id),this.groupable){var j="mousemove.grouping"+this.element.id,k="mousedown.grouping"+this.element.id,l="mouseup.grouping"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l)}if(this.columnsreorder){var j="mousemove.reorder"+this.element.id,k="mousedown.reorder"+this.element.id,l="mouseup.reorder"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader.remove(),delete this.columnsheader,this.selectionarea.remove(),delete this.selectionarea,this.menuitemsarray&&this.menuitemsarray.length)for(var m=this.menuitemsarray.length,c=0;m>c;c++)a(this.menuitemsarray[c]).remove();delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent.remove(),delete this.gridcontent,this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var c=this.source?this.source.datafields:null;null==c&&this.source&&this.source._source&&(c=this.source._source.datafields);var d=c?c.length>0:!1;if(this.autogeneratecolumns){var e=new Array;if(c)a.each(c,function(){var a={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};e.push(a)});else if(this.source.records.length>0){var f=this.source.records[0];for(obj in f)if("uid"!=obj){var g={width:100,datafield:obj,text:obj};e.push(g)}}this.columns=e}if(this.columns&&this.columns.records)for(var h=0;h<this.columns.records.length;h++)this._removecolumnhandlers(this.columns.records[h]);var i=this.that,j=new a.jqx.collection(this.element),k=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&a.each(this.groups,function(){var a=new b(i,this);a.visibleindex=k++,a.width=i.groupindentwidth,j.add(a),a.grouped=!0,a.filterable=!1,a.sortable=!1,a.editable=!1,a.resizable=!1,a.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn){var g=new b(i,this);g.visibleindex=k++,g.width=i.groupindentwidth,g.pinned=!0,g.editable=!1,g.filterable=!1,g.draggable=!1,g.groupable=!1,g.resizable=!1,j.add(g),i._haspinned=!0}if("checkbox"==this.selectionmode){var g=new b(i,null);g.visibleindex=k++,g.width=i.groupindentwidth,g.checkboxcolumn=!0,g.editable=!1,g.columntype="checkbox",g.groupable=!1,g.draggable=!1,g.filterable=!1,g.resizable=!1,g.datafield="_checkboxcolumn",j.add(g)}var l=new Array;a.each(this.columns,function(a){if(void 0!=i.columns[a]){var c=new b(i,this);if(c.visibleindex=k++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(i._haspinned=!0),null==this.datafield)i.source&&i.source._source&&"array"==i.source._source.datatype&&(d||(i.source._source.datafields?i.source._source.datafields.push({name:a.toString()}):(i.source._source.datafields=new Array,i.source._source.datafields.push({name:a.toString()}))),this.datafield=a.toString(),this.displayfield=a.toString(),c.datafield=this.datafield,c.displayfield=this.displayfield);else{if(l[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");l[this.datafield]=!0}j.add(c)}}),this.rtl&&j.records.reverse(),this.columns=j},_initializeRows:function(){var b=new a.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=b},_raiseEvent:function(a,b){if(void 0==b&&(b={owner:null}),this._trigger!==!1){var c=this.events[a];this._camelCase||(c=c.toLowerCase()),args=b,args.owner=this;var d=new jQuery.Event(c);d.owner=this,d.args=args;var e=this.host.trigger(d);return b=d.args,e}},wheel:function(a,b){if(b.autoheight&&"visible"!=b.hScrollBar.css("visibility"))return a.returnValue=!0,!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),d?(d=!1,a.returnValue=d,d):!1}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){if("hidden"!=this.vScrollBar.css("visibility")){var b=this.vScrollInstance.value;0>a?this.scrollDown():this.scrollUp();var c=this.vScrollInstance.value;if(b!=c)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var b=this.hScrollInstance.value;this.hScrollInstance.setPosition(a>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.value-2*this.horizontalscrollbarstep:0:this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.value+2*this.horizontalscrollbarstep:this.hScrollInstance.max);var c=this.hScrollInstance.value;if(b!=c)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var a=this.vScrollInstance;a.setPosition(a.value+this.rowsheight<=a.max?parseInt(a.value)+this.rowsheight:a.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var a=this.vScrollInstance;a.setPosition(a.value-this.rowsheight>=a.min?parseInt(a.value)-this.rowsheight:a.min)}},_removeHandlers:function(){this.that;this.removeHandler(this.vScrollBar,"valuechanged"),this.removeHandler(this.hScrollBar,"valuechanged"),this.vScrollInstance.valuechanged=null,this.hScrollInstance.valuechanged=null;var b="mousedown.jqxgrid";this.isTouchDevice()&&(b=a.jqx.mobile.getTouchEventName("touchend")),this.removeHandler(this.host,"dblclick.jqxgrid"),this.removeHandler(this.host,b),this.removeHandler(this.content,"mousemove",this._mousemovefunc),this.removeHandler(this.host,"mouseleave.jqxgrid"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"selectstart."+this.element.id),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown.edit"+this.element.id),this.removeHandler(a(document),"keydown.edit"+this.element.id),this.removeHandler(a(document),"keyup.edit"+this.element.id),this._mousemovedocumentfunc&&this.removeHandler(a(document),"mousemove.selection"+this.element.id,this._mousemovedocumentfunc),this.removeHandler(a(document),"mouseup.selection"+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.editable&&this.removeHandler(a(document),"mousedown.gridedit"+this.element.id),this.host.off&&(this.content.off("mousemove"),this.host.off("mousewheel"))},_addHandlers:function(){var b=this.that,c=b.isTouchDevice();c||this.addHandler(this.host,"dragstart."+this.element.id,function(){return!1}),this.editable&&this.addHandler(a(document),"mousedown.gridedit"+this.element.id,function(a){if(b.editable&&b.begincelledit&&b.editcell&&!b.vScrollInstance.isScrolling()&&!b.vScrollInstance.isScrolling()){var c=b.host.coord(),d=b.host.width(),e=b.host.height(),f=!1,g=!1,h=!1;if((a.pageY<c.top||a.pageY>c.top+e)&&(f=!0,g=!0),(a.pageX<c.left||a.pageX>c.left+d)&&(f=!0,h=!0),f){if(b.editcell&&b.editcell.editor)switch(b.editcell.columntype){case"datetimeinput":if(b.editcell.editor.jqxDateTimeInput&&b.editcell.editor.jqxDateTimeInput("container")&&"block"==b.editcell.editor.jqxDateTimeInput("container")[0].style.display){var i=b.editcell.editor.jqxDateTimeInput("container").coord().top,j=b.editcell.editor.jqxDateTimeInput("container").coord().top+b.editcell.editor.jqxDateTimeInput("container").height();if(!g||!(a.pageY<i||a.pageY>j))return;f=!0,b.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(b.editcell.editor.jqxComboBox&&b.editcell.editor.jqxComboBox("container")&&"block"==b.editcell.editor.jqxComboBox("container")[0].style.display){var i=b.editcell.editor.jqxComboBox("container").coord().top,j=b.editcell.editor.jqxComboBox("container").coord().top+b.editcell.editor.jqxComboBox("container").height();if(!g||!(a.pageY<i||a.pageY>j))return;f=!0,b.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(b.editcell.editor.jqxDropDownList&&b.editcell.editor.jqxDropDownList("container")&&"block"==b.editcell.editor.jqxDropDownList("container")[0].style.display){var i=b.editcell.editor.jqxDropDownList("container").coord().top,j=b.editcell.editor.jqxDropDownList("container").coord().top+b.editcell.editor.jqxDropDownList("container").height();if(!g||!(a.pageY<i||a.pageY>j))return;f=!0,b.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var k=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],l=function(c){var d=b.editcell.editor.data();if(d[c]&&d[c].instance.container&&"block"==d[c].instance.container[0].style.display){var e=d[c].instance,h=e.container.coord().top,i=e.container.coord().top+e.container.height();return g&&(a.pageY<h||a.pageY>i)?(f=!0,e.close(),!0):!1}},m=0;m<k.length;m++){var n=l(k[m]);if(0==n)return}}b.endcelledit(b.editcell.row,b.editcell.column,!1,!0),b._oldselectedcell=null}}}),this.vScrollInstance.valuechanged=function(a){b.virtualsizeinfo&&(b._closemenu(),"physical"!=b.scrollmode?(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue):void 0!=b.currentScrollValue&&Math.abs(b.currentScrollValue-a.currentValue)>=5?(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue):(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue),b.pageable||b.groupable||!b.dataview.virtualmode||(b.loadondemandupdate&&clearTimeout(b.loadondemandupdate),b.loadondemandupdate=setTimeout(function(){b.loadondemand=!0,b._renderrows(b.virtualsizeinfo)},100)),c&&(b._lastScroll=new Date))},this.hScrollInstance.valuechanged=function(){if(b.virtualsizeinfo){b._closemenu();{var d=function(){b._renderhorizontalscroll(),b._renderrows(b.virtualsizeinfo),b.editcell&&!b.editrow&&b._showcelleditor&&b.editcell.editing&&(b.hScrollInstance.isScrolling()||b._showcelleditor(b.editcell.row,b.getcolumn(b.editcell.column),b.editcell.element,b.editcell.init))};void 0==b._browser?b._isIE10():b._browser}navigator&&-1!=navigator.userAgent.indexOf("Safari")?(b._hScrollTimer&&clearTimeout(b._hScrollTimer),b._hScrollTimer=setTimeout(function(){d()},1)):a.jqx.browser.msie?(b._hScrollTimer&&clearTimeout(b._hScrollTimer),b._hScrollTimer=setTimeout(function(){d()},.01)):d(),c&&(b._lastScroll=new Date)}},this._mousewheelfunc=this._mousewheelfunc||function(a){return!b.editcell&&b.enablemousewheel?(b.wheel(a,b),!1):void 0},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var d="mousedown.jqxgrid";c&&(d=a.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.host,d,function(c){if(b.isTouchDevice()){if(b._newScroll=new Date,b._newScroll-b._lastScroll<500)return!1;if(a(c.target).ischildof(b.vScrollBar))return!1;if(a(c.target).ischildof(b.hScrollBar))return!1}b._mousedown=new Date;var d=b._handlemousedown(c,b);return b.isNestedGrid&&(b.resizablecolumn||b.columnsreorder||c.stopPropagation()),b._lastmousedown=new Date,d}),c||(this.addHandler(this.host,"dblclick.jqxgrid",function(c){if(b.editable&&b.begincelledit&&"dblclick"==b.editmode)b._handledblclick(c,b);else if(a.jqx.browser.msie&&a.jqx.browser.version<9){b._handlemousedown(c,b)}return b.mousecaptured=!1,b._lastmousedown=new Date,!0}),this._mousemovefunc=function(a){return b._handlemousemove?b._handlemousemove(a,b):void 0},this.addHandler(this.content,"mousemove",this._mousemovefunc),b._handlemousemoveselection&&(this._mousemovedocumentfunc=function(a){return b._handlemousemoveselection?b._handlemousemoveselection(a,b):void 0},this.addHandler(a(document),"mousemove.selection"+this.element.id,this._mousemovedocumentfunc)),this.addHandler(a(document),"mouseup.selection"+this.element.id,function(a){b._handlemouseupselection&&b._handlemouseupselection(a,b)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var e=null;if(window.parent&&document.referrer&&(e=document.referrer),e&&-1!=e.indexOf(document.location.host)){var f=function(a){b._handlemouseupselection&&b._handlemouseupselection(a,b)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",f,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",f)}}}catch(g){}this.focused=!1,c||(this.addHandler(this.content,"mouseenter",function(){b.focused=!0,b.wrapper&&(b.wrapper.attr("tabindex",1),b.content.attr("tabindex",2)),b._overlayElement&&(b._overlayElement[0].style.visibility=b.vScrollInstance.isScrolling()||b.hScrollInstance.isScrolling()?"visible":"hidden")}),this.addHandler(this.content,"mouseleave",function(){b._handlemousemove&&b.enablehover&&b._clearhoverstyle(),b._overlayElement&&(b._overlayElement[0].style.visibility="hidden"),b.focused=!1}),(this.groupable||this.columnsreorder)&&this.addHandler(a(document),"selectstart."+this.element.id,function(){return b.__drag===!0?!1:void 0}),this.addHandler(this.content,"selectstart."+this.element.id,function(c){return b.enablebrowserselection?!0:b.showfilterrow&&a(c.target).ischildof(b.filterrow)?!0:b.editcell?void(c.stopPropagation&&c.stopPropagation()):!1}),this.addHandler(a(document),"keyup.edit"+this.element.id,function(){b._keydown=!1}),this.addHandler(a(document),"keydown.edit"+this.element.id,function(c){b._keydown=!0&&!b.editcell;var d=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(b.handlekeyboardnavigation){var e=b.handlekeyboardnavigation(c);if(1==e)return!1}if(b.editable&&b.editcell&&(13==d||27==d)&&b._handleeditkeydown&&(f=b._handleeditkeydown(c,b)),27==d&&(b.mousecaptured=!1,"visible"==b.selectionarea.css("visibility")&&b.selectionarea.css("visibility","hidden")),a.jqx.browser.msie&&a.jqx.browser.version<8&&b.focused&&!b.isNestedGrid){if(13==d&&0==f)return f;var f=!0,d=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(!b.editcell&&b.editable&&"programmatic"!=b.editmode&&b._handleeditkeydown&&(f=b._handleeditkeydown(c,b)),f&&b.keyboardnavigation&&b._handlekeydown)return f=b._handlekeydown(c,b),f||(c.preventDefault&&c.preventDefault(),void 0!=c.stopPropagation&&c.stopPropagation()),f}return!0}),this.addHandler(this.host,"keydown.edit"+this.element.id,function(c){var d=!0;if(b.handlekeyboardnavigation){var e=b.handlekeyboardnavigation(c);if(1==e)return!1}return b.editable&&"programmatic"!=b.editmode&&b._handleeditkeydown&&(d=b._handleeditkeydown(c,b),b.isNestedGrid&&c.stopPropagation()),a.jqx.browser.msie&&a.jqx.browser.version<8?b.isNestedGrid&&d&&b.keyboardnavigation&&b._handlekeydown&&(d=b._handlekeydown(c,b),c.stopPropagation()):d&&b.keyboardnavigation&&b._handlekeydown&&(d=b._handlekeydown(c,b),b.isNestedGrid&&c.stopPropagation()),d||(c.preventDefault&&c.preventDefault(),void 0!=c.stopPropagation&&c.stopPropagation()),d}))},_hittestrow:function(b,c){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){void 0==b&&(b=0);var d=this.vScrollInstance,e=this.hScrollInstance,f=d.value;"visible"!=this.vScrollBar.css("visibility")&&(f=0);var g=e.value;"visible"!=this.hScrollBar.css("visibility")&&(g=0),"deferred"==this.scrollmode&&null!=this._newmax&&f>this._newmax&&(f=this._newmax);{var h=parseInt(f)+c;parseInt(g)+b}if(null!=this.visiblerows&&0!=this.visiblerows.length){var i=!1,j=this._findvisiblerow(h,this.visiblerows);if(j>=0){var k=this.visiblerows[j],l=this.rowdetails&&k.rowdetails,m=!k.rowdetailshidden;if(l){var n=this.visiblerows[j-1];if(n==k&&(k=n,j--),m){var o=a(this.hittestinfo[j].visualrow).position().top+parseInt(this.table.css("top")),p=a(this.hittestinfo[j].visualrow).height();c>=o&&o+p>=c||(j++,k=this.visiblerows[j],i=!0)}}}return{index:j,row:k,details:i}}}},getcellatposition:function(b,c){var d=this.that,e=this.showheader?this.columnsheader.height()+2:0,f=this._groupsheader()?this.groupsheader.height():0,g=this.showtoolbar?this.toolbarheight:0;f+=g;var h=this.host.coord();this.hasTransform&&(h=a.jqx.utilities.getOffset(this.host));var i=b-h.left,j=c-e-h.top-f,k=this._hittestrow(i,j),l=k.row,m=k.index,n=this.table[0].rows[m];if(this.dataview&&0==this.dataview.records.length){for(var o=this.table[0].rows,p=0,q=0;q<o.length;q++){if(j>=p&&j<p+this.rowsheight){n=o[q];break}p+=this.rowsheight}l={boundindex:q}}if(null==n)return!0;for(var r=this.hScrollInstance,s=r.value,t=0,q=(this.groupable?this.groups.length:0,0);q<n.cells.length;q++){var u=parseInt(a(this.columnsrow[0].cells[q]).css("left")),b=u-s;d.columns.records[q].pinned&&(b=u);var v=b+a(this.columnsrow[0].cells[q]).width();if(v>=i&&i>=b){t=q;break}}if(null!=l){var w=this._getcolumnat(t);return{row:this.getboundindex(l),column:w.datafield,value:this.getcellvalue(this.getboundindex(l),w.datafield)}}return null},_handlemousedown:function(b,c){if(null==b.target)return!0;if(c.disabled)return!0;if(a(b.target).ischildof(this.columnsheader))return!0;var d;b.which?d=3==b.which:b.button&&(d=2==b.button);var e;if(b.which?e=2==b.which:b.button&&(e=1==b.button),e)return!0;if(this.showstatusbar){if(a(b.target).ischildof(this.statusbar))return!0;if(b.target==this.statusbar[0])return!0}if(this.showtoolbar){if(a(b.target).ischildof(this.toolbar))return!0;if(b.target==this.toolbar[0])return!0}if(this.pageable){if(a(b.target).ischildof(this.pager))return!0;if(b.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&a(b.target).ischildof(this.pager))return!0;var f=this.showheader?this.columnsheader.height()+2:0,g=this._groupsheader()?this.groupsheader.height():0,h=this.showtoolbar?this.toolbarheight:0;g+=h;var i=this.host.coord();if(this.hasTransform){i=a.jqx.utilities.getOffset(this.host);var j=this._getBodyOffset();i.left-=j.left,i.top-=j.top}var k=parseInt(b.pageX),l=parseInt(b.pageY);if(this.isTouchDevice()){var m=c.getTouches(b),n=m[0];k=parseInt(n.pageX),l=parseInt(n.pageY),1==c.touchmode&&(k=parseInt(n._pageX),l=parseInt(n._pageY))}var o=k-i.left,p=l-f-i.top-g;if(this.pageable&&!this.autoheight&&this.gotopage){var q=this.pager.coord().top-i.top-g-f;if(p>q)return}var r=this._hittestrow(o,p);if(r&&!r.details){var s=r.row,t=r.index,u=b.target.className,v=this.table[0].rows[t];if(null==v)return c.editable&&c.begincelledit&&c.editcell&&c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),!0;c.mousecaptured=!0,c.mousecaptureposition={left:b.pageX,top:b.pageY-g,clickedrow:v};var w=this.hScrollInstance,x=w.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(x=w.max-w.value);var y=-1,z=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(x-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(x=-parseInt(this.content.css("left"))));for(var A=0;A<v.cells.length;A++){var B=parseInt(a(this.columnsrow[0].cells[A]).css("left")),k=B-x;c.columns.records[A].pinned&&!c.rtl&&(k=B);var C=this._getcolumnat(A);if(null==C||!C.hidden){var D=k+a(this.columnsrow[0].cells[A]).width();if(D>=o&&o>=k){y=A,c.mousecaptureposition.clickedcell=A;break}}}if(this.rtl&&this._haspinned)for(var A=v.cells.length-1;A>=0&&c.columns.records[A].pinned;A--){var B=a(this.columnsrow[0].cells[A]).coord().left-this.host.coord().left,k=B,C=this._getcolumnat(A);if(null==C||!C.hidden){var D=k+a(this.columnsrow[0].cells[A]).width();if(D>=o&&o>=k){y=A,c.mousecaptureposition.clickedcell=A;break}}}if(null!=s&&y>=0){this._raiseEvent(1,{rowindex:this.getboundindex(s),visibleindex:s.visibleindex,group:s.group,rightclick:d,originalEvent:b});var C=this._getcolumnat(y),E=this.getcellvalue(this.getboundindex(s),C.datafield);if(this.editable&&this.editcell&&C.datafield==this.editcell.column&&this.getboundindex(s)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(s),column:C?C.getcolumnproperties():null,datafield:C?C.datafield:null,columnindex:y,value:E,rightclick:d,originalEvent:b}),this.isTouchDevice())if("checkbox"==C.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(t,C.datafield),!0}else if("button"==C.columntype&&this._overlayElement)return C.buttonclick&&C.buttonclick(v.cells[y].buttonrow,b),!0;var F=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(s)&&(this._raiseEvent(22,{rowindex:this.getboundindex(s),visibleindex:s.visibleindex,group:s.group,rightclick:d,originalEvent:b}),this._clickedcolumn==C.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(s),column:C?C.getcolumnproperties():null,datafield:C?C.datafield:null,columnindex:y,value:E,rightclick:d,originalEvent:b}),F=!0,this._clickedrowindex=-1,this._clickedcolumn=null,b.isPropagationStopped&&b.isPropagationStopped()))return!1;if(d)return!0;F||(this._clickedrowindex=this.getboundindex(s),this._clickedcolumn=C.datafield);var G=a.jqx.utilities.getBrowser();if("msie"==G.browser&&parseInt(G.version)<=7&&(0==y&&this.rowdetails&&(u="jqx-grid-group-collapse"),z>0&&z>=y&&(u="jqx-grid-group-collapse")),-1!=u.indexOf("jqx-grid-group-expand")||-1!=u.indexOf("jqx-grid-group-collapse"))this.rtl?z>0&&y>v.cells.length-z-1&&this._togglegroupstate?this._togglegroupstate(s.bounddata,!0):y==v.cells.length-1-z&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(s.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):z>0&&z>y&&this._togglegroupstate?this._togglegroupstate(s.bounddata,!0):y==z&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(s.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=s.boundindex){var H=this.selectedrowindexes.slice(0),I=!1;if("none"!=c.selectionmode&&"checkbox"!=c.selectionmode&&this._selectrowwithmouse){("multiplecellsadvanced"==c.selectionmode||"multiplecellsextended"==c.selectionmode||"multiplerowsextended"==c.selectionmode||"multiplerowsadvanced"==c.selectionmode)&&(b.ctrlKey||b.shiftKey||(c.selectedrowindexes=new Array,c.selectedcells=new Array));var J=!1,K=this.getboundindex(s);(c._oldselectedrow===K||"none"===c.selectionmode)&&(J=!0),-1==c.selectionmode.indexOf("cell")?("singlerow"!=c.selectionmode||c.selectedrowindex!=K&&"singlerow"==c.selectionmode)&&(this._applyrowselection(K,!0,!1,null,C.datafield),this._selectrowwithmouse(c,r,H,C.datafield,b.ctrlKey,b.shiftKey)):null!=C.datafield&&(this._selectrowwithmouse(c,r,H,C.datafield,b.ctrlKey,b.shiftKey),b.shiftKey||this._applycellselection(K,C.datafield,!0,!1)),c._oldselectedcell&&c._oldselectedcell.datafield==c.selectedcell.datafield&&c._oldselectedcell.rowindex==c.selectedcell.rowindex&&(I=!0),c._oldselectedcell=c.selectedcell,c._oldselectedrow=K}if(c.autosavestate&&c.savestate&&c.savestate(),c.editable&&c.begincelledit&&"programmatic"!=c.editmode){if(b.isPropagationStopped&&b.isPropagationStopped())return!1;if("selectedrow"==c.editmode){if(J&&!c.editcell){if("checkbox"!==C.columntype){c.beginrowedit(this.getboundindex(s))}}else if(c.editcell&&!J&&"none"!=c.selectionmode){c.endrowedit(c.editcell.row)}}else{var L="click"==c.editmode||I&&"selectedcell"==c.editmode;if(-1==c.selectionmode.indexOf("cell")&&"dblclick"!=c.editmode&&(L=!0),L&&void 0!=s.boundindex&&C.editable){{c.begincelledit(this.getboundindex(s),C.datafield,C.defaulteditorvalue)}-1!=c.selectionmode.indexOf("cell")&&c._applycellselection(K,C.datafield,!1,!1)}-1!=c.selectionmode.indexOf("cell")&&"selectedcell"==c.editmode&&!I&&c.editcell&&c.endcelledit(c.editcell.row,c.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(){},_rowPropertyChanged:function(){},_serializeObject:function(b){if(null==b)return"";var c="";return a.each(b,function(a){var b=this;a>0&&(c+=", "),c+="[";var d=0;for(obj in b)d>0&&(c+=", "),c+="{"+obj+":"+b[obj]+"}",d++;c+="]"}),c},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized)switch(c=c.toLowerCase()){case"enablebrowserselection":b.showfilterrow||(b.showstatusbar||b.showtoolbar||b.host.addClass("jqx-disableselect"),b.content.addClass("jqx-disableselect")),b.enablebrowserselection&&(b.content.removeClass("jqx-disableselect"),b.host.removeClass("jqx-disableselect"));break;case"columnsheight":(25!=b.columnsheight||b.columngroups)&&b._measureElement("column"),b._render(!0,!0,!0,!1,!1);break;case"rowsheight":e!=d&&(25!=b.rowsheight&&b._measureElement("cell"),b.virtualsizeinfo=null,b.rendergridcontent(!0,!1),b.refresh());break;case"scrollMode":b.vScrollInstance.thumbStep=b.rowsheight;break;case"showdefaultloadelement":b._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":b._initmenu();break;case"touchmode":d!=e&&(b._removeHandlers(),b.touchDevice=null,b.vScrollBar.jqxScrollBar({touchMode:e}),b.hScrollBar.jqxScrollBar({touchMode:e}),b._updateTouchScrolling(),b._arrange(),b._updatecolumnwidths(),b._updatecellwidths(),b._addHandlers());break;case"autoshowcolumnsmenubutton":d!=e&&b._rendercolumnheaders();break;case"rendergridrows":d!=e&&b.updatebounddata();break;case"editmode":d!=e&&(b._removeHandlers(),b._addHandlers());break;case"source":b.updatebounddata(),b.virtualmode&&!b._loading&&(b.loadondemand=!0,b._renderrows(b.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":b._initgroupsheader&&b._initgroupsheader();break;case"showgroupsheader":d!=e&&(b._arrange(),b._initgroupsheader&&b._initgroupsheader(),b._renderrows(b.virtualsizeinfo));break;case"theme":e!=d&&(b.pager&&(b.pager.removeClass(),b.pager.addClass(b.toTP("jqx-grid-pager")),b.pager.addClass(b.toTP("jqx-widget-header")),b.pageable&&b._updatepagertheme&&b._updatepagertheme()),b.groupsheader&&(b.groupsheader.removeClass(),b.groupsheader.addClass(b.toTP("jqx-grid-groups-header")),b.groupsheader.addClass(b.toTP("jqx-widget-header"))),b.toolbar.removeClass(),b.toolbar.addClass(b.toTP("jqx-grid-toolbar")),b.toolbar.addClass(b.toTP("jqx-widget-header")),b.statusbar.removeClass(),b.statusbar.addClass(b.toTP("jqx-grid-statusbar")),b.statusbar.addClass(b.toTP("jqx-widget-content")),b.vScrollBar.jqxScrollBar({theme:b.theme}),b.hScrollBar.jqxScrollBar({theme:b.theme}),b.host.removeClass(),b.host.addClass(b.toTP("jqx-grid")),b.host.addClass(b.toTP("jqx-reset")),b.host.addClass(b.toTP("jqx-rc-all")),b.host.addClass(b.toTP("jqx-widget")),b.host.addClass(b.toTP("jqx-widget-content")),b.bottomRight.removeClass(),b.bottomRight.addClass(b.toTP("jqx-grid-bottomright")),b.bottomRight.addClass(b.toTP("jqx-scrollbar-state-normal")),b.toolbar.addClass(b.toTP("jqx-grid-toolbar")),b.toolbar.addClass(b.toTP("jqx-widget-header")),b.statusbar.addClass(b.toTP("jqx-grid-statusbar")),b.statusbar.addClass(b.toTP("jqx-widget-header")),b.render());
break;case"showtoolbar":case"toolbarheight":d!=e&&(b._arrange(),b.refresh());break;case"showstatusbar":d!=e&&(b.statusbar&&(e?b.statusbar.show():b.statusbar.hide()),b._arrange(),b.refresh());break;case"statusbarheight":d!=e&&(b._arrange(),b.refresh());break;case"filterable":case"showfilterrow":d!=e&&b.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":d!=e&&b.rendergridcontent();break;case"showrowdetailscolumn":d!=e&&b.render();break;case"scrollbarsize":d!=e&&b._arrange();break;case"width":case"height":d!=e&&(b._updatesize(!0,!0),b._resizeWindow(),b.virtualmode&&!b._loading&&b.vScrollInstance.setPosition(0));break;case"altrows":case"altstart":case"altstep":d!=e&&b._renderrows(b.virtualsizeinfo);break;case"groupsheaderheight":d!=e&&(b._arrange(),b._initgroupsheader&&b._initgroupsheader());break;case"pagerheight":d!=e&&b._initpager();break;case"selectedrowindex":b.selectrow(e);break;case"selectionmode":d!=e&&("none"==e&&(b.selectedrowindexes=new Array,b.selectedcells=new Array,b.selectedrowindex=-1),b._renderrows(b.virtualsizeinfo),"checkbox"==e&&b._render(!1,!1,!0,!1,!1));break;case"showheader":e?b.columnsheader.css("display","block"):b.columnsheader.css("display","none");break;case"virtualmode":d!=e&&(b.dataview.virtualmode=b.virtualmode,b.dataview.refresh(!1),b._render(!1,!1,!1));break;case"columnsmenu":d!=e&&b.render();break;case"columngroups":b._render(!0,!0,!0,!1,!1);break;case"columns":if(b._serializeObject(b._cachedcolumns)!==b._serializeObject(e)){var f=!1;b.filterable&&d&&d.records&&a.each(d.records,function(){this.filter&&(f=!0),b.dataview.removefilter(this.displayfield,this.filter)}),b._columns=null,b._filterrowcache=[],b.render(),f&&b.applyfilters(),b._cachedcolumns=b.columns,b.removesort&&b.removesort()}else b._initializeColumns();break;case"autoheight":d!=e&&b._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":d!=e&&b._initpager&&(b.pagershowrowscombo&&(b.pagershowrowscombo.jqxDropDownList("destroy"),b.pagershowrowscombo=null),b.pagerrightbutton&&(b.removeHandler(b.pagerrightbutton,"mousedown"),b.removeHandler(b.pagerrightbutton,"mouseup"),b.removeHandler(b.pagerrightbutton,"click"),b.pagerrightbutton.jqxButton("destroy"),b.pagerrightbutton=null),b.pagerleftbutton&&(b.removeHandler(b.pagerleftbutton,"mousedown"),b.removeHandler(b.pagerleftbutton,"mouseup"),b.removeHandler(b.pagerleftbutton,"click"),b.pagerleftbutton.jqxButton("destroy"),b.removeHandler(a(document),"mouseup.pagerbuttons"+b.element.id),b.pagerleftbutton=null),b.pagerdiv.remove(),b._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(d!=e){if(b._loading)throw new Error("jqxGrid: "+b.loadingerrormessage);if(!b.host.jqxDropDownList||!b.host.jqxListBox)return void b._testmodules();if(b._initpager){if("pageable"!=c&&"pagermode"!=c&&"string"==typeof e){var g="The expected value type is: Int.";if("pagesize"!=c)var g="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+c+". "+g)}b.dataview.pageable=b.pageable,b.dataview.pagenum=0,b.dataview.pagesize=b._getpagesize(),b.virtualmode&&b.updatebounddata(),b.dataview.refresh(!0),b._initpager(),"pagesizeoptions"==c&&null!=e&&e.length>0&&(b.pagesize=parseInt(e[0]),b.dataview.pagesize=parseInt(e[0]),b.prerenderrequired=!0,b._requiresupdate=!0,b.dataview.pagenum=-1,b.gotopage(0))}b._render(!1,!1,!1)}break;case"groups":b._serializeObject(d)!==b._serializeObject(e)&&(b.dataview.groups=e,b._refreshdataview(),b._render(!0,!0,!0,!1));break;case"groupable":d!=e&&(b.dataview.groupable=b.groupable,b.dataview.pagenum=0,b.dataview.refresh(!1),b._render(!1,!1,!0));break;case"renderstatusbar":null!=e&&b.renderstatusbar(b.statusbar);break;case"rendertoolbar":null!=e&&b.rendertoolbar(b.toolbar);break;case"disabled":e?b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")):b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),a.jqx.aria(b,"aria-disabled",b.disabled),b.pageable&&(b.pagerrightbutton&&(b.pagerrightbutton.jqxButton({disabled:e}),b.pagerleftbutton.jqxButton({disabled:e}),b.pagershowrowscombo.jqxDropDownList({disabled:e}),b.pagergotoinput.attr("disabled",e)),b.pagerfirstbutton&&(b.pagerfirstbutton.jqxButton({disabled:e}),b.pagerlastbutton.jqxButton({disabled:e}))),b.vScrollBar.jqxScrollBar({disabled:e}),b.hScrollBar.jqxScrollBar({disabled:e}),b.filterable&&b.showfilterrow&&b._updatefilterrowui(!0)}}}),a.jqx.collection=function(a){return this.records=new Array,this.owner=a,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(){},this.clear=function(){this.records=new Array},this.replace=function(a,b){this.records[a]=b,this.updating||this._raiseEvent({type:"replace",element:b})},this.isempty=function(a){return void 0==this.records[a]?!0:!1},this.initialize=function(a){1>a&&(a=1),this.records[a-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(a){return this.records.indexOf(a)},this.add=function(a){return null==a?!1:(this.records[this.records.length]=a,this.updating||this._raiseEvent({type:"add",element:a}),!0)},this.insertAt=function(a,b){return null==a||void 0==a?!1:null==b?!1:a>=0?a<this.records.length?(this.records.splice(a,0,b),this.updating||this._raiseEvent({type:"insert",index:a,element:b}),!0):this.add(b):!1},this.remove=function(a){if(null==a||void 0==a)return!1;var b=this.records.indexOf(a);return-1!=b?(this.records.splice(b,1),this.updating||this._raiseEvent({type:"remove",element:a}),!0):!1},this.removeAt=function(a){if(null==a||void 0==a)return!1;if(0>a)return!1;if(a<this.records.length){var b=this.records[a];return this.records.splice(a,1),this.updating||this._raiseEvent({type:"removeAt",index:a,element:b}),!0}return!1},this},a.jqx.dataview=function(){return this.self=this,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(a){this.suspend=!1,void 0==a&&(a=!0),this.refresh(a)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(b,c){var d=b._source?!0:!1,e=null;d?(e=b,b=b._source):e=new a.jqx.dataAdapter(b,{autoBind:!1});var f=function(a){e.recordids=[],e.records=new Array,e.cachedrecords=new Array,e.originaldata=new Array,e._options.virtualmode=a.virtualmode,e._options.totalrecords=a.totalrecords,e._options.originaldata=a.originaldata,e._options.recordids=a.recordids,e._options.cachedrecords=new Array,e._options.pagenum=a.pagenum,e._options.pageable=a.pageable,void 0!=b.type&&(e._options.type=b.type),void 0!=b.formatdata&&(e._options.formatData=b.formatdata),void 0!=b.contenttype&&(e._options.contentType=b.contenttype),void 0!=b.async&&(e._options.async=b.async),void 0!=b.updaterow&&(e._options.updaterow=b.updaterow),void 0!=b.addrow&&(e._options.addrow=b.addrow),void 0!=b.deleterow&&(e._options.deleterow=b.deleterow),0==a.pagesize&&(a.pagesize=10),e._options.pagesize=a.pagesize},g=function(c){if(c.totalrecords=e.totalrecords,c.virtualmode){var d={startindex:c.pagenum*c.pagesize,endindex:c.pagenum*c.pagesize+c.pagesize};if(void 0!=b.recordstartindex&&(d.startindex=parseInt(b.recordstartindex)),void 0!=b.recordendindex?d.endindex=parseInt(b.recordendindex):c.grid.pageable||(d.endindex=d.startindex+100,c.grid.autoheight&&(d.endindex=d.startindex+c.totalrecords)),b.recordendindex||(c.grid.pageable?d={startindex:c.pagenum*c.pagesize,endindex:c.pagenum*c.pagesize+c.pagesize}:(d.endindex=d.startindex+100,c.grid.autoheight&&(d.endindex=d.startindex+c.totalrecords))),d.data=e.records,c.grid.rendergridrows&&c.totalrecords>0){var f=0;if(b.records=c.grid.rendergridrows(d),b.records.length&&(f=b.records.length),b.records&&!b.records[d.startindex]){var g=new Array,h=d.startindex;a.each(b.records,function(){g[h]=this,h++,f++}),b.records=g}if(0==f&&b.records&&a.each(b.records,function(){f++}),f>0&&f<d.endindex-d.startindex&&!c.grid.groupable)for(var i=b.records[0],j=0;j<d.endindex-d.startindex-f;j++){var k={};for(obj in i)k[obj]="";b.records.push&&b.records.push(k)}}b.records&&0!=c.totalrecords||(b.records=new Array),c.originaldata=b.records,c.records=b.records,c.cachedrecords=b.records}else c.originaldata=e.originaldata,c.records=e.records,c.recordids=e.recordids,c.cachedrecords=e.cachedrecords};f(this),this.source=b,void 0!==c&&(uniqueId=c);var h=this.that;switch(b.datatype){case"local":case"array":default:if(null==b.localdata&&(b.localdata=[]),null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),(!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind)&&e.dataBind();var i=function(c){if(void 0!=c&&""!=c){var d=e._changedrecords[0];if(d){var f=new Array;a.each(e._changedrecords,function(a){var b=this.index,d=this.record;switch(h.grid._updateFromAdapter=!0,c){case"update":var g=h.grid.getrowid(b);return a==e._changedrecords.length-1?h.grid.updaterow(g,d):h.grid.updaterow(g,d,!1),void(h.grid._updateFromAdapter=!1);case"add":return h.grid.addrow(null,d),void(h.grid._updateFromAdapter=!1);case"remove":var g=h.grid.getrowid(b);return void f.push(g)}}),f.length>0&&(h.grid.deleterow(f,!1),h.grid._updateFromAdapter=!1)}if("update"==c)return}var i=h.totalrecords;g(h,c),"updateData"==c?(h.refresh(),h.grid._updateGridData()):(b.recordstartindex&&this.virtualmode?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(i!=h.totalrecords))};i(),e.bindBindingUpdate(h.grid.element.id,i)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),(!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind)&&e.dataBind();var i=function(a){var c=h.totalrecords;g(h),"updateData"==a?(h.refresh(),h.grid._updateGridData()):(b.recordstartindex?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(c!=h.totalrecords))};return i(),void e.bindBindingUpdate(h.grid.element.id,i)}for(var j=0,k={},l=0;l<this.filters.length;l++){var m=this.filters[l].datafield,n=this.filters[l].filter,o=n.getfilters();k[m+"operator"]=n.operator;for(var p=0;p<o.length;p++){o[p].datafield=m;var q=o[p].value;if("datefilter"==o[p].type)if(o[p].value&&o[p].value.toLocaleString){var r=this.grid.getcolumn(o[p].datafield);if(r.cellsformat){var s=this.grid.source.formatDate(o[p].value,r.cellsformat,this.grid.gridlocalization);k["filtervalue"+j]=s?s:o[p].value.toLocaleString()}else k["filtervalue"+j]=q.toString()}else k["filtervalue"+j]=q.toString();else k["filtervalue"+j]=q.toString();k["filtercondition"+j]=o[p].condition,k["filteroperator"+j]=o[p].operator,k["filterdatafield"+j]=m,j++}}k.filterscount=j,k.groupscount=h.groups.length;for(var l=0;l<h.groups.length;l++)k["group"+l]=h.groups[l];void 0==b.recordstartindex&&(b.recordstartindex=0),(void 0==b.recordendindex||0==b.recordendindex)&&(h.grid.height&&-1==h.grid.height.toString().indexOf("%")?(b.recordendindex=parseInt(h.grid.height)/h.grid.rowsheight,b.recordendindex+=2):b.recordendindex=a(window).height()/h.grid.rowsheight,this.pageable&&(b.recordendindex=this.pagesize)),a.extend(k,{sortdatafield:h.sortfield,sortorder:h.sortfielddirection,pagenum:h.pagenum,pagesize:h.grid.pagesize,recordstartindex:b.recordstartindex,recordendindex:b.recordendindex});var t=e._options.data;e._options.data?a.extend(e._options.data,k):(b.data&&a.extend(k,b.data),e._options.data=k);var i=function(){var c=a.jqx.browser.msie&&a.jqx.browser.version<9,d=function(){var a=h.totalrecords;g(h),b.recordstartindex?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(a!=h.totalrecords)};if(c)try{d()}catch(e){}else d()};e.unbindDownloadComplete(h.grid.element.id),e.bindDownloadComplete(h.grid.element.id,i),!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind?e.dataBind():h.grid.isInitialized||h.grid.autobind||i(),e._options.data=t}},this.getid=function(b,c,d){if(a(b,c).length>0)return a(b,c).text();if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return e}return d},this.getvaluebytype=function(b,c){var d=b;if("date"==c.type){var e=new Date(b);b=("NaN"==e.toString()||"Invalid Date"==e.toString())&&a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):e,null==b&&(b=d)}else if("float"==c.type){var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else"bool"==c.type&&(null!=b&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b?!0:0==b?!1:"");return b},this.setpaging=function(a){void 0!=a.pageSize&&(this.pagesize=a.pageSize),void 0!=a.pageNum&&(this.pagenum=Math.min(a.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(a,b){for(var c=-1,d=0;d<this.filters.length;d++)if(this.filters[d].datafield==a){c=d;break}-1==c?this.filters[this.filters.length]={filter:b,datafield:a}:this.filters[c]={filter:b,datafield:a}},this.removefilter=function(a){for(var b=0;b<this.filters.length;b++)if(this.filters[b].datafield==a){this.filters.splice(b,1);break}},this.getItemFromIndex=function(a){return this.records[a]},this.updaterow=function(a,b,c){var d=this.filters&&this.filters.length>0&&!this.virtualmode;if(!d&&void 0!=b&&void 0!=a){b.uid=a,b[this.source.id]||(b[this.source.id]=b.uid);var e=this.recordsbyid["id"+a],f=this.records.indexOf(e);return-1==f?!1:(this.records[f]=b,this.cachedrecords&&(this.cachedrecords[f]=b),(1==c||void 0==c)&&this.refresh(),this.changedrecords[b.uid]={Type:"Update",OldData:e,Data:b},!0)}if(this.filters&&this.filters.length>0){for(var g=this.cachedrecords,e=null,f=-1,h=0;h<g.length;h++)if(g[h].uid==a){e=g[h],f=h;break}if(e){var i=this.that;for(var j in b)i.cachedrecords[f][j]=b[j];return(1==c||void 0==c)&&this.refresh(),!0}}return!1},this.addrow=function(a,b,c,d){if(void 0!=b){if(a)b.uid=a;else{b.uid=this.getid(this.source.id,b,this.totalrecords);for(var e=this.recordsbyid["id"+b.uid];null!=e;){var f=Math.floor(1e4*Math.random()).toString();b.uid=f,e=this.recordsbyid["id"+f]}}return b[this.source.id]||void 0!=this.source.id&&(b[this.source.id]=b.uid),"last"==c?this.records.push(b):"number"==typeof c&&isFinite(c)?this.records.splice(c,0,b):this.records.splice(0,0,b),this.filters&&this.filters.length>0&&("last"==c?this.cachedrecords.push(b):"number"==typeof c&&isFinite(c)?this.cachedrecords.splice(c,0,b):this.cachedrecords.splice(0,0,b)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(1==d||void 0==d)&&this.refresh(),this.changedrecords[b.uid]={Type:"New",Data:b},!0}return!1},this.deleterow=function(a,b){if(void 0!=a){var c=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+a]&&!c){var d=this.recordsbyid["id"+a],e=this.records.indexOf(d);return this.changedrecords[a]={Type:"Delete",Data:this.records[e]},this.records.splice(e,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(1==b||void 0==b)&&this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var f=this.cachedrecords,d=null,e=-1,g=0;g<f.length;g++)if(f[g].uid==a){d=f[g],e=g;break}if(d)return this.cachedrecords.splice(e,1),(1==b||void 0==b)&&(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(b,c,d,e,f,g,h){var i=this.that,j=new Array,k=b,l=c,m=d,n=e,o=l.length,p=0,q=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c};var r=Object.size(k);this.totalrecords=r,a.each(this.records,function(){var b=this,c=0;return a.each(b,function(a){i.columns[c++]=a}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();var g=0;if(!this.groupable)return void this.updateview();var h=this.totalrecords}else var g=0,h=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var s=g;s=this.loadgrouprecords(0,g,h,m,q,n,l,o,j)}else p=this.loadflatrecords(g,h,m,q,n,l,o,j);return o>q&&l.splice(q,o-q),this.totalrows=this.groups.length>0&&this.groupable?s:p,j},this.loadflatrecords=function(b,c,d,e,f,g,h,i){var j=this.that,k=b,l=b;c=Math.min(c,this.totalrecords);for(var m=null!=this.sortdata,n=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||""==this.source.datatype),m?this.sortdata:this.records),o=b;c>o;o++){var p={};m?(p=a.extend({},n[o].value),id=p[j.uniqueId],p.boundindex=n[o].index,void 0==p.uid&&(p.uid=j.getid(j.source.id,p,p.boundindex)),j.recordsbyid["id"+p.uid]=n[o].value,j.loadedrecords[k]=p,p.uniqueid=j.generatekey(),j.bounditems[p.boundindex]=p):(p=a.extend({},n[o]),id=p[j.uniqueId],p.boundindex=k,j.loadedrecords[k]=p,void 0==p.uid&&(p.uid=j.getid(j.source.id,p,k)),j.recordsbyid["id"+p.uid]=n[o],p.uniqueid=j.generatekey(),j.bounditems[this.bounditems.length]=p),(e>=h||id!=g[e][j.uniqueId]||f&&f[id])&&(i[i.length]=e),g[e]=p,e++,p.visibleindex=l,l++,k++}if(j.grid.summaryrows){var q=k;a.each(j.grid.summaryrows,function(){var b=a.extend({},this);b.boundindex=c++,j.loadedrecords[q]=b,b.uniqueid=j.generatekey(),j.bounditems[j.bounditems.length]=b,g[e]=b,e++,b.visibleindex=l,l++,q++})}return l},this.updateview=function(a,b){var c=this.that,d=this.pagesize*this.pagenum,e=0,f=new Array,g=this.filters,h=this.updated,i=f.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(void 0!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var j=this.pagesize*(1+this.pagenum);return j>this.totalrecords&&(j=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,j,g,e,h,f,i,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),g,e,h,f,i,[]),this.totalrows=f.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var k=this.pagesize;0==k&&(k=Math.min(100,this.totalrecords));var l=k*this.pagenum;if(0==this.loadedrecords.length&&(l=0),null!=a&&null!=b?this.loadflatrecords(a,b,g,e,h,f,i,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),g,e,h,f,i,[]),this.totalrows=this.loadedrecords.length,this.rows=f,f.length>=k)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)f=this._updategroupsinpage(c,g,d,e,i,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var m=this.pagesize*this.pagenum;m<this.pagesize*(1+this.pagenum);m++){var n=m<this.loadedrecords.length?this.loadedrecords[m]:null;null!=n&&((!this.pagesize||d>=this.pagesize*this.pagenum&&d<=this.pagesize*(this.pagenum+1))&&(f[e]=n,e++),d++)}if((0==f.length||f.length<this.pagesize)&&!this.pageable&&this.virtualmode){e=f.length;for(var o=f.length,m=this.pagesize*this.pagenum;m<this.pagesize*(1+this.pagenum)-o;m++){var n={};n.boundindex=m+o,n.visibleindex=m+o,n.uniqueid=c.generatekey(),n.empty=!0,c.bounditems[m+o]=n,f[e]=n,e++}}this.rows=f},this.generatekey=function(){var a=function(){return 16*(1+Math.random())|0};return""+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(b){if(!this.suspend){void 0==b&&(b=!0);var c=this.rows.length,d=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var e="",f=this.cachedrecords.length,g=new Array;this.totalrecords=0;var h=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var i=this.filters.length;if(null!=this.source&&void 0!=this.source.filter&&void 0!=this.source.localdata)g=this.source.filter(this.filters,h,f),void 0==g&&(g=new Array),this.records=g;else if(null==this.source.filter||void 0==this.source.filter){for(var j=0;f>j;j++){for(var k=h[j],l=void 0,m=0;i>m;m++){var e=this.filters[m].filter,n=k[this.filters[m].datafield],o=e.evaluate(n);l=void 0==l?o:"or"==e.operator?l||o:l&&o}l?(g[g.length]=a.extend({dataindex:j},k),this._dataIndexToBoundIndex[j]={boundindex:g.length-1}):this._dataIndexToBoundIndex[j]=null}this.records=g}if(this.sortdata){var p=this.sortfield;if(this.sortcache[p]){this.sortdata=null;var q=this.sortcache[p].direction;return this.sortcache[p]=null,void this.sortby(this.sortfield,q)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;var h=this.cachedrecords;if(this.records=h,this.sortdata){var p=this.sortfield;if(this.sortcache[p]){this.sortdata=null;var q=this.sortcache[p].direction;return this.sortcache[p]=null,void this.sortby(this.sortfield,q)}}}var r=this.reload(this.records,this.rows,this.filter,this.updated,b);this.updated=null,null!=this.rowschangecallback&&(d!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),c!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:c,current:rows.length}}),(r.length>0||c!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:c,current:rows.length,diff:r}}))}},this}}(jQuery),function(a){a.jqx.dataview.sort=function(){this.sortby=function(b,c,d){var e=Object.prototype.toString;if(null==c)return this.sortdata=null,void this.refresh();void 0==c&&(c=!0),c="a"==c||"asc"==c||"ascending"==c||1==c?!0:!1;var f=b;this.sortfield=b,this.sortfielddirection=c?"asc":"desc",void 0==this.sortcache&&(this.sortcache={}),this.sortdata=[];var g=[],h=!1;if("constructor"==f&&(f=""),!this.virtualmode&&null!=this.sortcache[f]){var i=this.sortcache[f];g=i._sortdata,i.direction==c?g.reverse():(!i.direction&&c&&g.reverse(),h=!0),g.length<this.totalrecords&&(this.sortcache={},h=!1,g=[])}Object.prototype.toString="function"==typeof b?b:function(){return this[b]};var j=this.records,k=(this.that,"");if(this.source.datafields&&a.each(this.source.datafields,function(){return this.name==b?(this.type&&(k=this.type),!1):void 0}),0==g.length)if(j.length)for(var l=j.length,m=0;l>m;m++){var n=j[m];if(null!=n){var o=n,p=o.toString();g.push({sortkey:p,value:o,index:m})}}else{var q=!1;for(obj in j){var n=j[obj];if(void 0==n){q=!0;break}var o=n;g.push({sortkey:o.toString(),value:o,index:obj})}q&&a.each(j,function(a,b){g.push({sortkey:b.toString(),value:b,index:a})})}if(!h)if(null==d){this._sortcolumntype=k;var r=this;g.sort(function(a,b){return r._compare(a,b,k)})}else g.sort(d);c||g.reverse(),Object.prototype.toString=e,this.sortdata=g,this.sortcache[f]={_sortdata:g,direction:c},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(b,c,d){var b=b.sortkey,c=c.sortkey;if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return-1;if(null!==b&&null===c)return 1;if(a.jqx.dataFormat)if(d&&""!=d)switch(d){case"number":case"int":case"float":return c>b?-1:b>c?1:0;case"date":case"time":return c>b?-1:b>c?1:0;case"string":case"text":b=String(b).toLowerCase(),c=String(c).toLowerCase()}else{if(a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return c>b?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return c>b?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase())}try{if(c>b)return-1;if(b>c)return 1}catch(e){}return 0},this._equals=function(a,b){return 0===this._compare(a,b)}},a.extend(a.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var b=this.that,c=this.getsortcolumn();if(this.sortdirection){var d=function(c,d){var e=b.getcolumn(c);e&&(d.ascending?a.jqx.aria(e.element,"aria-sort","ascending"):d.descending?a.jqx.aria(e.element,"aria-sort","descending"):a.jqx.aria(e.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&d(this._oldsortinfo.column,{ascending:!1,descending:!1}),d(c,this.sortdirection)}this._oldsortinfo={column:c,direction:this.sortdirection},this.sortdirection&&a.each(this.columns.records,function(){var d=a.data(document.body,"groupsortelements"+this.displayfield);null==c||this.displayfield!=c?(a(this.sortasc).hide(),a(this.sortdesc).hide(),null!=d&&(d.sortasc.hide(),d.sortdesc.hide())):b.sortdirection.ascending?(a(this.sortasc).show(),a(this.sortdesc).hide(),null!=d&&(d.sortasc.show(),d.sortdesc.hide())):(a(this.sortasc).hide(),a(this.sortdesc).show(),null!=d&&(d.sortasc.hide(),d.sortdesc.show()))})},getsortcolumn:function(){return void 0!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(a,b,c,d,e){if(this._loading&&e!==!1)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==a&&(b=null,a=this.sortcolumn),void 0!=a){var f=this.that;if(void 0==c&&null!=f.source.sortcomparer&&(c=f.source.sortcomparer),ascending="a"==b||"asc"==b||"ascending"==b||1==b?!0:!1,f.sortdirection=null!=b?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},f.sortcolumn=null!=b?a:null,f.source.sort||f.virtualmode){if(f.dataview.sortfield=a,f.dataview.sortfielddirection=null==b?"":ascending?"asc":"desc",f.source.sort&&!this._loading)return f.source.sort(a,b),void f._raiseEvent(6,{sortinformation:f.getsortinformation()})}else f.dataview.sortby(a,b,c);if(d===!1)return;f.groupable&&f.groups.length>0?(f._render(!0,!1,!1),f._updategroupheadersbounds&&f.showgroupsheader&&f._updategroupheadersbounds()):(f.pageable&&f.dataview.updateview(),f._updaterowsproperties(),f.rendergridcontent(!0)),f._raiseEvent(6,{sortinformation:f.getsortinformation()})}},_togglesort:function(a){var b=this.that;if(!this.disabled&&a.sortable&&b.sortable){var c=b.getsortinformation(),d=null;null!=c.sortcolumn&&c.sortcolumn==a.displayfield?(d=c.sortdirection.ascending,d=b.sorttogglestates>1?1==d?!1:null:!d):d=!0,b.sortby(a.displayfield,d,null)}}})}(jQuery),function(a){a.extend(a.jqx._jqxGrid.prototype,{_initpager:function(){var b=this.that,c=this.gridlocalization.pagergotopagestring,d=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),e=(this.pagerheight-17)/2;if(this.pagerdiv=this.pagerdiv||a('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var f=this.pagerrenderer();null!=f&&this.pagerdiv.append(a(f)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",e),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||a('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||a('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||a('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||a('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=a('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||a('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var g=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");g.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(g);var h=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(h),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});
var i=this.rtl?"right":"left";this.pagerbuttons.css("float",i),this.pagerlastbutton.css("float",i),this.pagerfirstbutton.css("float",i),this.pagerrightbutton.css("float",i),this.pagerleftbutton.css("float",i),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var j=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");j.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(j);var k=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");k.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(k),this.rtl||this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var l=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:l,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:16,theme:this.theme});for(var m=0,n=0;n<l.length;n++)this.pagesize>=l[n]&&(m=n);this.pagershowrows[0].innerHTML=d,this.pagergoto[0].innerHTML=c,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:m}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var b=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(a){if(a.args){b.vScrollInstance&&b.vScrollInstance.setPosition(0),null!=b.editcell&&b.endcelledit&&b.endcelledit(b.editcell.row,b.editcell.column,!0,!1);var c=a.args.index,d=b.dataview.pagenum*b.dataview.pagesize,e=l[c],f=b.pagesize;b.pagesize=parseInt(e),isNaN(b.pagesize)&&(b.pagesize=10),b.pagershowrowscombo.jqxDropDownList(e>=100?{width:"auto"}:{width:44}),b.dataview.pagesize=b.pagesize;var g=Math.floor(d/b.dataview.pagesize);b.prerenderrequired=!0,b._requiresupdate=!0,b._raiseEvent(10,{pagenum:g,oldpagesize:f,pagesize:b.dataview.pagesize}),b.gotopage(g),b.autoheight&&b._updatesizeonwindowresize&&(b._updatesize(!0),setTimeout(function(){b._updatesize(!0)},500))}});var o=this.pagergotoinput.find("input");o.addClass(this.toThemeProperty("jqx-grid-pager-input")),o.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(o,"keydown"),this.removeHandler(o,"change"),this.addHandler(o,"keydown",function(a){if(a.keyCode>=65&&a.keyCode<=90)return!1;if("13"==a.keyCode){var c=o.val();return c=parseInt(c),isNaN(c)||b.gotopage(c-1),!1}}),this.addHandler(o,"change",function(){var a=o.val();a=parseInt(a),isNaN(a)||b.gotopage(a-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){k.addClass(b.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){j.addClass(b.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){k.removeClass(b.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){j.removeClass(b.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){k.addClass(b.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){k.removeClass(b.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){j.addClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){j.removeClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(a(document),"mouseup.pagerbuttons"+this.element.id,function(){k.removeClass(b.toThemeProperty("jqx-icon-arrow-right-selected")),j.removeClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){b.pagerrightbutton.jqxButton("disabled")||(b.rtl?b.gotoprevpage():b.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){b.pagerleftbutton.jqxButton("disabled")||(b.rtl?b.gotonextpage():b.gotoprevpage())});var p=this;if("simple"===this.pagermode){var q=this.pagerfirstbutton,r=this.pagerlastbutton;this.addHandler(r,"mouseenter",function(){h.addClass(p.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(q,"mouseenter",function(){g.addClass(p.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(r,"mouseleave",function(){h.removeClass(p.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(q,"mouseleave",function(){g.removeClass(p.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(r,"mousedown",function(){h.addClass(p.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(q,"mousedown",function(){g.addClass(p.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(r,"mouseup",function(){h.removeClass(p.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(q,"mouseup",function(){g.removeClass(p.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(a(document),"mouseup.pagerbuttons"+name+this.element.id,function(){k.removeClass(p.toThemeProperty("jqx-icon-arrow-right-selected")),j.removeClass(p.toThemeProperty("jqx-icon-arrow-left-selected")),h&&(h.removeClass(p.toThemeProperty("jqx-icon-arrow-last-selected")),g.removeClass(p.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(q,"click",function(){if(!q.jqxButton("disabled"))if(p.rtl){var a=p.dataview.totalrecords,b=Math.ceil(a/p.pagesize);p.gotopage(b-1)}else p.gotopage(0)}),this.addHandler(r,"click",function(){if(!r.jqxButton("disabled"))if(p.rtl)p.gotopage(0);else{var a=p.dataview.totalrecords,b=Math.ceil(a/p.pagesize);p.gotopage(b-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var b=this.pagergotoinput.find("input");b.removeClass(),b.addClass(this.toThemeProperty("jqx-grid-pager-input")),b.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var c=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");c.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(c);var d=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(d),"simple"==this.pagermode){a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var e=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");e.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(e);var f=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");f.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(f),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var g=function(a,b){a.removeHandler(b,"mouseenter"),a.removeHandler(b,"mouseleave"),a.removeHandler(b,"mousedown"),a.removeHandler(b,"mouseup")};g(this,this.pagerrightbutton),g(this,this.pagerleftbutton);var h=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){d.addClass(h.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){c.addClass(h.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){d.removeClass(h.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){c.removeClass(h.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){d.addClass(h.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){d.removeClass(h.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){c.addClass(h.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){c.removeClass(h.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(a){if((null==a||void 0==a)&&(a=0),-1==a&&(a=0),!(0>a)){var b=this.dataview.totalrecords;this.summaryrows&&(b+=this.summaryrows.length);var c=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:a,pagesize:this.dataview.pagesize});var d=Math.ceil(b/this.pagesize);if(a>=d&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),a>0&&(a=d-1)),(this.dataview.pagenum!=a||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(a,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=a,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var e=a*this.dataview.pagesize,f=e+this.dataview.pagesize;if(null!=e&&null!=f)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:a,oldpagenum:c,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var g=this.host.height()-this._gettableheight();height=g+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this._raiseEvent(9,{pagenum:a,oldpagenum:c,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var a=this.dataview.totalrecords;this.summaryrows&&(a+=this.summaryrows.length);var b=Math.ceil(a/this.pagesize);this.gotopage(b-1)}},gotonextpage:function(){var a=this.dataview.totalrecords;this.summaryrows&&(a+=this.summaryrows.length);var b=Math.ceil(a/this.pagesize);this.dataview.pagenum<b-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var b=this.dataview.pagenum*this.pagesize,c=(this.dataview.pagenum+1)*this.pagesize;c>=this.dataview.totalrecords&&(c=this.dataview.totalrecords);var d=this.dataview.totalrecords;this.summaryrows&&(d+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(c=d)),b++;var e=Math.ceil(d/this.dataview.pagesize);if(e>=1&&e--,e++,"simple"!==this.pagermode){var f=this.pagergotoinput.find("input");f.val(this.dataview.pagenum+1)}else{var g="",h=this.pagerbuttonscount;0!=h&&h||(h=5);var i=0;for(this.rtl&&(i=h-1);this.rtl&&i>=0||!this.rtl&&h>i;){var j=1+i,k=this.dataview.pagenum/h,l=Math.floor(k);j+=l*h;var m=this.toTP("jqx-grid-pager-number");if(m+=" "+this.toTP("jqx-rc-all"),j>e)break;if(this.rtl||0==i&&j>h&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+j)+"'>...</a>"),this.dataview.pagenum===j-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(i===h-1){var m=this.toTP("jqx-grid-pager-number");e>=1+j&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+j)+"'>...</a>")}this.dataview.pagenum===j-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+j+"'>"+j+"</a>"}else if(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+j+"'>"+j+"</a>",i===h-1){var m=this.toTP("jqx-grid-pager-number");e>=1+j&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+j)+"'>...</a>")}if(this.rtl){var m=this.toTP("jqx-grid-pager-number");0==i&&j>h&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+j)+"'>...</a>")}this.rtl?i--:i++}var n=this.pagerbuttons.find("a");this.removeHandler(n,"click"),this.removeHandler(n,"mouseenter"),this.removeHandler(n,"mouseleave"),this.pagerbuttons[0].innerHTML=g;var o=this,p=function(){o.addHandler(n,"click",function(b){var c=a(b.target).attr("data-page");return o.gotopage(parseInt(c)-1),!1}),o.addHandler(n,"mouseenter",function(b){a(b.target).addClass(o.toTP("jqx-fill-state-hover"))}),o.addHandler(n,"mouseleave",function(b){a(b.target).removeClass(o.toTP("jqx-fill-state-hover"))})},n=this.pagerbuttons.find("a");p(n)}this.pagergotoinput.attr("title","1 - "+e),0==c&&b>c&&(b=0),this.pagerdetails[0].innerHTML=this.rtl?d+this.gridlocalization.pagerrangestring+c+"-"+b:b+"-"+c+this.gridlocalization.pagerrangestring+d,b>c&&this.gotoprevpage()}},_updatepagedview:function(a,b,c){var d=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var e=this.dataview.rows.length,f=0;e>f;f++){var g=this.dataview.rows[f].visibleindex,h={index:g,height:this.heights[g],hidden:this.hiddens[g],details:this.details[g]};if(void 0==this.heights[g]&&(this.heights[g]=this.rowsheight,h.height=this.rowsheight),void 0==this.hiddens[g]&&(this.hiddens[g]=!1,h.hidden=!1),void 0==this.details[g]&&(this.details[g]=null),h.height!=d.rowsheight&&(b-=d.rowsheight,b+=h.height),h.hidden)b-=h.height;else{c+=h.height;var i=0;this.rowdetails&&h.details&&h.details.rowdetails&&!h.details.rowdetailshidden&&(i=h.details.rowdetailsheight,c+=i,b+=i)}}return this._pageviews[0]={top:0,height:c},b}})}(jQuery),function(a){a.extend(a.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var a=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var b=this.dataview.loadedrecords,c=0;a>c;c++){var d=b[c];if(d){var e=this.getboundindex(d);this.selectedrowindexes[c]=e}else this.selectedrowindexes[c]=c}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;var a=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var b=this.dataview.loadedrecords,c=0;a>c;c++){var d=b[c];if(d){{this.getboundindex(d)}this.selectedrowindexes[c]=-1}else this.selectedrowindexes[c]=c}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(a,b){this._applyrowselection(a,!0,b),b!==!1&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var a=this.getrows();if(a&&this._checkboxcolumn){if(0===a.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var b=a.length;this.virtualmode&&(b=this.source._source.totalrecords);var c=this.selectedrowindexes.length;this._checkboxcolumn.checkboxelement.jqxCheckBox(c===b?{checked:!0}:0===c?{checked:!1}:{checked:null})}}},unselectrow:function(a,b){this._applyrowselection(a,!1,b),b!==!1&&this._updatecheckboxselection()},selectcell:function(a,b){this._applycellselection(a,b,!0)},unselectcell:function(a,b){this._applycellselection(a,b,!1)},clearselection:function(a,b){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,b!==!1)for(var c=0;c<this.selectedrowindexes.length;c++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[c]});return this.selectedrowindexes=new Array,this.selectedcells=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1===a?void(this._trigger=!0):(this._renderrows(this.virtualsizeinfo),this._trigger=!0,void("checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})))},getselectedrowindex:function(){if(-1==this.selectedrowindex)for(var a=0;a<this.selectedrowindexes.length;a++)return this.selectedrowindexes[a];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var a=this.selectedcell;return a.row=this.selectedcell.rowindex,a.column=this.selectedcell.datafield,a.value=this.getcellvalue(a.row,a.column),a},getselectedcells:function(){var a=new Array;for(obj in this.selectedcells)a[a.length]=this.selectedcells[obj];return a},_getcellsforcopypaste:function(){var a=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var b=this.selectedrowindexes,c=0;c<b.length;c++)for(var d=b[c],e=0;e<this.columns.records.length;e++){var f=(d+"_"+this.columns.records[e].datafield,{rowindex:d,datafield:this.columns.records[e].datafield});a.push(f)}return a},deleteselection:function(){var a=this,b=a.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(b=this._getcellsforcopypaste()),null!=b&&b.length>0){for(var c=0;c<b.length;c++){var d=b[c],e=a.getcolumn(d.datafield),f=a.getcellvalue(d.rowindex,d.datafield);if(e&&""!==f){var g=null;"checkbox"==e.columntype&&(e.threestatecheckbox||(g=!1)),a._raiseEvent(17,{rowindex:d.rowindex,datafield:d.datafield,value:f}),c==b.length-1?(a.setcellvalue(d.rowindex,d.datafield,g,!0),e.displayfield!=e.datafield&&a.setcellvalue(d.rowindex,e.displayfield,g,!0)):(a.setcellvalue(d.rowindex,d.datafield,g,!1),e.displayfield!=e.datafield&&a.setcellvalue(d.rowindex,e.displayfield,g,!0)),a._raiseEvent(18,{rowindex:d.rowindex,datafield:d.datafield,oldvalue:f,value:g})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var b="",c=this;this.clipboardselection={},this._clipboardselection=[];var d=c.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(d=this._getcellsforcopypaste()),null!=d&&d.length>0){for(var e=999999999999999,f=-1,g=0;g<d.length;g++){var h=d[g],i=c.getcolumn(h.datafield);if(null!=i){var j=c.getcelltext(h.rowindex,h.datafield);this.clipboardselection[h.rowindex]||(this.clipboardselection[h.rowindex]={}),this.clipboardselection[h.rowindex][h.datafield]=j,e=Math.min(e,h.rowindex),f=Math.max(f,h.rowindex)}}for(var k=e;f>=k;k++){var l=0;this._clipboardselection[this._clipboardselection.length]=new Array,void 0!=this.clipboardselection[k]&&a.each(this.clipboardselection[k],function(a,d){l>0&&(b+="	");var e=d;null==d&&(e=""),c._clipboardselection[c._clipboardselection.length-1][l]=e,l++,b+=e}),f>k&&(b+="\n")}}return this.clipboardselectedtext=b,b},pasteselection:function(){var a=this.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(a=this._getcellsforcopypaste()),null!=a&&a.length>0){var b=a[0].rowindex,c=a[0].datafield,d=this._getcolumnindex(c);if(this.selectedrowindexes=new Array,this.selectedcells=new Array,!this._clipboardselection)return;for(var e=0;e<this._clipboardselection.length;e++)for(var f=0;f<this._clipboardselection[e].length;f++){var g=this.getcolumnat(d+f);if(g){var h=this.getcell(b+e,g.datafield),i=null;if(i=this._clipboardselection[e][f],null!=i){if(g.cellsformat&&(-1!=g.cellsformat.indexOf("p")||-1!=g.cellsformat.indexOf("c")||-1!=g.cellsformat.indexOf("n")||-1!=g.cellsformat.indexOf("f"))){i.indexOf(this.gridlocalization.currencysymbol)>-1&&(i=i.replace(this.gridlocalization.currencysymbol,""));var j=function(a,b,c){var d=a;if(b==c)return a;for(var e=d.indexOf(b);-1!=e;)d=d.replace(b,c),e=d.indexOf(b);return d};i=j(i,this.gridlocalization.thousandsseparator,""),i=i.replace(this.gridlocalization.decimalseparator,"."),i.indexOf(this.gridlocalization.percentsymbol)>-1&&(i=i.replace(this.gridlocalization.percentsymbol,""));for(var k="",l=0;l<i.length;l++){var m=i.substring(l,l+1);"-"===m&&(k+="-"),"."===m&&(k+="."),null!=m.match(/^[0-9]+$/)&&(k+=m)}i=k,i=i.replace(/ /g,""),i=new Number(i),isNaN(i)&&(i="")}this._raiseEvent(17,{rowindex:b+e,datafield:h.datafield,value:i}),this.setcellvalue(h.row,h.column,i,!1),this._raiseEvent(18,{rowindex:b+e,datafield:h.datafield,oldvalue:this.getcellvalue(h.rowindex,h.datafield),value:i}),this._applycellselection(b+e,h.datafield,!0,!1)}}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},_applyrowselection:function(a,b,c,d){if(null==a)return!1;var e=this.selectedrowindex;if("singlerow"==this.selectionmode&&(b?this._raiseEvent(2,{rowindex:a,row:this.getrowdata(a)}):this._raiseEvent(3,{rowindex:a,row:this.getrowdata(a)}),this._raiseEvent(3,{rowindex:e}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==d&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var f=this.getrowdata(a);f&&void 0!==f.dataindex?a=f.dataindex:f&&void 0===f.dataindex&&void 0!=f.uid&&(a=this.getrowboundindexbyid(f.uid))}var g=this.selectedrowindexes.indexOf(a);if(b)this.selectedrowindex=a,-1==g?(this.selectedrowindexes.push(a),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:a,row:this.getrowdata(a)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(g,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(a)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(g>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var h=this.selectedrowindexes[g];this.selectedrowindexes.splice(g,1),this._raiseEvent(3,{rowindex:h,row:this.getrowdata(a)}),this.selectedrowindex=-1}return(void 0==c||c)&&this._rendervisualrows(),!0},_applycellselection:function(a,b,c,d){if(null==a)return!1;if(null==b)return!1;this.selectedrowindex;if("singlecell"==this.selectionmode){var e=this.selectedcell;null!=e&&this._raiseEvent(16,{rowindex:e.rowindex,datafield:e.datafield}),this.selectedcells=new Array}if("multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode){var e=this.selectedcell;null!=e&&this._raiseEvent(16,{rowindex:e.rowindex,datafield:e.datafield})}var f=a+"_"+b;if(this.dataview.filters.length>0){var g=this.getrowdata(a);if(g&&void 0!==g.dataindex){a=g.dataindex;var f=a+"_"+b}else if(g&&void 0===g.dataindex&&g.uid){a=this.getrowboundindexbyid(g.uid);var f=a+"_"+b}}var h={rowindex:a,datafield:b};return c?(this.selectedcell=h,this.selectedcells[f]?("multiplecells"==this.selectionmode||"multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode)&&(delete this.selectedcells[f],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,h)):(this.selectedcells[f]=h,this.selectedcells.length++,this._raiseEvent(15,h))):(delete this.selectedcells[f],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,h)),(void 0==d||d)&&this._rendervisualrows(),!0},_getcellindex:function(b){var c=-1;return a.each(this.selectedcells,function(){return c++,this[b]?!1:void 0}),c},_clearhoverstyle:function(){if(void 0!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var a=this.table.find(".jqx-grid-cell-hover");a.length>0&&(a.removeClass(this.toTP("jqx-grid-cell-hover")),a.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var b=this.table[0].rows.length,c=this.table[0].rows,d=this.toTP("jqx-grid-cell-selected"),e=this.toTP("jqx-fill-state-pressed"),f=this.toTP("jqx-grid-cell-hover"),g=this.toTP("jqx-fill-state-hover"),h=0;b>h;h++)for(var i=c[h],j=i.cells.length,k=i.cells,l=0;j>l;l++){var m=k[l],n=a(m);-1!=m.className.indexOf("jqx-grid-cell-selected")&&(n.removeClass(d),n.removeClass(e)),-1!=m.className.indexOf("jqx-grid-cell-hover")&&(n.removeClass(f),n.removeClass(g))}},_selectpath:function(a,b){var c=this,d=this._lastClickedCell?Math.min(this._lastClickedCell.row,a):0,e=this._lastClickedCell?Math.max(this._lastClickedCell.row,a):0;if(e>=d){var f=this._getcolumnindex(this._lastClickedCell.column),g=this._getcolumnindex(b),h=Math.min(f,g),i=Math.max(f,g);this.selectedcells=new Array;for(var j=this.dataview.loadedrecords,k=d;e>=k;k++)for(var l=h;i>=l;l++){var a=j[k];this._applycellselection(c.getboundindex(a),c._getcolumnat(l).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(a){if("multiplerowsextended"==this.selectionmode){var b=this._lastClickedCell?Math.min(this._lastClickedCell.row,a):0,c=this._lastClickedCell?Math.max(this._lastClickedCell.row,a):0,d=this.dataview.loadedrecords;if(c>=b){this.selectedrowindexes=new Array;for(var e=b;c>=e;e++){var a=d[e],f=this.getrowboundindex(e);this._applyrowselection(f,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(a,b,c,d,e,f){var g=b.row;if(void 0!=g){var h=b.index;if(void 0!=this.hittestinfo[h]){var i=this.hittestinfo[h].visualrow;if(!this.hittestinfo[h].details){{i.cells[0].className}if(!g.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==f||1==e)){var j=this.getboundindex(g);if(this.dataview.filters.length>0){var k=this.getrowdata(j);if(k&&(j=k.dataindex,void 0==j))var j=this.getboundindex(g)}var l=-1!=c.indexOf(j),m=this.getboundindex(g)+"_"+d;if(-1!=this.selectionmode.indexOf("cell")){var n=void 0!=this.selectedcells[m];if(void 0!=this.selectedcells[m]&&n?this._selectcellwithstyle(a,!1,h,d,i):this._selectcellwithstyle(a,!0,h,d,i),f&&void 0==this._lastClickedCell){var o=this.getselectedcells();o&&o.length>0&&(this._lastClickedCell={row:o[0].rowindex,column:o[0].datafield})}f&&this._lastClickedCell&&(this._selectpath(g.visibleindex,d),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(l?e?this._applyrowselection(this.getboundindex(g),!1):this._selectrowwithstyle(a,i,!1,d):this._selectrowwithstyle(a,i,!0,d),f&&void 0==this._lastClickedCell){var p=this.getselectedrowindexes();p&&p.length>0&&(this._lastClickedCell={row:p[0],column:d})}if(f&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var q=this._lastClickedCell?Math.min(this._lastClickedCell.row,g.visibleindex):0,r=this._lastClickedCell?Math.max(this._lastClickedCell.row,g.visibleindex):0,s=this.dataview.loadedrecords,t=q;r>=t;t++){var g=s[t];g&&this._applyrowselection(this.getboundindex(g),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(a,i,!0,d),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(a,!0,h,d,i);f||(this._lastClickedCell={row:g.visibleindex,column:d})}}}}},_selectcellwithstyle:function(b,c,d,e,f){var g=a(f.cells[b._getcolumnindex(e)]);g.removeClass(this.toTP("jqx-grid-cell-hover")),g.removeClass(this.toTP("jqx-fill-state-hover")),c?(g.addClass(this.toTP("jqx-grid-cell-selected")),g.addClass(this.toTP("jqx-fill-state-pressed"))):(g.removeClass(this.toTP("jqx-grid-cell-selected")),g.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(b,c,d){var e=c.cells.length,f=0;b.rowdetails&&b.showrowdetailscolumn?this.rtl?(e-=1,e-=this.groups.length):f=1+this.groups.length:this.groupable&&(this.rtl?e-=this.groups.length:f=this.groups.length);for(var g=f;e>g;g++){var h=c.cells[g];d?(a(h).removeClass(this.toTP("jqx-grid-cell-hover")),a(h).removeClass(this.toTP("jqx-fill-state-hover")),-1==b.selectionmode.indexOf("cell")&&(a(h).addClass(this.toTP("jqx-grid-cell-selected")),a(h).addClass(this.toTP("jqx-fill-state-pressed")))):(a(h).removeClass(this.toTP("jqx-grid-cell-hover")),a(h).removeClass(this.toTP("jqx-grid-cell-selected")),a(h).removeClass(this.toTP("jqx-fill-state-hover")),a(h).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(b,c){if(("multiplerowsextended"==c.selectionmode||"multiplecellsextended"==c.selectionmode||"multiplecellsadvanced"==c.selectionmode)&&c.mousecaptured){if(c.multipleselectionbegins){var d=c.multipleselectionbegins(b);if(d===!1)return!0}var e=this.showheader?this.columnsheader.height()+2:0,f=this._groupsheader()?this.groupsheader.height():0,g=this.showtoolbar?this.toolbarheight:0;f+=g;var h=this.host.coord();if(this.hasTransform){h=a.jqx.utilities.getOffset(this.host);var i=this._getBodyOffset();h.left-=i.left,h.top-=i.top}var j=b.pageX,k=b.pageY-f;if(Math.abs(this.mousecaptureposition.left-j)>3||Math.abs(this.mousecaptureposition.top-k)>3){var l=parseInt(this.columnsheader.coord().top);this.hasTransform&&(l=a.jqx.utilities.getOffset(this.columnsheader).top),j<h.left&&(j=h.left),j>h.left+this.host.width()&&(j=h.left+this.host.width());var m=h.top+e;m>k&&(k=m+5);var n=parseInt(Math.min(c.mousecaptureposition.left,j)),o=-5+parseInt(Math.min(c.mousecaptureposition.top,k)),p=parseInt(Math.abs(c.mousecaptureposition.left-j)),q=parseInt(Math.abs(c.mousecaptureposition.top-k));
if(n-=h.left,o-=h.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==c.selectionmode){var j=n,r=j+p,s=c.hScrollInstance,t=s.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(t=s.max-s.value),"hidden"!=this.vScrollBar[0].style.visibility);var u=c.table[0].rows[0],v=0,w=c.mousecaptureposition.clickedcell,x=w,y=!1,z=0,A=u.cells.length;c.mousecaptureposition.left<=b.pageX&&(z=w);for(var B=z;A>B;B++){var C=parseInt(a(this.columnsrow[0].cells[B]).css("left")),D=C-t;if(c.columns.records[B].pinned)D=C;else{var E=this._getcolumnat(B);if(!(null!=E&&E.hidden||c.groupable&&c.groups.length>0&&B<c.groups.length)){var F=D+a(this.columnsrow[0].cells[B]).width();if(c.mousecaptureposition.left>b.pageX){if(F>=j&&j>=D){x=B,y=!0;break}}else if(F>=r&&r>=D){x=B,y=!0;break}}}}y||(c.mousecaptureposition.left>b.pageX?a.each(this.columns.records,function(a){return c.groupable&&c.groups.length>0&&a<c.groups.length?!0:this.pinned||this.hidden?void 0:(x=a,!1)}):(!c.groupable||c.groupable&&!c.groups.length>0)&&(x=u.cells.length-1));var G=w;w=Math.min(w,x),x=Math.max(G,x),o+=5,o+=f;for(var H=(c.table[0].rows.indexOf(c.mousecaptureposition.clickedrow),0),I=-1,J=-1,K=0,B=0;B<c.table[0].rows.length;B++){var L=a(c.table[0].rows[B]);0==B&&(K=L.coord().top);var M=L.height(),N=K-h.top;if(-1==I&&N+M>=o){for(var O=!1,P=0;P<c.groups.length;P++){var Q=L[0].cells[P].className;if(-1!=Q.indexOf("jqx-grid-group-collapse")||-1!=Q.indexOf("jqx-grid-group-expand")){O=!0;break}}if(O)continue;I=B}if(K+=M,c.groupable&&c.groups.length>0){for(var O=!1,P=0;P<c.groups.length;P++){var Q=L[0].cells[P].className;if(-1!=Q.indexOf("jqx-grid-group-collapse")||-1!=Q.indexOf("jqx-grid-group-expand")){O=!0;break}}if(O)continue;for(var v=0,R=c.groups.length;R<L[0].cells.length;R++){var S=L[0].cells[R];""==a(S).html()&&v++}if(v==L[0].cells.length-c.groups.length)continue}if(-1!=I&&(H+=M),N+M>o+q){J=B;break}}if(-1!=I){o=a(c.table[0].rows[I]).coord().top-h.top-f-2;var T=0;this.filterable&&this.showfilterrow&&(T=this.filterrowheight),parseInt(c.table[0].style.top)<0&&o<this.rowsheight+T&&(o-=parseInt(c.table[0].style.top),H+=parseInt(c.table[0].style.top)),q=H;var U=a(this.columnsrow[0].cells[w]),V=a(this.columnsrow[0].cells[x]);if(n=parseInt(U.css("left")),p=parseInt(V.css("left"))-parseInt(n)+V.width()-2,n-=t,c.editcell&&c.editable&&c.endcelledit&&(w!=x||I!=J)){if(0==c.editcell.validated)return;c.endcelledit(c.editcell.row,c.editcell.column,!0,!0)}}}this.selectionarea.width(p),this.selectionarea.height(q),this.selectionarea.css("left",n),this.selectionarea.css("top",o)}}},_handlemouseupselection:function(b,c){if(this.selectionarea){if("visible"!=this.selectionarea.css("visibility"))return c.mousecaptured=!1,!0;if(c.mousecaptured&&("multiplerowsextended"==c.selectionmode||"multiplerowsadvanced"==c.selectionmode||"multiplecellsextended"==c.selectionmode||"multiplecellsadvanced"==c.selectionmode)&&(c.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var d=this.showheader?this.columnsheader.height()+2:0,e=this._groupsheader()?this.groupsheader.height():0,f=this.showtoolbar?this.toolbarheight:0;e+=f;var g=this.selectionarea.coord(),h=this.host.coord();this.hasTransform&&(h=a.jqx.utilities.getOffset(this.host),g=a.jqx.utilities.getOffset(this.selectionarea));var i=g.left-h.left,j=g.top-d-h.top-e,k=j,l=i+this.selectionarea.width(),m=i,n=new Array,o=new Array;if("multiplerowsextended"==c.selectionmode){for(;j<k+this.selectionarea.height();){var p=this._hittestrow(i,j),q=p.row,r=p.index;-1!=r&&(o[r]||(o[r]=!0,n[n.length]=p)),j+=20}var k=0;a.each(n,function(){var a=this.row;"none"!=c.selectionmode&&c._selectrowwithmouse&&(b.ctrlKey?c._applyrowselection(c.getboundindex(a),!0,!1,!1):0==k?c._applyrowselection(c.getboundindex(a),!0,!1,!0):c._applyrowselection(c.getboundindex(a),!0,!1,!1),k++)})}else{"multiplecellsadvanced"==c.selectionmode&&(j+=2);var s=c.hScrollInstance,t=s.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(t=s.max-s.value),"hidden"!=this.vScrollBar[0].style.visibility&&(t-=this.scrollbarsize+4));var u=c.table[0].rows[0],v=c.selectionarea.height();!b.ctrlKey&&v>0&&(c.selectedcells=new Array);for(var w=v;k+w>j;){var p=c._hittestrow(i,j);if(p){var q=p.row,r=p.index;if(-1!=r&&!o[r]){o[r]=!0;for(var x=0;x<u.cells.length;x++){var y=parseInt(a(c.columnsrow[0].cells[x]).css("left"))-t,z=y+a(c.columnsrow[0].cells[x]).width();(m>=y&&z>=m||l>=y&&z>=l||y>=m&&l>=y)&&c._applycellselection(c.getboundindex(q),c._getcolumnat(x).datafield,!0,!1)}}j+=5}else j+=5}}c.autosavestate&&c.savestate&&c.savestate(),c._renderrows(c.virtualsizeinfo)}}},selectprevcell:function(a,b){var c=this._getcolumnindex(b),d=(this.columns.records.length,this._getprevvisiblecolumn(c));null!=d&&(this.clearselection(),this.selectcell(a,d.datafield))},selectnextcell:function(a,b){var c=this._getcolumnindex(b),d=(this.columns.records.length,this._getnextvisiblecolumn(c));null!=d&&(this.clearselection(),this.selectcell(a,d.datafield))},_getfirstvisiblecolumn:function(){for(var a=this.columns.records.length,b=0;a>b;b++){var c=this.columns.records[b];if(!c.hidden&&null!=c.datafield)return c}return null},_getlastvisiblecolumn:function(){for(var a=this.columns.records.length,b=a-1;b>=0;b--){var c=this.columns.records[b];if(!c.hidden&&null!=c.datafield)return c}return null},_handlekeydown:function(b,c){if(c.groupable&&c.groups.length>0)return!0;if(c.disabled)return!1;var d=b.charCode?b.charCode:b.keyCode?b.keyCode:0;if(c.editcell&&"multiplecellsadvanced"!=c.selectionmode)return!0;if(c.editcell&&"multiplecellsadvanced"==c.selectionmode){if(!(d>=33&&40>=d))return!0;if(b.altKey)return c._cancelkeydown=!1,!0;if(void 0!=c._cancelkeydown&&0!=c._cancelkeydown)return c._cancelkeydown=!1,!0;if("selectedrow"===c.editmode)return!0;if(c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),c._cancelkeydown=!1,c.editcell&&!c.editcell.validated)return c._rendervisualrows(),c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),!1}if("none"==c.selectionmode)return!0;if(c.showfilterrow&&c.filterable&&this.filterrow&&a(b.target).ischildof(this.filterrow))return!0;if(c.pageable&&a(b.target).ischildof(this.pager))return!0;if(this.showtoolbar&&a(b.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&a(b.target).ischildof(this.statusbar))return!0;var e=!1;if(b.altKey)return!0;if(b.ctrlKey&&this.clipboard){var f=String.fromCharCode(d).toLowerCase();if("c"==f||"x"==f){var g=this.copyselection();if(window.clipboardData)window.clipboardData.setData("Text",g);else{var h=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');h.val(g),a("body").append(h),h.select(),setTimeout(function(){document.designMode="off",h.select(),h.remove(),c.focus()},100)}}else if("v"==f){var i=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');a("body").append(i),i.select();var j=this;setTimeout(function(){j._clipboardselection=new Array;for(var a=i.val(),b=a.split("\n"),c=0;c<b.length;c++)if(b[c].split("	").length>0){var d=b[c].split("	");if(1==d.length&&c==b.length-1&&""==d[0])continue;d.length>0&&j._clipboardselection.push(d)}j.pasteselection(),i.remove(),j.focus()},100)}"x"==f&&(this.deleteselection(),this.host.focus())}var k=Math.round(c._gettableheight()),l=Math.round(k/c.rowsheight),m=c.getdatainformation();switch(c.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var n=c.getselectedcell();if(null!=n){var o=this.getrowvisibleindex(n.rowindex),p=o,q=n.datafield,r=c._getcolumnindex(q),s=(c.columns.records.length,function(a,f,g){var h=function(a,b){var d=c.dataview.loadedrecords[a];if(void 0!=d&&null!=b){(g||void 0==g)&&c.clearselection();var f=c.getboundindex(d);return c.selectcell(f,b),c._oldselectedcell=c.selectedcell,e=!0,c.ensurecellvisible(a,b),!0}return!1};if(h(a,f)||(c.ensurecellvisible(a,f),h(a,f),c.virtualmode&&c.host.focus()),b.shiftKey&&9!=d){if(("multiplecellsextended"==c.selectionmode||"multiplecellsadvanced"==c.selectionmode)&&c._lastClickedCell){c._selectpath(a,f);var i=c.dataview.loadedrecords[a],j=c.getboundindex(i);return void(c.selectedcell={rowindex:j,datafield:f})}}else b.shiftKey||(c._lastClickedCell={row:a,column:f})}),t=b.shiftKey&&"singlecell"!=c.selectionmode&&"multiplecells"!=c.selectionmode,u=function(){s(0,q,!t)},v=function(){var a=m.rowscount-1;s(a,q,!t)},w=9==d&&!b.shiftKey,x=9==d&&b.shiftKey;(w||x)&&(t=!1);var y=b.ctrlKey;if(y&&37==d){var z=c._getfirstvisiblecolumn(r);null!=z&&s(p,z.datafield)}else if(y&&39==d){var A=c._getlastvisiblecolumn(r);null!=A&&s(p,A.datafield)}else if(39==d||w){var B=c._getnextvisiblecolumn(r);null!=B?s(p,B.datafield,!t):w||(e=!0)}else if(37==d||x){var z=c._getprevvisiblecolumn(r);null!=z?s(p,z.datafield,!t):x||(e=!0)}else if(36==d)u();else if(35==d)v();else if(33==d)if(p-l>=0){var C=p-l;s(C,q,!t)}else u();else if(34==d)if(m.rowscount>p+l){var C=p+l;s(C,q,!t)}else v();else 38==d?y?u():p>0?s(p-1,q,!t):e=!0:40==d&&(y?v():m.rowscount>p+1?s(p+1,q,!t):e=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":var p=c.getselectedrowindex();if(null==p||-1==p)return!0;p=this.getrowvisibleindex(p);var D=function(a,f){var g=function(a){var b=c.dataview.loadedrecords[a];if(void 0!=b){var d=c.getboundindex(b),g=c.selectedrowindex;(f||void 0==f)&&c.clearselection(),c.selectedrowindex=g,c.selectrow(d,!1);var h=c.ensurerowvisible(a);return(!h||c.autoheight||c.groupable)&&c._rendervisualrows(),e=!0,!0}return!1};if(g(a)||(c.ensurerowvisible(a),g(a,f),c.virtualmode&&setTimeout(function(){g(a,f)},25),c.virtualmode&&c.host.focus()),b.shiftKey&&9!=d){if("multiplerowsextended"==c.selectionmode&&c._lastClickedCell)return c._selectrowpath(a),void(c.selectedrowindex=c.getrowboundindex(a))}else b.shiftKey||(c._lastClickedCell={row:a},c.selectedrowindex=c.getrowboundindex(a))},t=b.shiftKey&&"singlerow"!=c.selectionmode&&"multiplerows"!=c.selectionmode,u=function(){D(0,!t)},v=function(){var a=m.rowscount-1;D(a,!t)},y=b.ctrlKey;if(36==d||y&&38==d)u();else if(35==d||y&&40==d)v();else if(33==d)if(p-l>=0){var C=p-l;D(C,!t)}else u();else if(34==d)if(m.rowscount>p+l){var C=p+l;D(C,!t)}else v();else 38==d?p>0?D(p-1,!t):e=!0:40==d&&(m.rowscount>p+1?D(p+1,!t):e=!0)}return e?(c.autosavestate&&c.savestate&&c.savestate(),!1):!0},_handlemousemove:function(b,c){if(!c.vScrollInstance.isScrolling()&&!c.hScrollInstance.isScrolling()){var d,e,f,g,h;if(c.enablehover||"multiplerows"==c.selectionmode){d=this.showheader?this.columnsheader.height()+2:0,e=this._groupsheader()?this.groupsheader.height():0;var i=this.showtoolbar?this.toolbarheight:0;if(e+=i,f=this.host.coord(),this.hasTransform){f=a.jqx.utilities.getOffset(this.host);var j=this._getBodyOffset();f.left-=j.left,f.top-=j.top}g=b.pageX-f.left,h=b.pageY-d-f.top-e}if("multiplerowsextended"!=c.selectionmode&&"multiplecellsextended"!=c.selectionmode&&"multiplecellsadvanced"!=c.selectionmode||1!=c.mousecaptured){if(!c.enablehover)return!0;if(!c.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var k=this._hittestrow(g,h);if(k){var l=k.row,m=k.index;if((-1==this.hoveredrow||-1==m||this.hoveredrow!=m||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=m&&void 0!=l)){var n=this.hittestinfo[m].visualrow;if(null!=n&&!(this.hittestinfo[m].details||b.clientX>a(n).width()+a(n).coord().left)){var o=0,p=n.cells.length;if(c.rowdetails&&c.showrowdetailscolumn?this.rtl?(p-=1,p-=this.groups.length):o=1+this.groups.length:this.groupable&&(this.rtl?p-=this.groups.length:o=this.groups.length),0!=n.cells.length){var q=n.cells[o].className;if(!(l.group||this.selectionmode.indexOf("row")>=0&&-1!=q.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=m,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(var r=o;p>r;r++){var s=n.cells[r];a(s).addClass(this.toTP("jqx-grid-cell-hover")),a(s).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(s,b.pageX,b.pageY)}else{var t=-1,u=this.hScrollInstance,v=u.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(v=u.max-u.value);for(var r=o;p>r;r++){var w=parseInt(a(this.columnsrow[0].cells[r]).css("left"))-v,x=w+a(this.columnsrow[0].cells[r]).width();if(x>=g&&g>=w){t=r;break}}if(-1!=t){var s=n.cells[t];if(-1==s.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var y=this._getcolumnat(t);if(y&&this.editcell.row==m&&this.editcell.column==y.datafield)return}a(s).addClass(this.toTP("jqx-grid-cell-hover")),a(s).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(s,b.pageX,b.pageY)}}}}}}}}}}}})}(jQuery),function(a){a.extend(a.jqx._jqxGrid.prototype,{_calculateaggregate:function(b,c,d,e){var f=b.aggregates;if(f||(f=c),f){for(var g=new Array,h=0;h<f.length;h++)"count"!=f[h]&&(g[g.length]=b.cellsformat);if(this.source&&this.source.getAggregatedData){if(void 0==e&&(e=this.getrows()),this.virtualmode){var e=new Array;a.each(this.source._source.records,function(){e.push(this)})}if(void 0==d||1==d){var i=this.source.getAggregatedData([{name:b.datafield,aggregates:f,formatStrings:g}],this.gridlocalization,e);return i}var i=this.source.getAggregatedData([{name:b.datafield,aggregates:f}],this.gridlocalization,e);return i}}return null},getcolumnaggregateddata:function(a,b,c,d){var e=this.getcolumn(a),f=void 0==c||0==c?!1:c;if(null==b)return"";var g=e.aggregates;e.aggregates=null;var h=this._calculateaggregate(e,b,f,d),i={};return h&&(i=h[a]),e.aggregates=g,i},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(b,c,d){var e=this;if(c)if(d.children().remove(),d.html(""),b.aggregatesrenderer){if(c){var f=b.aggregatesrenderer(c[b.datafield],b,d,this.getcolumnaggregateddata(b.datafield,c[b.datafield]));d.html(f)}}else a.each(c,function(){var b=this;for(g in b){var c=a('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),f=g;f=e._getaggregatename(f),c.html(f+":"+b[g]),e.rtl&&c.addClass(e.toThemeProperty("jqx-rtl")),d.append(c)}});else if(d.children().remove(),d.html(""),b.aggregatesrenderer){var g={};b.aggregates&&(g=this.getcolumnaggregateddata(b.datafield,b.aggregates));var f=b.aggregatesrenderer({},b,d,null);d.html(f)}},_getaggregatetype:function(a){switch(a){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return a}var b=a;for(var c in a){b=c;break}return b},_getaggregatename:function(a){var b=a;switch(a){case"min":b="Min";break;case"max":b="Max";break;case"count":b="Count";break;case"avg":b="Avg";break;case"product":b="Product";break;case"var":b="Var";break;case"stdevp":b="StDevP";break;case"stdev":b="StDev";break;case"varp":b="VarP";case"sum":b="Sum"}if(a===b&&"string"!=typeof b)for(var c in a){b=c;break}return b},_updatecolumnsaggregates:function(){var b=this.getrows(),c=this.columns.records.length;if(void 0!=this.statusbar[0].cells)for(var d=0;c>d;d++){var e=a(this.statusbar[0].cells[d]),f=this.columns.records[d],g=this._calculateaggregate(f,null,!0,b);this._updatecolumnaggregates(f,g,e)}},_updateaggregates:function(){var b=a('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),c=0,d=this.columns.records.length,e=this.toThemeProperty("jqx-grid-cell");this.rtl&&(e+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),c=-1),e+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var f=d+10,g=new Array;this.statusbar[0].cells=g;for(var h=0;d>h;h++){var i=this.columns.records[h],j=this._calculateaggregate(i),k=i.width;k<i.minwidth&&(k=i.minwidth),k>i.maxwidth&&(k=i.maxwidth);var l=e;i.cellsalign&&(l+=" "+this.toThemeProperty("jqx-"+i.cellsalign+"-align"));var m=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+l+'"></div>');b.append(m),m.css("left",c),this.rtl?m.css("z-index",f++):m.css("z-index",f--),m.width(k),m[0].left=c,i.hidden&&i.hideable?m.css("display","none"):c+=k,g[g.length]=m[0],this._updatecolumnaggregates(i,j,m)}a.jqx.browser.msie&&a.jqx.browser.version<8&&b.css("z-index",f--),b.width(parseFloat(c)+2),b.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(b),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(e),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()}})}(jQuery),function(a){a.jqx.cssroundedcorners=function(a){var b={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in b)if(b.hasOwnProperty(prop)&&a==prop)return b[prop]},a.jqx.jqxWidget("jqxButton","",{}),a.extend(a.jqx._jqxButton.prototype,{defineInstance:function(){this.cursor="arrow",this.roundedCorners="all",this.disabled=!1,this.height=null,this.width=null,this.overrideTheme=!1,this.enableHover=!0,this.enableDefault=!0,this.enablePressed=!0,this.rtl=!1,this._ariaDisabled=!1,this._scrollAreaButton=!1,this.aria={"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(){var b=this;this._setSize(),this._ariaDisabled||this.host.attr("role","button"),this.overrideTheme||(this.host.addClass(this.toThemeProperty(a.jqx.cssroundedcorners(this.roundedCorners))),this.enableDefault&&this.host.addClass(this.toThemeProperty("jqx-button")),this.host.addClass(this.toThemeProperty("jqx-widget"))),this.isTouchDevice=a.jqx.mobile.isTouchDevice(),this._ariaDisabled||a.jqx.aria(this),"arrow"!=this.cursor&&this.host.css(this.disabled?{cursor:"arrow"}:{cursor:this.cursor});var c="mouseenter mouseleave mousedown focus blur";if(this._scrollAreaButton)var c="mousedown";this.isTouchDevice&&(this.addHandler(this.host,a.jqx.mobile.getTouchEventName("touchstart"),function(){b.isPressed=!0,b.refresh()}),this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchend")+"."+this.element.id,function(){b.isPressed=!1,b.refresh()})),this.addHandler(this.host,c,function(a){switch(a.type){case"mouseenter":this.isTouchDevice||!b.disabled&&b.enableHover&&(b.isMouseOver=!0,b.refresh());break;case"mouseleave":this.isTouchDevice||!b.disabled&&b.enableHover&&(b.isMouseOver=!1,b.refresh());break;case"mousedown":b.disabled||(b.isPressed=!0,b.refresh());break;case"focus":b.disabled||(b.isFocused=!0,b.refresh());break;case"blur":b.disabled||(b.isFocused=!1,b.refresh())}}),this.mouseupfunc=function(){b.disabled||(b.isPressed=!1,b.refresh())},this.addHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var d="";if(window.parent&&document.referrer&&(d=document.referrer),-1!=d.indexOf(document.location.host)){var e=function(){b.isPressed=!1,b.refresh()};window.top.document&&this.addHandler(a(window.top.document),"mouseup",e)}}}catch(f){}this.propertyChangeMap.roundedCorners=function(b,c,d,e){b.host.removeClass(b.toThemeProperty(a.jqx.cssroundedcorners(d))),b.host.addClass(b.toThemeProperty(a.jqx.cssroundedcorners(e)))},this.propertyChangeMap.width=function(a){a._setSize(),a.refresh()},this.propertyChangeMap.height=function(a){a._setSize(),a.refresh()},this.propertyChangeMap.disabled=function(b,c,d,e){d!=e&&(b.host[0].disabled=e,b.host.attr("disabled",e),b.refresh(),b.host.css(e?{cursor:"default"}:{cursor:b.cursor}),a.jqx.aria(b,"aria-disabled",b.disabled))},this.propertyChangeMap.rtl=function(a,b,c,d){c!=d&&a.refresh()},this.propertyChangeMap.theme=function(b){b.host.removeClass(),b.enableDefault&&b.host.addClass(b.toThemeProperty("jqx-button")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.overrideTheme||b.host.addClass(b.toThemeProperty(a.jqx.cssroundedcorners(b.roundedCorners))),b._oldCSSCurrent=null,b.refresh()},this.disabled&&(this.element.disabled=!0,this.host.attr("disabled",!0))},resize:function(a,b){this.width=a,this.height=b,this._setSize()},val:function(){var b=this.host.find("input");return b.length>0?0==arguments.length||"object"==typeof value?b.val():(b.val(value),this.refresh(),b.val()):0==arguments.length||"object"==typeof value?"button"==this.element.nodeName.toLowerCase()?a(this.element).text():this.element.value:(this.element.value=arguments[0],"button"==this.element.nodeName.toLowerCase()&&a(this.element).text(arguments[0]),void this.refresh())},_setSize:function(){null==this.width||-1==this.width.toString().indexOf("px")&&-1==this.width.toString().indexOf("%")?void 0==this.width||isNaN(this.width)||this.host.css("width",this.width):this.host.css("width",this.width),null==this.height||-1==this.height.toString().indexOf("px")&&-1==this.height.toString().indexOf("%")?void 0==this.height||isNaN(this.height)||this.host.css("height",parseInt(this.height)):this.host.css("height",this.height)},_removeHandlers:function(){this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"mousedown"),this.removeHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc),this.isTouchDevice&&(this.removeHandler(this.host,a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchend")+"."+this.element.id)),this.mouseupfunc=null,delete this.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){this._removeHandlers();var b=a.data(this.element,"jqxButton");b&&delete b.instance,this.host.removeClass(),this.host.removeData(),this.host.remove(),delete this.set,delete this.get,delete this.call,delete this.propertyChangeMap.roundedCorners,delete this.propertyChangeMap.width,delete this.propertyChangeMap.height,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.rtl,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,delete this.element,delete this.host},render:function(){this.refresh()},refresh:function(){if(!this.overrideTheme){var a=this.toThemeProperty("jqx-fill-state-focus"),b=this.toThemeProperty("jqx-fill-state-disabled"),c=this.toThemeProperty("jqx-fill-state-normal");this.enableDefault||(c="");var d=this.toThemeProperty("jqx-fill-state-hover"),e=this.toThemeProperty("jqx-fill-state-pressed"),f=this.toThemeProperty("jqx-fill-state-pressed");this.enablePressed||(e="");var g="";if(this.host){if(this.host[0].disabled=this.disabled,this.disabled)return g=c+" "+b,this.host.addClass(g),void(this._oldCSSCurrent=g);g=this.isMouseOver&&!this.isTouchDevice?this.isPressed?f:d:this.isPressed?e:c,this.isFocused&&(g+=" "+a),g!=this._oldCSSCurrent&&(this._oldCSSCurrent&&this.host.removeClass(this._oldCSSCurrent),this.host.addClass(g),this._oldCSSCurrent=g),this.rtl&&(this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.css("direction","rtl"))}}}}),a.jqx.jqxWidget("jqxLinkButton","",{}),a.extend(a.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(a){var b=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var c=this.height||this.host.height(),d=this.width||this.host.width();this.href=this.host.attr("href"),this.target=this.host.attr("target"),this.content=this.host.text(),this.element.innerHTML="",this.host.append("<input type='button' class='jqx-wrapper'/>");var e=this.host.find("input");e.addClass(this.toThemeProperty("jqx-reset")),e.width(d),e.height(c),e.val(this.content),this.host.find("tr").addClass(this.toThemeProperty("jqx-reset")),this.host.find("td").addClass(this.toThemeProperty("jqx-reset")),this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset")),this.host.css("color","inherit"),this.host.addClass(this.toThemeProperty("jqx-link")),e.css({width:d}),e.css({height:c});var f=void 0==a?{}:a[0]||{};e.jqxButton(f),this.disabled&&(this.host[0].disabled=!0),this.propertyChangeMap.disabled=function(a,b,c,d){a.host[0].disabled=d,a.host.find("input").jqxButton({disabled:d})},this.addHandler(e,"click",function(a){return this.disabled||b.onclick(a),!1})},onclick:function(){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),a.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),a.extend(a.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(){var b=this,c=a.jqx.mobile.isTouchDevice(),d=c?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,e=c?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(a(document),d,function(){null!=b.timeout&&(clearTimeout(b.timeout),b.timeout=null,b.refresh()),void 0!=b.timer&&(clearInterval(b.timer),b.timer=null,b.refresh())}),this.addHandler(this.base.host,e,function(){null!=b.timer&&clearInterval(b.timer),b.timeout=setTimeout(function(){clearInterval(b.timer),b.timer=setInterval(function(a){b.ontimer(a)},b.delay)},150)}),this.mousemovefunc=function(a){c||0==a.which&&null!=b.timer&&(clearInterval(b.timer),b.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var b=a.jqx.mobile.isTouchDevice(),c=b?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,d=b?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,d),this.removeHandler(a(document),c),this.timer=null,delete this.mousemovefunc,delete this.timer;var e=a.data(this.base.element,"jqxRepeatButton");e&&delete e.instance,a(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(a){var a=new jQuery.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(a)}}),a.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),a.extend(a.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(){var b=this;this.base.overrideTheme=!0,this.isTouchDevice=a.jqx.mobile.isTouchDevice(),a.jqx.aria(this),this.propertyChangeMap.toggled=function(a){a.refresh()},this.propertyChangeMap.disabled=function(a,b,c,d){a.base.disabled=d,a.refresh()},this.addHandler(this.base.host,"click",function(){!b.base.disabled&&b.uiToggle&&b.toggle()}),this.isTouchDevice||(this.addHandler(this.base.host,"mouseenter",function(){b.base.disabled||b.refresh()}),this.addHandler(this.base.host,"mouseleave",function(){b.base.disabled||b.refresh()})),this.addHandler(this.base.host,"mousedown",function(){b.base.disabled||b.refresh()}),this.addHandler(a(document),"mouseup.togglebutton"+this.base.element.id,function(){b.base.disabled||b.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(a(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),a.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var a=this.base.toThemeProperty("jqx-fill-state-disabled"),b=this.base.toThemeProperty("jqx-fill-state-normal");this.base.enableDefault||(b="");var c=this.base.toThemeProperty("jqx-fill-state-hover"),d=this.base.toThemeProperty("jqx-fill-state-pressed"),e=this.base.toThemeProperty("jqx-fill-state-pressed"),f="";return this.base.host[0].disabled=this.base.disabled,this.base.disabled?(f=b+" "+a,void this.base.host.addClass(f)):(f=this.base.isMouseOver&&!this.isTouchDevice?this.base.isPressed||this.toggled?e:c:this.base.isPressed||this.toggled?d:b,this.base.host.hasClass(a)&&a!=f&&this.base.host.removeClass(a),this.base.host.hasClass(b)&&b!=f&&this.base.host.removeClass(b),this.base.host.hasClass(c)&&c!=f&&this.base.host.removeClass(c),this.base.host.hasClass(d)&&d!=f&&this.base.host.removeClass(d),this.base.host.hasClass(e)&&e!=f&&this.base.host.removeClass(e),void(this.base.host.hasClass(f)||this.base.host.addClass(f)))}})}(jQuery),function(a){a.jqx.jqxWidget("jqxScrollBar","",{}),a.extend(a.jqx._jqxScrollBar.prototype,{defineInstance:function(){this.height=null,this.width=null,this.vertical=!1,this.min=0,this.max=1e3,this.value=this.min,this.step=10,this.largestep=50,this.thumbMinSize=10,this.thumbSize=0,this.thumbStep="auto",this.roundedCorners="all",this.showButtons=!0,this.disabled=!1,this.touchMode="auto",this.touchModeStyle="auto",this.thumbTouchSize=0,this._triggervaluechanged=!0,this.rtl=!1,this.areaDownCapture=!1,this.areaUpCapture=!1,this._initialLayout=!1},createInstance:function(){this.render()},render:function(){this._mouseup=new Date;var b=this,c="<div id='jqxScrollOuterWrap' style='width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";if(a.jqx.utilities&&"hidden"==a.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.host.html(c)}):this.element.innerHTML=c,void 0!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),void 0!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var d=this;a.jqx.utilities.resize(this.host,function(){d._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=a(this.element.firstChild),this.scrollWrap=a(this.scrollOuterWrap[0].firstChild),this.btnUp=a(this.scrollWrap[0].firstChild),this.areaUp=a(this.btnUp[0].nextSibling),this.btnThumb=a(this.areaUp[0].nextSibling),this.arrowUp=a("<div></div>"),this.arrowUp.appendTo(this.btnUp),this.areaDown=a(this.btnThumb[0].nextSibling),this.btnDown=a(this.areaDown[0].nextSibling),this.arrowDown=a("<div></div>"),this.arrowDown.appendTo(this.btnDown);var e=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+e,this.btnDown[0].id="jqxScrollBtnDown"+e,this.btnThumb[0].id="jqxScrollThumb"+e,this.areaUp[0].id="jqxScrollAreaUp"+e,this.areaDown[0].id="jqxScrollAreaDown"+e,this.scrollWrap[0].id="jqxScrollWrap"+e,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+e,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=a.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=a.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(a,b,c,d){isNaN(d)||c!=d&&a.setPosition(parseFloat(d),!0)
},this.propertyChangeMap.width=function(a){void 0!=a.width&&parseInt(a.width)>0&&(a.host.width(parseInt(a.width)),a._arrange())},this.propertyChangeMap.height=function(a){void 0!=a.height&&parseInt(a.height)>0&&(a.host.height(parseInt(a.height)),a._arrange())},this.propertyChangeMap.theme=function(a){a.setTheme()},this.propertyChangeMap.max=function(a,b,c,d){isNaN(d)||c!=d&&(a.max=parseInt(d),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))},this.propertyChangeMap.min=function(a,b,c,d){isNaN(d)||c!=d&&(a.min=parseInt(d),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))},this.propertyChangeMap.disabled=function(a,b,c,d){c!=d&&(d?a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.btnUp.jqxRepeatButton("disabled",a.disabled),a.btnDown.jqxRepeatButton("disabled",a.disabled),a.btnThumb.jqxButton("disabled",a.disabled))},this.propertyChangeMap.touchMode=function(a,b,c,d){c!=d&&(a._updateTouchBehavior(),d===!0?(a.showButtons=!1,a.refresh()):d===!1&&(a.showButtons=!0,a.refresh()))},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(a,b){this.width=a,this.height=b,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=a.jqx.mobile.isTouchDevice(),1==this.touchMode){if(a.jqx.browser.msie&&a.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,a.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var b=this,c=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(c=!0,this._touchSupport=!0)}catch(d){}if((b.isTouchDevice||c)&&(this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchend"),function(a){var c=b.toThemeProperty(b.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal"),d=b.toThemeProperty("jqx-fill-state-pressed");return b.btnThumb.removeClass(c),b.btnThumb.removeClass(d),b.disabled||b.handlemouseup(b,a),!1}),this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchstart"),function(a){if(!b.disabled){if(1==b.touchMode)a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY;else{var c=a;c.originalEvent.touches&&c.originalEvent.touches.length?(a.clientX=c.originalEvent.touches[0].clientX,a.clientY=c.originalEvent.touches[0].clientY):(a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY)}b.handlemousedown(a),a.preventDefault&&a.preventDefault()}}),a.jqx.mobile.touchScroll(this.element,b.max,function(a,c,d,e,f){if("visible"==b.host.css("visibility")){if(1==b.touchMode)f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY;else{var g=f;g.originalEvent.touches&&g.originalEvent.touches.length?(f.clientX=g.originalEvent.touches[0].clientX,f.clientY=g.originalEvent.touches[0].clientY):(f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY)}var h=b.toThemeProperty(b.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");b.btnThumb.addClass(h),b.btnThumb.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.thumbCapture=!0,b.handlemousemove(f)}},b.element.id)),this.addHandler(this.btnUp,"click",function(){var a=b.step;b.rtl&&!b.vertical&&(a=-b.step),b.buttonUpCapture&&!b.isTouchDevice?b.disabled||b.setPosition(b.value-a):!b.disabled&&b.isTouchDevice&&b.setPosition(b.value-a)}),this.addHandler(this.btnDown,"click",function(){var a=b.step;b.rtl&&!b.vertical&&(a=-b.step),b.buttonDownCapture&&!b.isTouchDevice?b.disabled||b.setPosition(b.value+a):!b.disabled&&b.isTouchDevice&&b.setPosition(b.value+a)}),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var e=null;if(window.parent&&document.referrer&&(e=document.referrer),e&&-1!=e.indexOf(document.location.host)){var f=function(a){b.disabled||b.handlemouseup(b,a)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",f,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",f)}}}catch(g){}this.addHandler(this.btnDown,"mouseup",function(a){if(!b.btnDownInstance.base.disabled&&b.buttonDownCapture){b.buttonDownCapture=!1,b.btnDown.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.btnDown.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._removeArrowClasses("pressed","down"),b.handlemouseup(b,a);var c=b.step;return b.rtl&&!b.vertical&&(c=-b.step),b.setPosition(b.value+c),!1}}),this.addHandler(this.btnUp,"mouseup",function(a){if(!b.btnUpInstance.base.disabled&&b.buttonUpCapture){b.buttonUpCapture=!1,b.btnUp.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.btnUp.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._removeArrowClasses("pressed","up"),b.handlemouseup(b,a);var c=b.step;return b.rtl&&!b.vertical&&(c=-b.step),b.setPosition(b.value-c),!1}}),this.addHandler(this.btnDown,"mousedown",function(){return b.btnDownInstance.base.disabled?void 0:(b.buttonDownCapture=!0,b.btnDown.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.btnDown.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b._addArrowClasses("pressed","down"),!1)}),this.addHandler(this.btnUp,"mousedown",function(){return b.btnUpInstance.base.disabled?void 0:(b.buttonUpCapture=!0,b.btnUp.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.btnUp.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b._addArrowClasses("pressed","up"),!1)})}var h="click";if(this.isTouchDevice&&(h=a.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,h,function(){if(!b.disabled){var a=b.largestep;return b.rtl&&!b.vertical&&(a=-b.largestep),b.setPosition(b.value-a),!1}}),this.addHandler(this.areaDown,h,function(){if(!b.disabled){var a=b.largestep;return b.rtl&&!b.vertical&&(a=-b.largestep),b.setPosition(b.value+a),!1}}),this.addHandler(this.areaUp,"mousedown",function(){return b.disabled?void 0:(b.areaUpCapture=!0,!1)}),this.addHandler(this.areaDown,"mousedown",function(){return b.disabled?void 0:(b.areaDownCapture=!0,!1)}),this.addHandler(this.btnThumb,"mousedown",function(a){return b.disabled||b.handlemousedown(a),!1}),this.addHandler(this.btnThumb,"dragstart",function(){return!1}),this.addHandler(a(document),"mouseup."+this.element.id,function(a){b.disabled||b.handlemouseup(b,a)}),!this.isTouchDevice&&(this.mousemoveFunc=function(a){b.disabled||b.handlemousemove(a)},this.addHandler(a(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(a(document),"mouseleave."+this.element.id,function(a){b.disabled||b.handlemouseleave(a)}),this.addHandler(a(document),"mouseenter."+this.element.id,function(a){b.disabled||b.handlemouseenter(a)}),!b.disabled)){this.addHandler(this.btnUp,"mouseenter",function(){b.disabled||b.btnUpInstance.base.disabled||1==b.touchMode||(b.btnUp.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnUp.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._addArrowClasses("hover","up"))}),this.addHandler(this.btnUp,"mouseleave",function(){b.disabled||b.btnUpInstance.base.disabled||1==b.touchMode||(b.btnUp.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnUp.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._removeArrowClasses("hover","up"))});var i=b.toThemeProperty("jqx-scrollbar-thumb-state-hover");b.vertical||(i=b.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter",function(){b.disabled||1==b.touchMode||(b.btnThumb.addClass(i),b.btnThumb.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnThumb,"mouseleave",function(){b.disabled||1==b.touchMode||(b.btnThumb.removeClass(i),b.btnThumb.removeClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter",function(){b.disabled||b.btnDownInstance.base.disabled||1==b.touchMode||(b.btnDown.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnDown.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._addArrowClasses("hover","down"))}),this.addHandler(this.btnDown,"mouseleave",function(){b.disabled||b.btnDownInstance.base.disabled||1==b.touchMode||(b.btnDown.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnDown.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._removeArrowClasses("hover","down"))})}},destroy:function(){var b=this.btnUp,c=this.btnDown,d=this.btnThumb,e=(this.scrollWrap,this.areaUp),f=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,f.removeClass(),e.removeClass(),c.removeClass(),b.removeClass(),d.removeClass(),b.jqxRepeatButton("destroy"),c.jqxRepeatButton("destroy"),e.jqxRepeatButton("destroy"),f.jqxRepeatButton("destroy"),d.jqxButton("destroy");var g=a.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,g&&delete g.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(a(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(a(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(a(document),"mousemove."+this.element.id),this.removeHandler(a(document),"mouseleave."+this.element.id),this.removeHandler(a(document),"mouseenter."+this.element.id)},_addArrowClasses:function(a,b){"pressed"==a&&(a="selected"),""!=a&&(a="-"+a),this.vertical?(("up"==b||void 0==b)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+a)),("down"==b||void 0==b)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+a))):(("up"==b||void 0==b)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+a)),("down"==b||void 0==b)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+a)))},_removeArrowClasses:function(a,b){"pressed"==a&&(a="selected"),""!=a&&(a="-"+a),this.vertical?(("up"==b||void 0==b)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+a)),("down"==b||void 0==b)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+a))):(("up"==b||void 0==b)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+a)),("down"==b||void 0==b)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+a)))},setTheme:function(){var b=this.btnUp,c=this.btnDown,d=this.btnThumb,e=this.scrollWrap,f=(this.areaUp,this.areaDown,this.arrowUp),g=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var h=this.toThemeProperty("jqx-reset");this.areaDown[0].className=h,this.areaUp[0].className=h;var i=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(i),c[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),b[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var j="";if(this.vertical?(f[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-up"),g[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-down"),j=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(f[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-left"),g[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-right"),j=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),j+=" "+this.toThemeProperty("jqx-fill-state-normal"),d[0].className=j,this.disabled?(e.addClass(this.toThemeProperty("jqx-fill-state-disabled")),e.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(e.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var k=a.jqx.cssroundedcorners("top");k=this.toThemeProperty(k),b.addClass(k);var l=a.jqx.cssroundedcorners("bottom");l=this.toThemeProperty(l),c.addClass(l)}else{var m=a.jqx.cssroundedcorners("left");m=this.toThemeProperty(m),b.addClass(m);var n=a.jqx.cssroundedcorners("right");n=this.toThemeProperty(n),c.addClass(n)}else{var o=a.jqx.cssroundedcorners(this.roundedCorners);o=this.toThemeProperty(o),elBtnUp.addClass(o),elBtnDown.addClass(o)}var o=a.jqx.cssroundedcorners(this.roundedCorners);o=this.toThemeProperty(o),d.hasClass(o)||d.addClass(o),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0==this.thumbCapture||void 0==this.buttonDownCapture||void 0==this.buttonUpCapture||void 0==this.areaDownCapture||void 0==this.areaUpCapture?!1:this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(a){if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var b=this.btnThumb;null!=b&&(b.addClass(this.toThemeProperty("jqx-fill-state-pressed")),b.addClass(this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}this.dragStartX=a.clientX,this.dragStartY=a.clientY,this.dragStartValue=this.value},toggleHover:function(){},refresh:function(){this._arrange()},_setElementPosition:function(a,b,c){isNaN(b)||parseInt(a[0].style.left)!=parseInt(b)&&(a[0].style.left=b+"px"),isNaN(c)||parseInt(a[0].style.top)!=parseInt(c)&&(a[0].style.top=c+"px")},_setElementTopPosition:function(a,b){isNaN(b)||(a[0].style.top=b+"px")},_setElementLeftPosition:function(a,b){isNaN(b)||(a[0].style.left=b+"px")},handlemouseleave:function(){var a=this.btnUp,b=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var c=this.btnThumb,d=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");c.removeClass(d),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(){var a=this.btnUp,b=this.btnDown;if(this.buttonUpCapture&&(a.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var c=this.btnThumb;c.addClass(this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),c.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(a){var b=this.btnUp,c=this.btnDown,d=0;if(null!=c&&null!=b){if(null!=b&&null!=c&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&a.which==d?(c.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&a.which==d&&(b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var e=this.btnThumb;if(a.which==d&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var f=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");return e.removeClass(f),e.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation();var g=0;try{g=this.vertical?a.clientY-this.dragStartY:a.clientX-this.dragStartX;var h=this._btnAndThumbSize;this._btnAndThumbSize||(h=this.vertical?b.height()+c.height()+e.height():b.width()+c.width()+e.width());var i=(this.max-this.min)/(this.scrollBarSize-h);if("auto"!=this.thumbStep){if(g*=i,Math.abs(this.dragStartValue+g-this.value)>=parseInt(this.thumbStep)){var j=Math.round(parseInt(g)/this.thumbStep)*this.thumbStep;return this.setPosition(this.rtl&&!this.vertical?this.dragStartValue-j:this.dragStartValue+j),!1}return!1}g*=i;var j=g;this.rtl&&!this.vertical&&(j=-g),this.setPosition(this.dragStartValue+j)}catch(k){alert(k)}return!1}},handlemouseup:function(a,b){var c=!1;if(this.thumbCapture){this.thumbCapture=!1;var d=this.btnThumb,e=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");d.removeClass(e),d.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c=!0,this._mouseup=new Date}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var f=this.btnUp,g=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,f.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),g.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),f.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),g.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),c=!0,this._mouseup=new Date}c&&(void 0!=b.preventDefault&&b.preventDefault(),null!=b.originalEvent&&(b.originalEvent.mouseHandled=!0),void 0!=b.stopPropagation&&b.stopPropagation())},setPosition:function(a,b){this.element;if((void 0==a||0/0==a)&&(a=this.min),a>=this.max&&(a=this.max),a<this.min&&(a=this.min),this.value!==a||1==b){if(a==this.max){var c=new jQuery.Event("complete");this.host.trigger(c)}var d=this.value;if(this._triggervaluechanged){var e=new jQuery.Event("valuechanged");e.previousValue=this.value,e.currentValue=a}this.value=a,this._positionelements(),this._triggervaluechanged&&this.host.trigger(e),this.valuechanged&&this.valuechanged({currentValue:this.value,previousvalue:d})}return a},_getThumbSize:function(a){var b=this.max-this.min,c=0;return b>1?c=a/(b+a)*a:1==b&&(c=a),this.thumbSize>0&&(c=this.thumbSize),c<this.thumbMinSize&&(c=this.thumbMinSize),Math.min(c,a)},_positionelements:function(){var a=(this.element,this.areaUp),b=this.areaDown,c=(this.btnUp,this.btnDown,this.btnThumb),d=(this.scrollWrap,this._height?this._height:this.host.height()),e=this._width?this._width:this.host.width(),f=this.vertical?e:d;this.showButtons||(f=0);var g=this.vertical?d:e;this.scrollBarSize=g;var h=this._getThumbSize(g-2*f);h=Math.round(h),h<this.thumbMinSize&&(h=this.thumbMinSize),(0/0==d||10>d)&&(d=10),(0/0==e||10>e)&&(e=10),f+=2,this.btnSize=f;var i=this._btnAndThumbSize;if(!this._btnAndThumbSize){var i=this.vertical?2*this.btnSize+c.outerHeight():2*this.btnSize+c.outerWidth();i=Math.round(i)}var j=(g-i)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(j=(g-i)/(this.max-this.min)*(this.max-this.value-this.min)),j=Math.round(j),0>j&&(j=0),this.vertical){var k=g-j-i;0>k&&(k=0),b[0].style.height=k+"px",a[0].style.height=j+"px",this._setElementTopPosition(a,f),this._setElementTopPosition(c,f+j),this._setElementTopPosition(b,f+j+h)}else a[0].style.width=j+"px",b[0].style.width=g-j-i>=0?g-j-i+"px":"0px",this._setElementLeftPosition(a,f),this._setElementLeftPosition(c,f+j),this._setElementLeftPosition(b,2+f+j+h)},_arrange:function(){if(this._initialLayout)return void(this._initialLayout=!1);var a=(this.element,this.areaUp),b=this.areaDown,c=this.btnUp,d=this.btnDown,e=this.btnThumb,f=this.scrollWrap,g=parseInt(this.element.style.height),h=parseInt(this.element.style.width);if(this.isPercentage)var g=this.host.height(),h=this.host.width();isNaN(g)&&(g=0),isNaN(h)&&(h=0),this._width=h,this._height=g;var i=this.vertical?h:g;this.showButtons||(i=0),c[0].style.width=i+"px",c[0].style.height=i+"px",d[0].style.width=i+"px",d[0].style.height=i+"px",this.vertical?f[0].style.width=h+2+"px":f[0].style.height=g+2+"px",this._setElementPosition(c,0,0);var j=i+2;this.vertical?this._setElementPosition(d,0,g-j):this._setElementPosition(d,h-j,0);var k=this.vertical?g:h;this.scrollBarSize=k;var l=this._getThumbSize(k-2*i);l=Math.round(l),l<this.thumbMinSize&&(l=this.thumbMinSize);var m=!1;this.isTouchDevice&&0!=this.touchModeStyle&&(m=!0),this.vertical?(e[0].style.width=h+"px",e[0].style.height=l+"px",m&&0!==this.thumbTouchSize&&(e.css({width:this.thumbTouchSize+"px"}),e.css("margin-left",(this.host.width()-this.thumbTouchSize)/2))):(e[0].style.width=l+"px",e[0].style.height=g+"px",m&&0!==this.thumbTouchSize&&(e.css({height:this.thumbTouchSize+"px"}),e.css("margin-top",(this.host.height()-this.thumbTouchSize)/2))),(0/0==g||10>g)&&(g=10),(0/0==h||10>h)&&(h=10),i+=2,this.btnSize=i;var n=this.vertical?2*this.btnSize+(2+parseInt(e[0].style.height)):2*this.btnSize+(2+parseInt(e[0].style.width));n=Math.round(n),this._btnAndThumbSize=n;var o=(k-n)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(o=(k-n)/(this.max-this.min)*(this.max-this.value-this.min)),o=Math.round(o),(o===-1/0||1/0==o)&&(o=0),isNaN(o)&&(o=0),0>o&&(o=0),this.vertical){var p=k-o-n;0>p&&(p=0),b[0].style.height=p+"px",b[0].style.width=h+"px",a[0].style.height=o+"px",a[0].style.width=h+"px";var q=parseInt(this.element.style.height);this.isPercentage&&(q=this.host.height()),e[0].style.visibility="inherit",q-3*parseInt(i)<0?e[0].style.visibility="hidden":n>q?e[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(e[0].style.visibility="inherit"),this._setElementPosition(a,0,i),this._setElementPosition(e,0,i+o),this._setElementPosition(b,0,i+o+l)}else{o>0&&(a[0].style.width=o+"px"),g>0&&(a[0].style.height=g+"px");var r=k-o-n;0>r&&(r=0),b[0].style.width=r+"px",b[0].style.height=g+"px";var s=parseInt(this.element.style.width);this.isPercentage&&(s=this.host.width()),e[0].style.visibility="inherit",s-3*parseInt(i)<0?e[0].style.visibility="hidden":n>s?e[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(e[0].style.visibility="inherit"),this._setElementPosition(a,i,0),this._setElementPosition(e,i+o,0),this._setElementPosition(b,2+i+o+l,0)}}})}(jQuery),function(a){a.extend(a.jqx._jqxGrid.prototype,{autoresizecolumns:function(b,c){"cells"!=b&&"all"!=b&&"column"!=b&&(b="all");var d=this.that,e=this.getrows();this.pageable&&(e=this.dataview.rows,this.groupable&&(e=this.dataview.records)),c=void 0==c?0:parseInt(c);var f=e.length;if(void 0==f&&void 0!=e){var g=new Array;a.each(e,function(){g.push(this)}),e=g,f=e.length}var h=a("<span></span>");h.addClass(this.toThemeProperty("jqx-widget")),h.addClass(this.toThemeProperty("jqx-grid-cell")),a(document.body).append(h);var i=[],j=[],k=[],l=[],m=d.host.width();"hidden"!=d.vScrollBar[0].style.visibility&&(m-=this.scrollbarsize+5),0>m&&(m=0);for(var n=0;f>n;n++)for(var o=e[n],p=0;p<this.columns.records.length;p++){var q=this.columns.records[p];if(!q.hidden){void 0==j[q.displayfield]&&(j[q.displayfield]=0),void 0==k[q.displayfield]&&(k[q.displayfield]="");var r=o[q.displayfield];if(""!=q.cellsformat)a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(r)?r=a.jqx.dataFormat.formatdate(r,q.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(r)&&(r=a.jqx.dataFormat.formatnumber(r,q.cellsformat,this.gridlocalization)));else if(q.cellsrenderer){var s=d._defaultcellsrenderer(r,q),t=q.cellsrenderer(n,q.datafield,r,s,q.getcolumnproperties(),o);void 0!=t&&(r=a(t).text())}if((void 0==b||"cells"==b||"all"==b)&&null!=r){var i=r.toString().length,u=r.toString(),v=u.replace(/[^A-Z]/g,"").length;if(i>j[q.displayfield]&&(j[q.displayfield]=i,k[q.displayfield]=r,l[q.displayfield]=v),i>0&&i>=v){var w=20*v+15*(i-v),x=20*l[q.displayfield]+15*(j[q.displayfield]-l[q.displayfield]);w>x&&w>0&&x>0&&(j[q.displayfield]=i,k[q.displayfield]=r,l[q.displayfield]=v)}}if("column"==b||"all"==b){if(q.text.toString().length>j[q.displayfield]){k[q.displayfield]=q.text,j[q.displayfield]=q.text.length;var u=q.text.toString(),v=u.replace(/[^A-Z]/g,"").length;l[q.displayfield]=v}var r=q.text,i=r.toString().length,u=r.toString(),v=u.replace(/[^A-Z]/g,"").length;if(i>0&&i>=v){var w=20*v+15*(i-v),x=20*l[q.displayfield]+15*(j[q.displayfield]-l[q.displayfield]);w>x&&w>0&&x>0&&(j[q.displayfield]=i,k[q.displayfield]=r,l[q.displayfield]=v)}}}}if(this.columns.records){for(var p=0;p<this.columns.records.length;p++){var q=this.columns.records[p];void 0==k[q.displayfield]&&(k[q.displayfield]=q.text),h[0].innerHTML=k[q.displayfield].toString();var y=h.outerWidth()+10;if(h.children().length>0&&(y=h.children().outerWidth()+10),a.jqx.browser.msie&&a.jqx.browser.version<8&&(y+=10),this.filterable&&this.showfilterrow&&(y+=5),y+=c,y>q.maxwidth&&(y=q.maxwidth),void 0!=q._width&&(q.__width=q._width),q._width=null,"auto"==q.maxwidth||y<=q.maxwidth){var z=q.width;y<q.minwidth&&(y=q.minwidth),q.width=y,void 0!=q._percentagewidth&&(q._percentagewidth=null),this._raiseEvent(14,{columntext:q.text,column:q.getcolumnproperties(),datafield:q.datafield,displayfield:q.displayfield,oldwidth:z,newwidth:y})}}h.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(var p=0;p<this.columns.records.length;p++){var q=this.columns.records[p];void 0!=q.__width&&(q._width=q.__width)}}},autoresizecolumn:function(b,c,d){if("cells"!=c&&"all"!=c&&"column"!=c&&(c="all"),void 0==b)return!1;var e=this.getrows();this.pageable&&(e=this.dataview.rows,this.groupable&&(e=this.dataview.records));var f=this.getcolumn(b);if(void 0==f)return!1;d=void 0==d?0:parseInt(d);var g=e.length,h=a("<span></span>");h.addClass(this.toThemeProperty("jqx-widget")),h.addClass(this.toThemeProperty("jqx-grid-cell")),a(document.body).append(h);var i=0,j="",k=0,l=this.that,m=l.host.width();if("hidden"!=l.vScrollBar[0].style.visibility&&(m-=this.scrollbarsize+5),0>m&&(m=0),void 0==c||"cells"==c||"all"==c)for(var n=0;g>n;n++){var o=e[n][f.displayfield];if(""!=f.cellsformat)a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(o)?o=a.jqx.dataFormat.formatdate(o,f.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(o)&&(o=a.jqx.dataFormat.formatnumber(o,f.cellsformat,this.gridlocalization)));else if(f.cellsrenderer){var p=f.cellsrenderer(n,f,o);void 0!=p&&(o=a(p).text())}if(null!=o){var q=o.toString().length,r=o.toString(),s=r.replace(/[^A-Z]/g,"").length;if(q>i&&(i=q,j=o,k=s),q>0&&q>=s){var t=20*s+15*(q-s),u=20*k+15*(i-k);t>u&&t>0&&u>0&&(i=q,j=o,k=s)}}}if("column"==c||"all"==c){f.text.toString().length>i&&(j=f.text);var o=f.text.toString(),q=o.toString().length,r=o.toString(),s=r.replace(/[^A-Z]/g,"").length;if(q>0&&q>=s){var t=20*s+15*(q-s),u=20*k+15*(i-k);t>u&&t>0&&u>0&&(i=q,j=o,k=s)}}void 0==j&&(j=f.text),h[0].innerHTML=j;var v=h.outerWidth()+10;if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(v+=5),this.filterable&&this.showfilterrow&&(v+=5),v+=d,h.remove(),v>f.maxwidth&&(v=f.maxwidth),"auto"==f.maxwidth||v<=f.maxwidth){var w=f.width;v<f.minwidth&&(v=f.minwidth),f.width=v,void 0!=f._width&&(f.__width=f._width),f._width=null,void 0!=f._percentagewidth&&(f._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:f.text,column:f.getcolumnproperties(),datafield:b,displayfield:f.displayfield,oldwidth:w,newwidth:v}),this._renderrows(this.virtualsizeinfo),void 0!=f._width&&(f._width=f.__width)}},_handlecolumnsresize:function(){var b=this.that;if(this.columnsresize){var c=!1;b.isTouchDevice()&&b.touchmode!==!0&&(c=!0);var d="mousemove.resize"+this.element.id,e="mousedown.resize"+this.element.id,f="mouseup.resize"+this.element.id;if(c)var d=a.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,e=a.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(a(document),d),this.addHandler(a(document),d,function(d){var e=a.data(document.body,"contextmenu"+b.element.id);if(null!=e&&b.autoshowcolumnsmenubutton)return!0;if(null!=b.resizablecolumn&&!b.disabled&&b.resizing&&null!=b.resizeline){var f=(b.resizablecolumn.columnelement,b.host.coord()),g=parseInt(b.resizestartline.coord().left),h=g-b._startcolumnwidth,i=b.resizablecolumn.column.minwidth;i="auto"==i?0:parseInt(i);var j=b.resizablecolumn.column.maxwidth;j="auto"==j?0:parseInt(j);var k=d.pageX;if(c){var l=b.getTouches(d),m=l[0];k=m.pageX}h+=i;var n=j>0?g+j:0,o=0==j?!0:b._startcolumnwidth+k-g<j?!0:!1;if(b.rtl)var o=!0;if(o)if(b.rtl){if(k>=f.left&&k<=f.left+b.host.width()&&(b.resizeline.css("left",k),c))return!1}else if(k>=f.left&&k>=h&&(0!=n&&d.pageX<n?b.resizeline.css("left",k):0==n&&b.resizeline.css("left",k),c))return!1}return c||null==b.resizablecolumn?void 0:!1}),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(c){var d=a.data(document.body,"contextmenu"+b.element.id);if(null!=d&&b.autoshowcolumnsmenubutton)return!0;if(null!=b.resizablecolumn&&!b.disabled){var e=b.resizablecolumn.columnelement;if(e.coord().top+e.height()+5<c.pageY)return void(b.resizablecolumn=null);if(e.coord().top-5>c.pageY)return void(b.resizablecolumn=null);b._startcolumnwidth=b.resizablecolumn.column.width,b.resizablecolumn.column._width=null,a(document.body).addClass("jqx-disableselect"),a(document.body).addClass("jqx-position-reset"),b.host.addClass("jqx-disableselect"),b.content.addClass("jqx-disableselect"),b._mouseDownResize=new Date,b.resizing=!0,b._resizecolumn=b.resizablecolumn.column,b.resizeline=b.resizeline||a('<div style="position: absolute;"></div>'),b.resizestartline=b.resizestartline||a('<div style="position: absolute;"></div>'),b.resizebackground=b.resizebackground||a('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),b.resizebackground.css("opacity",.01),b.resizebackground.css("cursor","col-resize"),b.resizeline.css("cursor","col-resize"),b.resizestartline.css("cursor","col-resize"),b.resizeline.addClass(b.toThemeProperty("jqx-grid-column-resizeline")),b.resizestartline.addClass(b.toThemeProperty("jqx-grid-column-resizestartline")),a(document.body).append(b.resizeline),a(document.body).append(b.resizestartline),a(document.body).append(b.resizebackground);var f=b.resizablecolumn.columnelement.coord();
b.resizebackground.css("left",b.host.coord().left),b.resizebackground.css("top",b.host.coord().top),b.resizebackground.width(b.host.width()),b.resizebackground.height(b.host.height()),b.resizebackground.css("z-index",9999);var g=function(a){b.rtl?a.css("left",parseInt(f.left)):a.css("left",parseInt(f.left)+b._startcolumnwidth);var c=b._groupsheader(),d=c?b.groupsheader.height():0,e=b.showtoolbar?b.toolbarheight:0;d+=e;var g=b.showstatusbar?b.statusbarheight:0;d+=g;var h=0;b.pageable&&(h=b.pagerheight);var i="visible"==b.hScrollBar.css("visibility")?17:0;a.css("top",parseInt(f.top)),a.css("z-index",99999),a.height(b.columngroups?b.host.height()+b.resizablecolumn.columnelement.height()-h-d-i-b.columngroupslevel*b.columnsheight:b.host.height()-h-d-i),b.enableanimations?a.show("fast"):a.show()};g(b.resizeline),g(b.resizestartline),b.dragmousedown=null}});var g=function(){if(a(document.body).removeClass("jqx-disableselect"),a(document.body).removeClass("jqx-position-reset"),(b.showfilterrow||b.showstatusbar||b.showtoolbar||b.enablebrowserselection)&&(b.host.removeClass("jqx-disableselect"),b.content.removeClass("jqx-disableselect")),b.resizing){b._mouseUpResize=new Date;var c=b._mouseUpResize-b._mouseDownResize;if(200>c)return b.resizing=!1,void(null!=b._resizecolumn&&null!=b.resizeline&&"block"==b.resizeline.css("display")&&(b._resizecolumn=null,b.resizeline.hide(),b.resizestartline.hide(),b.resizebackground.remove()));if(b.resizing=!1,!b.disabled){var d=b.host.width();if("hidden"!=b.vScrollBar[0].style.visibility&&(d-=20),0>d&&(d=0),null!=b._resizecolumn&&null!=b.resizeline&&"block"==b.resizeline.css("display")){var e=parseInt(b.resizeline.css("left")),f=parseInt(b.resizestartline.css("left")),g=b._startcolumnwidth+e-f;if(b.rtl)var g=b._startcolumnwidth-e+f;var h=b._resizecolumn.width;b._closemenu(),g<b._resizecolumn.minwidth&&(g=b._resizecolumn.minwidth),b._resizecolumn.width=g,void 0!=b._resizecolumn._percentagewidth&&(b._resizecolumn._percentagewidth=g/d*100);for(var i=0;i<b._columns.length;i++)if(b._columns[i].datafield===b._resizecolumn.datafield){b._columns[i].width=b._resizecolumn.width,b._columns[i].width<b._resizecolumn.minwidth&&(b._columns[i].width=b._resizecolumn.minwidth);break}var j=b.hScrollBar[0].style.visibility;b._updatecolumnwidths(),b._updatecellwidths(),b._raiseEvent(14,{columntext:b._resizecolumn.text,column:b._resizecolumn.getcolumnproperties(),datafield:b._resizecolumn.datafield,oldwidth:h,newwidth:g}),b._renderrows(b.virtualsizeinfo),b.autosavestate&&b.savestate&&b.savestate(),j!=b.hScrollBar[0].style.visibility&&b.hScrollInstance.setPosition(0),b.rtl&&b._arrange(),b._resizecolumn=null,b.resizeline.hide(),b.resizestartline.hide(),b.resizebackground.remove(),b.resizablecolumn=null}else b.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var h=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(h=document.referrer),h&&-1!=h.indexOf(document.location.host)){var i=function(){g()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i)}}}catch(j){}this.removeHandler(a(document),f),this.addHandler(a(document),f,function(){var c=a.data(document.body,"contextmenu"+b.element.id);return null!=c&&b.autoshowcolumnsmenubutton?!0:void g()})}}})}(jQuery),function(a){a.extend(a.jqx._jqxGrid.prototype,{getcolumnindex:function(a){var b=this.getcolumn(a),c=this.columns.records.indexOf(b);return c},setcolumnindex:function(b,c,d){var e=this.getcolumn(b);if(!(e.pinned||e.hidden||e.checkboxcolumn||e.grouped)){var f=this.columns.records.indexOf(e);this.columns.records.splice(f,1),this.columns.records.splice(c,0,e);var g=0,h=this.headerZIndex;this.columnsrow.children().detach();var i=this.toThemeProperty("jqx-grid-cell");i+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(a(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]);var j=this,k=null;if(void 0!=j.filterrow)var k=a(j.filterrow.children()[0]);this.columnsrow[0].cells=[];var l=!1;if(a.each(this.columns.records,function(){var b=this.uielement;j.columnsrow.append(b),j.rtl?b.css("z-index",h++):b.css("z-index",h--);var c=this.width;if(b.css("left",g),j.columnsrow[0].cells[j.columnsrow[0].cells.length]=b[0],j.filterrow){var d=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+i+'"></div>');k.append(d),d.css("left",g),d.css("z-index",h+1),d.width(this.width),d[0].left=g,d.append(this._filterwidget),j.filterrow[0].cells[j.filterrow[0].cells.length]=d[0]}this.hidden&&(l=!0),this.hidden&&this.hideable||(g+=c)}),this.groupable){var m=this.groups.length;m>0&&f-m>=0&&(f-=m,c-=m)}this.rowdetails&&f-1>=0&&(f--,c--),"checkbox"==this.selectionmode&&f-1>=0&&(f--,c--);var e=this._columns[f];this._columns.splice(f,1),this._columns.splice(c,0,e),this._raiseEvent(24,{columntext:e.text,datafield:e.datafield,oldindex:f,newindex:c}),0!=d&&(l||"checkbox"==e.columntype?(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths()):(this._updatecolumnwidths(),this._updatecellwidths()),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo))}},_pinnedColumnsLength:function(){var b=0;return a.each(this.columns.records,function(){this.pinned&&b++,this.grouped&&b++}),"checkbox"==this.selectionmode&&b++,b},_handlecolumnsreorder:function(){var b=this,c=-1,d=!1;if(b.columnsreorder){var e="mousemove.reorder"+this.element.id,f="mousedown.reorder"+this.element.id,g="mouseup.reorder"+this.element.id,h=!1;this.isTouchDevice()&&this.touchmode!==!0&&(h=!0,e=a.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,g=a.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(a){if(b.resizing)return!0;if(null!=b.reordercolumn){var e=parseInt(a.pageX),f=parseInt(a.pageY);if(h){var g=b.getTouches(a),i=g[0];void 0!=i&&(e=parseInt(i.pageX),f=parseInt(i.pageY))}var j=b.host.coord(),k=parseInt(j.left),l=parseInt(j.top);(void 0==b.dragmousedownoffset||null==b.dragmousedownoffset)&&(b.dragmousedownoffset={left:0,top:0});var m=parseInt(e)-parseInt(b.dragmousedownoffset.left),n=parseInt(f)-parseInt(b.dragmousedownoffset.top);if(b.reordercolumn.css({left:m+"px",top:n+"px"}),d=!1,e>=k&&e<=k+b.host.width()&&f>=l&&f<=l+b.host.height()&&(d=!0),c=-1,d){b.reordercolumnicon.removeClass(b.toThemeProperty("jqx-grid-dragcancel-icon")),b.reordercolumnicon.addClass(b.toThemeProperty("jqx-grid-drag-icon"));var o=b.columnsheader.coord(),p=o.top+b.columnsheader.height();null!=b.columnsdropline&&(f>=o.top&&p>=f?c=b._handlereordercolumnsdroplines(e):b.columnsdropline.fadeOut("slow"))}else null!=b.columnsdropline&&b.columnsdropline.fadeOut("slow"),b.reordercolumnicon.removeClass(b.toThemeProperty("jqx-grid-drag-icon")),b.reordercolumnicon.addClass(b.toThemeProperty("jqx-grid-dragcancel-icon"));if(h)return a.preventDefault(),a.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(a(document),f),this.addHandler(a(document),f,function(){if(b.resizing)return!0;b.columnsbounds=new Array;var c=b.host.coord().left,d=b.host.coord().top;b.showtoolbar&&(d+=b.toolbarheight),b.groupable&&b.showgroupsheader&&(d+=b.groupsheaderheight);var e=0;a.each(b.columns.records,function(){var f=this;if(f.hidden)return b.columnsbounds[b.columnsbounds.length]={top:d,column:f,left:c,width:0,height:2+b.rowsheight},!0;0==e&&(c=b.rtl?"hidden"!=b.hScrollBar.css("visibility")?parseInt(b.host.coord().left)-b.hScrollInstance.max+b.hScrollInstance.value:parseInt(b.host.coord().left)+b.hScrollInstance.value:parseInt(b.host.coord().left)-b.hScrollInstance.value),e++;var g=2+b.columnsheight;b.columnshierarchy&&(d=a(f.uielement).coord().top,g=a(f.uielement).height()),b.columnsbounds[b.columnsbounds.length]={top:d,column:f,left:c,width:f.width,height:g},c+=f.width})}),this.removeHandler(a(document),g),this.addHandler(a(document),g,function(e){if(b.resizing)return!0;b.__drag=!1,a(document.body).removeClass("jqx-disableselect");var f=parseInt(e.pageX),g=parseInt(e.pageY);if(h){var i=b.getTouches(e),j=i[0];f=parseInt(j.pageX),g=parseInt(j.pageY)}{var k=b.host.coord(),l=(parseInt(k.left),parseInt(k.top));b.groupsheader.height()}if(b.showtoolbar&&(l+=b.toolbarheight),b.columndragstarted=!1,b.dragmousedown=null,null!=b.reordercolumn){var m=a.data(b.reordercolumn[0],"reorderrecord"),n=b.columns.records.indexOf(b.getcolumn(m));b.reordercolumn.remove(),b.reordercolumn=null;var o=0;if(o+=b._pinnedColumnsLength(),null!=m){if(d&&-1!=c){var p=c.index;if(p>=o){var q=b.columns.records[p];if(void 0!=q){var r=b.columns.records.indexOf(b.getcolumn(q.datafield));if(null==q.datafield)var r=b.columns.records.indexOf(b.getcolumnbytext(q.text));if(b.columngroups){var s=q;if(r>n&&"before"==c.position&&(s=b.columns.records[r-1]),s.columngroup!=b.getcolumn(m).columngroup)return void(null!=b.columnsdropline&&(b.columnsdropline.remove(),b.columnsdropline=null))}r>n?"before"==c.position?b.setcolumnindex(m,r-1):b.setcolumnindex(m,r):n>r&&b.setcolumnindex(m,r),b.autosavestate&&b.savestate&&b.savestate()}}}null!=b.columnsdropline&&(b.columnsdropline.remove(),b.columnsdropline=null)}}})}},getcolumnbytext:function(b){var c=null;return this.columns.records&&a.each(this.columns.records,function(){return this.text==b?(c=this,!1):void 0}),c},_handlereordercolumnsdroplines:function(b){var c=this,d=-1,e=c._pinnedColumnsLength(),f=parseInt(c.host.coord().left),g=f+c.host.width(),h="hidden"!=c.vScrollBar.css("visibility")?19:0;return c.rtl||(h=0),a.each(c.columnsbounds,function(a){if(a>=e){if(0==this.width)return!0;if(b<=this.left+this.width/2)return b>g?(c.columnsdropline.fadeOut(),!1):(c.columnsdropline.css("left",h+parseInt(this.left)+"px"),c.columnsdropline.css("top",parseInt(this.top)+"px"),c.columnsdropline.height(this.height),c.columnsdropline.fadeIn("slow"),d={index:a,position:"before"},!1);if(b>=this.left+this.width/2){if(this.left+this.width>g)return c.columnsdropline.fadeOut(),!1;c.columnsdropline.css("left",h+1+this.left+this.width),c.columnsdropline.css("top",this.top),c.columnsdropline.height(this.height),c.columnsdropline.fadeIn("slow"),d={index:a,position:"after"}}}}),d},_createreordercolumn:function(b,c,d){var e=this,f=c;e.reordercolumn&&e.reordercolumn.remove(),e.columnsdropline&&e.columnsdropline.remove(),e.reordercolumn=a("<div></div>");var g=b.clone();e.reordercolumn.css("z-index",999999),g.css("border-width","1px"),g.css("opacity","0.4");var h=a(g.find("."+e.toThemeProperty("jqx-grid-column-menubutton")));h.length>0&&h.css("display","none");var i=a(g.find(".jqx-icon-close"));i.length>0&&i.css("display","none"),e.reordercolumnicon=a('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),e.reordercolumnicon.addClass(e.toThemeProperty("jqx-grid-drag-icon")),e.reordercolumn.css("float","left"),e.reordercolumn.css("position","absolute");e.host.coord();g.width(b.width()+16),e.reordercolumn.append(g),e.reordercolumn.height(b.height()),e.reordercolumn.width(g.width()),e.reordercolumn.append(e.reordercolumnicon),a(document.body).append(e.reordercolumn),g.css("margin-left",0),g.css("left",0),g.css("top",0),e.reordercolumn.css("left",f.left+e.dragmousedown.left),e.reordercolumn.css("top",f.top+e.dragmousedown.top),void 0!=d&&d&&(e.columnsdropline=a('<div style="z-index: 9999; display: none; position: absolute;"></div>'),e.columnsdropline.width(2),e.columnsdropline.addClass(e.toThemeProperty("jqx-grid-group-drag-line")),a(document.body).append(e.columnsdropline))},_handlecolumnsdragreorder:function(b,c){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var d,e=this,f=!1;this.isTouchDevice()&&this.touchmode!==!0&&(f=!0);var g="mousedown.drag",d="mousemove.drag";f?(g=a.jqx.mobile.getTouchEventName("touchstart")+".drag",d=a.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(c,"dragstart",function(){return!1}),this.addHandler(c,g,function(c){if(0==b.draggable)return!0;if(e.resizing)return!0;e.__drag=!0;var d=c.pageX,g=c.pageY;if(f){var h=e.getTouches(c),i=h[0];d=i.pageX,g=i.pageY}e.dragmousedown={left:d,top:g};var j=a(c.target).coord();return e.dragmousedownoffset={left:parseInt(d)-parseInt(j.left),top:parseInt(g-j.top)},!0}),this.addHandler(c,d,function(g){if(!b.draggable)return!0;if(void 0==b.datafield)return!0;if(b.pinned)return!0;if(e.resizing)return!0;if(e.dragmousedown){var h=g.pageX,i=g.pageY;if(f){var j=e.getTouches(g),k=j[0];void 0!=k&&(h=k.pageX,i=k.pageY)}if(d={left:h,top:i},!e.columndragstarted&&null==e.reordercolumn){var l=Math.abs(d.left-e.dragmousedown.left),m=Math.abs(d.top-e.dragmousedown.top);(l>3||m>3)&&(e._createreordercolumn(c,d,!0),a(document.body).addClass("jqx-disableselect"),a.data(e.reordercolumn[0],"reorderrecord",b.datafield))}}})}})}(jQuery),function(a){a.jqx.jqxWidget("jqxDropDownList","",{}),a.extend(a.jqx._jqxDropDownList.prototype,{defineInstance:function(){this.disabled=!1,this.width=null,this.height=null,this.items=new Array,this.selectedIndex=-1,this.source=null,this.scrollBarSize=15,this.arrowSize=19,this.enableHover=!0,this.enableSelection=!0,this.visualItems=new Array,this.groups=new Array,this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=new Array,this.emptyGroupText="Group",this.checkboxes=!1,void 0==this.openDelay&&(this.openDelay=250),void 0==this.closeDelay&&(this.closeDelay=300),this.animationType="default",this.autoOpen=!1,this.dropDownWidth="auto",this.dropDownHeight="200px",this.autoDropDownHeight=!1,this.keyboardSelection=!0,this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.displayMember="",this.valueMember="",this.searchMode="startswithignorecase",this.incrementalSearch=!0,this.incrementalSearchDelay=700,this.renderer=null,this.placeHolder="Please Choose:",this.promptText="Please Choose:",this.emptyString="",this.rtl=!1,this.selectionRenderer=null,this.listBox=null,this.popupZIndex=9999999999999,this.renderMode="default",this.touchMode="auto",this._checkForHiddenParent=!0,this.autoBind=!0,this.focusable=!0,this.aria={"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["open","close","select","unselect","change","checkChange","bindingComplete"]},createInstance:function(){this.render()},render:function(){this.width||(this.width=200),this.height||(this.height=25),this.element.innerHTML="",this.isanimating=!1,this.id=this.element.id||a.jqx.utilities.createId(),this.host.attr("role","combobox"),a.jqx.aria(this,"aria-autocomplete","both"),a.jqx.aria(this,"aria-readonly",!1);var b=a("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");if(this._addInput(),null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");this.host.attr("tabindex")?(b.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")):b.attr("tabindex",0);var c=this;this.touch=a.jqx.mobile.isTouchDevice(),this.comboStructure=b,this.host.append(b),this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper"),this.dropdownlistArrow=this.host.find("#dropdownlistArrow"),this.arrow=a(this.dropdownlistArrow.children()[0]),this.dropdownlistContent=this.host.find("#dropdownlistContent"),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content")),this.dropdownlistWrapper.addClass(this.toThemeProperty("jqx-disableselect")),this.rtl&&(this.dropdownlistContent.addClass(this.toThemeProperty("jqx-rtl")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-rtl"))),this.addHandler(this.dropdownlistWrapper,"selectstart",function(){return!1}),this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id,this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id,this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id,"Please Choose:"!=this.promptText&&(this.placeHolder=this.promptText);var d=this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-dropdownlist-state-normal")+" "+this.toThemeProperty("jqx-rc-all")+" "+this.toThemeProperty("jqx-fill-state-normal");this.element.className+=" "+d,this._firstDiv=this.host.find("div:first");try{var e="listBox"+this.id,f=a(a.find("#"+e));f.length>0&&f.remove(),a.jqx.aria(this,"aria-owns",e),a.jqx.aria(this,"aria-haspopup",!0);var g=a("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+this.id+"'><div id='innerListBox"+this.id+"'></div></div>");g.hide(),g.appendTo(document.body),this.container=g,this.listBoxContainer=a(a.find("#innerListBox"+this.id));var h=this.width;"auto"!=this.dropDownWidth&&(h=this.dropDownWidth),null==h&&(h=this.host.width(),0==h&&(h=this.dropDownWidth)),null==this.dropDownHeight&&(this.dropDownHeight=200);var c=this;this.container.width(parseInt(h)+25),this.container.height(parseInt(this.dropDownHeight)+25),this.addHandler(this.listBoxContainer,"bindingComplete",function(){c._raiseEvent("6")}),this.listBoxContainer.jqxListBox({autoBind:this.autoBind,_checkForHiddenParent:!1,focusable:this.focusable,touchMode:this.touchMode,checkboxes:this.checkboxes,rtl:this.rtl,emptyString:this.emptyString,itemHeight:this.itemHeight,width:h,searchMode:this.searchMode,incrementalSearch:this.incrementalSearch,incrementalSearchDelay:this.incrementalSearchDelay,displayMember:this.displayMember,valueMember:this.valueMember,height:this.dropDownHeight,autoHeight:this.autoDropDownHeight,scrollBarSize:this.scrollBarSize,selectedIndex:this.selectedIndex,source:this.source,theme:this.theme,rendered:function(){c.selectedIndex!=c.listBoxContainer.jqxListBox("selectedIndex")?(c.listBox=a.data(c.listBoxContainer[0],"jqxListBox").instance,c.listBoxContainer.jqxListBox({selectedIndex:c.selectedIndex}),c.renderSelection("mouse")):c.renderSelection("mouse")},renderer:this.renderer}),this.listBoxContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0}),this.listBox=a.data(this.listBoxContainer[0],"jqxListBox").instance,this.listBox.enableSelection=this.enableSelection,this.listBox.enableHover=this.enableHover,this.listBox.equalItemsWidth=this.equalItemsWidth,this.listBox.selectIndex(this.selectedIndex),this.listBox._arrange(),this.listBoxContainer.addClass(this.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&this.listBoxContainer.addClass(this.toThemeProperty("jqx-noshadow")),this.addHandler(this.listBoxContainer,"unselect",function(a){c._raiseEvent("3",{index:a.args.index,type:a.args.type,item:a.args.item})}),this.addHandler(this.listBoxContainer,"change",function(a){"keyboard"!=a.args.type?c._raiseEvent("4",{index:a.args.index,type:a.args.type,item:a.args.item}):"keyboard"==a.args.type&&(c.isOpened()||c._raiseEvent("4",{index:c.selectedIndex,type:"keyboard",item:c.getItem(c.selectedIndex)}))}),"none"==this.animationType?this.container.css("display","none"):this.container.hide()}catch(i){}var j=this;if(this.propertyChangeMap.disabled=function(b,c,d,e){e?(b.host.addClass(j.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.addClass(j.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.addClass(j.toThemeProperty("jqx-dropdownlist-content-disabled"))):(b.host.removeClass(j.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.removeClass(j.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.removeClass(j.toThemeProperty("jqx-dropdownlist-content-disabled"))),a.jqx.aria(b,"aria-disabled",b.disabled)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled"))),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this.arrow.addClass(this.toThemeProperty("jqx-icon")),"simple"===this.renderMode&&(this.arrow.remove(),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-rc-all"))),this._updateHandlers(),this._setSize(),this._arrange(),this.listBox&&this.renderSelection(),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.parents(".jqx-window").length>0){var k=this.host.parents(".jqx-window").css("z-index");g.css("z-index",k+10),this.listBoxContainer.css("z-index",k+10)}},resize:function(a,b){this.width=a,this.height=b,this._setSize(),this._arrange()},val:function(a){if(!this.dropdownlistContent)return"";if(this.input&&0==arguments.length)return this.input.val();var b=this.getItemByValue(a);return null!=b&&this.selectItem(b),this.input?this.input.val():void 0},focus:function(){try{var a=this,b=function(){a.host.focus(),a._firstDiv&&a._firstDiv.focus()};b(),setTimeout(function(){b()},10)}catch(c){}},_addInput:function(){var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(b=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0,this.host.height(this.height));var c=this,d=function(){if(c._arrange(),"auto"==c.dropDownWidth){var a=c.host.width();c.listBoxContainer.jqxListBox({width:a}),c.container.width(parseInt(a)+25)}};if(b){var e=this.host.width();"auto"!=this.dropDownWidth&&(e=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:e}),this.container.width(parseInt(e)+25)}a.jqx.utilities.resize(this.host,function(){d()},!1,this._checkForHiddenParent)},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXListBox"+this.id);return null!=c&&c==b.listBoxContainer?!0:!1},_updateHandlers:function(){var b=this,c=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!b.disabled&&b.enableHover&&"simple"!==b.renderMode&&(c=!0,b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-hover")),b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),b.host.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!b.disabled&&b.enableHover&&"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-hover")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b.arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),c=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(){var a=b.isOpened();a&&b.close()});var d="mousedown";this.touch&&(d=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,d,function(a){if(!b.disabled){var c="block"==b.container.css("display");if(!b.isanimating){if(c)return b.hideListBox(),!1;b.showListBox(),b.focusable?b.focus():a.preventDefault&&a.preventDefault()}}}),b.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var a=b.isOpened();!a&&b.autoOpen&&(b.open(),b.host.focus())}),a(document).on("mousemove."+b.id,function(a){var c=b.isOpened();if(c&&b.autoOpen){var d=b.host.coord(),e=d.top,f=d.left,g=b.container.coord(),h=g.left,i=g.top;canClose=!0,a.pageY>=e&&a.pageY<=e+b.host.height()&&a.pageX>=f&&a.pageX<f+b.host.width()&&(canClose=!1),a.pageY>=i&&a.pageY<=i+b.container.height()&&a.pageX>=h&&a.pageX<h+b.container.width()&&(canClose=!1),canClose&&b.close()}})),this.touch?this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(a(document),"mousedown."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(a){var c="block"==b.container.css("display");if("none"==b.host.css("display"))return!0;if(("13"==a.keyCode||"9"==a.keyCode)&&!b.isanimating)return c&&(b.renderSelection(),"13"==a.keyCode&&b.focusable&&b._firstDiv.focus(),b.hideListBox(),b.keyboardSelection||b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),"13"==a.keyCode&&b._raiseEvent("4",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)})),c&&"9"!=a.keyCode?!1:!0;if(115==a.keyCode)return b.isanimating||(b.isOpened()?b.isOpened()&&b.hideListBox():b.showListBox()),!1;if(a.altKey&&"block"==b.host.css("display"))if(38==a.keyCode){if(b.isOpened())return b.hideListBox(),!0}else if(40==a.keyCode&&!b.isOpened())return b.showListBox(),!0;return"27"!=a.keyCode||b.ishiding?b.disabled?void 0:b.listBox._handleKeyDown(a):(b.isOpened()&&(b.hideListBox(),void 0!=b.tempSelectedIndex&&b.selectIndex(b.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(a){b.renderSelection(),b._updateInputSelection(),b._raiseEvent(5,{label:a.args.label,value:a.args.value,checked:a.args.checked,item:a.args.item})}),this.addHandler(this.listBoxContainer,"select",function(a){b.disabled||("keyboard"!=a.args.type||b.isOpened()||b.renderSelection(),("keyboard"!=a.args.type||b.keyboardSelection)&&(b.renderSelection(),b._raiseEvent("2",{index:a.args.index,type:a.args.type,item:a.args.item,originalEvent:a.args.originalEvent}),"mouse"==a.args.type&&(b.checkboxes||(b.hideListBox(),b._firstDiv&&b.focusable&&b._firstDiv.focus()))))}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(a){if(!b.disabled){if(b.listBox.itemswrapper&&a.target===b.listBox.itemswrapper[0])return!0;b.renderSelection("mouse"),b.touch||b.ishiding||b.checkboxes||(b.hideListBox(),b._firstDiv&&b.focusable&&b._firstDiv.focus()),b.keyboardSelection||(void 0==b._oldSelectedInd&&(b._oldSelectedIndx=b.selectedIndex),b.selectedIndex!=b._oldSelectedIndx&&(b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),b._oldSelectedIndx=b.selectedIndex))}}),this.addHandler(this.host,"focus",function(){"simple"!==b.renderMode&&(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(){"simple"!==b.renderMode&&(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var b=this,c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,c),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(a(document),"mousemove."+b.id)},getItem:function(a){var b=this.listBox.getItem(a);return b},getItemByValue:function(a){var b=this.listBox.getItemByValue(a);return b},selectItem:function(a){void 0!=this.listBox&&(this.listBox.selectItem(a),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(a){void 0!=this.listBox&&(this.listBox.unselectItem(a),this.renderSelection("mouse"))},checkItem:function(a){void 0!=this.listBox&&this.listBox.checkItem(a)},uncheckItem:function(a){void 0!=this.listBox&&this.listBox.uncheckItem(a)},indeteterminateItem:function(a){void 0!=this.listBox&&this.listBox.indeteterminateItem(a)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var b=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.checkboxes){var c=this.getCheckedItems();b=null!=c&&c.length>0?c[0]:null}if(null==b){var d=a('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');d.appendTo(a(document.body)),d.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-listitem-state-normal")),d.addClass(this.toThemeProperty("jqx-item")),a.jqx.utilities.html(d,this.placeHolder);var e=this.dropdownlistContent.css("padding-top"),f=this.dropdownlistContent.css("padding-bottom");d.css("padding-top",e),d.css("padding-bottom",f);var g=d.outerHeight();d.remove(),d.removeClass(),a.jqx.utilities.html(this.dropdownlistContent,d);var h=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));var i=parseInt((parseInt(h)-parseInt(g))/2);return i>0&&(this.dropdownlistContent.css("margin-top",i+"px"),this.dropdownlistContent.css("margin-bottom",i+"px")),this.selectionRenderer&&(a.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(d,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var d=a('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');d.appendTo(a(document.body)),d.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-listitem-state-normal")),d.addClass(this.toThemeProperty("jqx-item"));var j=!1;try{void 0!=b.html&&null!=b.html&&b.html.toString().length>0?a.jqx.utilities.html(d,b.html):void 0!=b.label&&null!=b.label&&b.label.toString().length>0?a.jqx.utilities.html(d,b.label):null===b.label||""===b.label?(j=!0,a.jqx.utilities.html(d,"")):void 0!=b.value&&null!=b.value&&b.value.toString().length>0?a.jqx.utilities.html(d,b.value):void 0!=b.title&&null!=b.title&&b.title.toString().length>0?a.jqx.utilities.html(d,b.title):(""==b.label||null==b.label)&&(j=!0,a.jqx.utilities.html(d,""))}catch(k){}var e=this.dropdownlistContent.css("padding-top"),f=this.dropdownlistContent.css("padding-bottom");d.css("padding-top",e),d.css("padding-bottom",f);var g=d.outerHeight();0===g&&(g=16),""!=b.label&&null!=b.label||!j||a.jqx.utilities.html(d,"");var l=this.width&&this.width.toString().indexOf("%")<=0;if(d.remove(),d.removeClass(),this.selectionRenderer)a.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(d,b.index,b.label,b.value)),this.focusable&&this.isOpened()&&this.focus();
else if(this.checkboxes){for(var m=this.getCheckedItems(),n="",o=0;o<m.length;o++)n+=o==m.length-1?m[o].label:m[o].label+",";d.text(n),l&&d.css("max-width",this.host.width()-30),d.css("overflow","hidden"),d.css("display","block"),this.rtl||l&&d.css("width",this.host.width()-30),d.css("text-overflow","ellipsis"),d.css("padding-bottom",1+parseInt(f)),this.dropdownlistContent.html(d),this.focusable&&this.isOpened()&&this.focus()}else this.width&&"auto"!==this.width&&(l&&(this.rtl||d.css("max-width",this.host.width()-this.arrowSize-3)),d.css("overflow","hidden"),d.css("display","block"),d.css("padding-bottom",1+parseInt(f)),this.rtl||l&&d.css("width",this.host.width()-this.arrowSize-3),d.css("text-overflow","ellipsis")),this.dropdownlistContent.html(d),this.focusable&&this.isOpened()&&this.focus();var h=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));var i=parseInt((parseInt(h)-parseInt(g))/2);i>0&&(this.dropdownlistContent.css("margin-top",i+"px"),this.dropdownlistContent.css("margin-bottom",i+"px")),this.selectionRenderer&&(this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px")),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&a.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){if(-1==this.selectedIndex)this.input.val("");else{var a=this.getSelectedItem();this.input.val(null!=a?a.value:this.dropdownlistContent.text())}if(this.checkboxes){var b=this.getCheckedItems(),c="";if(null!=b)for(var d=0;d<b.length;d++){var e=b[d].value;void 0!=e&&(c+=d==b.length-1?e:e+",")}this.input.val(c)}}},setContent:function(b){a.jqx.utilities.html(this.dropdownlistContent,b),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||a.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(a,b){isNaN(a)||(this.listBox.unselectIndex(a,b),this.renderSelection())},selectIndex:function(a,b,c,d){this.listBox.selectIndex(a,b,c,d,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(a){return this.listBox.addItem(a)},insertAt:function(a,b){return null==a?!1:this.listBox.insertAt(a,b)},removeAt:function(a){var b=this.listBox.removeAt(a);return this.renderSelection("mouse"),b},removeItem:function(a){var b=this.listBox.removeItem(a);return this.renderSelection("mouse"),b},updateItem:function(a,b){var c=this.listBox.updateItem(a,b);return this.renderSelection("mouse"),c},updateAt:function(a,b){var c=this.listBox.updateAt(a,b);return this.renderSelection("mouse"),c},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){return this.listBox.disableAt(a)},enableAt:function(a){return this.listBox.enableAt(a)},disableItem:function(a){return this.listBox.disableItem(a)},enableItem:function(a){return this.listBox.enableItem(a)},_findPos:function(b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).coord(!0);return[c.left,c.top]},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.coord().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.coord().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+22):0),c},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showListBox:function(){if(a.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var b=this.host.width();this.listBoxContainer.jqxListBox({width:b}),this.container.width(parseInt(b)+25)}var c,d=this,e=this.listBoxContainer,f=this.listBox,g=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));c=h+"px";var i=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();if(null!=this.listBox){var j=a.jqx.utilities.hasTransform(this.host);this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(j||null!=i&&i)&&(c=a.jqx.mobile.getLeftPos(this.element),g=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(g=parseInt(g)-this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(c=parseInt(c)-this._getBodyOffset().left+"px")),e.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",c),this.container.css("top",g),f._arrange();var k=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var l=this.container.outerWidth(),m=Math.abs(l-this.host.width());l>this.host.width()?this.container.css("left",25+parseInt(Math.round(h))-m+"px"):this.container.css("left",25+parseInt(Math.round(h))+m+"px")}if(this.enableBrowserBoundsDetection){var n=this.testOffset(e,{left:parseInt(this.container.css("left")),top:parseInt(g)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=n.top?(k=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"))):e.css("top",0),this.container.css("top",n.top),parseInt(this.container.css("left"))!=n.left&&this.container.css("left",n.left)}if("none"==this.animationType)this.container.css("display","block"),a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+this.id,e),e.css("margin-top",0),e.css("opacity",1),f._renderItems(),d._raiseEvent("0",f);else if(this.container.css("display","block"),d.isanimating=!0,"fade"==this.animationType)e.css("margin-top",0),e.css("opacity",0),e.animate({opacity:1},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+d.id,e),d.ishiding=!1,d.isanimating=!1,f._renderItems(),d._raiseEvent("0",f)});else{e.css("opacity",1);var o=e.outerHeight();k?e.css("margin-top",o):e.css("margin-top",-o),e.animate({"margin-top":0},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+d.id,e),d.ishiding=!1,d.isanimating=!1,f._renderItems(),d._raiseEvent("0",f)})}k?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),e.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),e.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(e.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){a.jqx.aria(this,"aria-expanded",!1);var b=this.listBoxContainer,c=this.listBox,d=this.container,e=this;if(a.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!e.ishiding){b.stop();var f=b.outerHeight();b.css("margin-top",0),e.isanimating=!0;var g=-f;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=f),"fade"==this.animationType?(b.css({opacity:1}),b.animate({opacity:0},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1,e.ishiding=!1})):b.animate({"margin-top":g},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1,e.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),b.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),b.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),b.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",c)},closeOpenedListBox:function(b){var c=b.data.me,d=a(b.target),e=b.data.listbox;if(null==e)return!0;if(a(b.target).ischildof(b.data.me.host))return!0;if(!c.isOpened())return!0;var f=!1;return a.each(d.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return f=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return c.element.id==this.id&&(f=!0),!1}}),null!=e&&!f&&c.isOpened()&&c.hideListBox(),!0},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(a){a!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var a=parseInt(this.host.width()),b=parseInt(this.host.height()),c=(this.arrowSize,this.arrowSize),d=3,e=a-c-2*d;e>0&&"auto"!==this.width&&this.dropdownlistContent.width(e+"px"),"auto"===this.width&&(this.dropdownlistContent.css("width","auto"),a=this.dropdownlistContent.width()+c+2*d,this.host.width(a)),this.dropdownlistContent.height(b),this.dropdownlistContent.css("left",0),this.dropdownlistContent.css("top",0),this.dropdownlistArrow.width(c),this.dropdownlistArrow.height(b),this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(a(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var b=a.data(this.element,"jqxDropDownList");b&&delete b.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a];args=b,args.owner=this;var d=new jQuery.Event(c);d.owner=this,(2==a||3==a||4==a||5==a)&&(d.args=b);var e=this.host.trigger(d);return e},propertyChangedHandler:function(b,c,d,e){if(void 0!=b.isInitialized&&0!=b.isInitialized){if("enableSelection"==c&&b.listBoxContainer.jqxListBox({enableSelection:e}),"enableHover"==c&&b.listBoxContainer.jqxListBox({enableHover:e}),"autoOpen"==c&&b._updateHandlers(),"emptyString"==c&&(b.listBox.emptyString=b.emptyString),"itemHeight"==c&&b.listBoxContainer.jqxListBox({itemHeight:e}),"renderer"==c&&b.listBoxContainer.jqxListBox({renderer:e}),"rtl"==c&&(e?(b.dropdownlistArrow.css("float","left"),b.dropdownlistContent.css("float","right")):(b.dropdownlistArrow.css("float","right"),b.dropdownlistContent.css("float","left")),b.listBoxContainer.jqxListBox({rtl:b.rtl})),"source"==c&&(b.listBoxContainer.jqxListBox({source:b.source}),b.listBox.selectedIndex=-1,b.listBox.selectIndex(this.selectedIndex),b.renderSelection(),null==e&&b.clear()),("displayMember"==c||"valueMember"==c)&&(b.listBoxContainer.jqxListBox({displayMember:b.displayMember,valueMember:b.valueMember}),b.renderSelection()),"placeHolder"==c&&b.renderSelection(),"theme"==c&&null!=e&&(b.listBoxContainer.jqxListBox({theme:e}),b.listBoxContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-noshadow")),b.dropdownlistContent.removeClass(),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content")),b.dropdownlistWrapper.removeClass(),b.dropdownlistWrapper.addClass(b.toThemeProperty("jqx-disableselect")),b.host.removeClass(),b.host.addClass(b.toThemeProperty("jqx-fill-state-normal")),b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-normal")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.arrow.removeClass(),b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.arrow.addClass(b.toThemeProperty("jqx-icon"))),"autoDropDownHeight"==c&&(b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight}),b.autoDropDownHeight?b.container.height(b.listBoxContainer.height()+25):(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25)),b.listBox._arrange(),b.listBox._updatescrollbars()),"searchMode"==c&&b.listBoxContainer.jqxListBox({searchMode:b.searchMode}),"incrementalSearch"==c&&b.listBoxContainer.jqxListBox({incrementalSearch:b.incrementalSearch}),"incrementalSearchDelay"==c&&b.listBoxContainer.jqxListBox({incrementalSearchDelay:b.incrementalSearchDelay}),"dropDownHeight"==c&&(b.autoDropDownHeight||(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25))),"dropDownWidth"==c||"scrollBarSize"==c){var f=b.width;"auto"!=b.dropDownWidth&&(f=b.dropDownWidth),b.listBoxContainer.jqxListBox({width:f,scrollBarSize:b.scrollBarSize}),b.container.width(parseInt(f)+25)}if(("width"==c||"height"==c)&&e!=d&&(this.refresh(),"width"==c&&"auto"==b.dropDownWidth)){var f=b.host.width();b.listBoxContainer.jqxListBox({width:f}),b.container.width(parseInt(f)+25)}"checkboxes"==c&&b.listBoxContainer.jqxListBox({checkboxes:b.checkboxes}),"selectedIndex"==c&&null!=b.listBox&&(b.listBox.selectIndex(parseInt(e)),b.renderSelection())}}})}(jQuery),function(a){a.jqx.jqxWidget("jqxListBox","",{}),a.extend(a.jqx._jqxListBox.prototype,{defineInstance:function(){this.disabled=!1,this.width=null,this.height=null,this.items=new Array,this.multiple=!1,this.selectedIndex=-1,this.selectedIndexes=new Array,this.source=null,this.scrollBarSize=a.jqx.utilities.scrollBarSize,this.enableHover=!0,this.enableSelection=!0,this.visualItems=new Array,this.groups=new Array,this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=new Array,this.emptyGroupText="Group",this.checkboxes=!1,this.hasThreeStates=!1,this.autoHeight=!1,this.autoItemsHeight=!1,this.roundedcorners=!0,this.touchMode="auto",this.displayMember="",this.valueMember="",this.searchMode="startswithignorecase",this.incrementalSearch=!0,this.incrementalSearchDelay=1e3,this.incrementalSearchKeyDownDelay=300,this.allowDrag=!1,this.allowDrop=!0,this.dropAction="default",this.touchModeStyle="auto",this.keyboardNavigation=!0,this.enableMouseWheel=!0,this.multipleextended=!1,this.emptyString="",this.rtl=!1,this.rendered=null,this.renderer=null,this.dragStart=null,this.dragEnd=null,this.focusable=!0,this.ready=null,this._checkForHiddenParent=!0,this.autoBind=!0,this.aria={"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]},createInstance:function(){15!=a.jqx.utilities.scrollBarSize&&(this.scrollBarSize=a.jqx.utilities.scrollBarSize),null==this.width&&(this.width=200),null==this.height&&(this.height=200),this.render();var b=this;a.jqx.utilities.resize(this.host,function(){b._updateSize()},!1,this._checkForHiddenParent)},resize:function(a,b){this.width=a,this.height=b,this._updateSize()},render:function(){this.element.innerHTML="";var b=this.element.className;b+=" "+this.toThemeProperty("jqx-listbox"),b+=" "+this.toThemeProperty("jqx-reset"),b+=" "+this.toThemeProperty("jqx-rc-all"),b+=" "+this.toThemeProperty("jqx-widget"),b+=" "+this.toThemeProperty("jqx-widget-content"),this.element.className=b;var c=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),c=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),0==this.host.height()&&this.host.height(200),c=!0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)+"px"),this.multiple||this.multipleextended||this.checkboxes?a.jqx.aria(this,"aria-multiselectable",!0):a.jqx.aria(this,"aria-multiselectable",!1);var d=a("<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+this.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+this.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>");this._checkForHiddenParent&&(this._addInput(),this.host.attr("tabIndex")||this.host.attr("tabIndex",1)),this.host.attr("role","listbox"),this.host.append(d);var e=this.host.find("#verticalScrollBar"+this.element.id);if(!this.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!e.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var f=parseInt(this.host.height())/2;0==f&&(f=10),this.vScrollBar=e.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:this.rtl,theme:this.theme,touchMode:this.touchMode,largestep:f});var g=this.host.find("#horizontalScrollBar"+this.element.id);if(this.hScrollBar=g.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#listBoxContent"),this.content[0].id="listBoxContent"+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-listbox-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance,this.isTouchDevice()&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)){var h=a("<div class='overlay' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");this.content.parent().append(h),this.overlayContent=this.host.find(".overlay")}this._updateTouchScrolling(),this.host.addClass("jqx-disableselect"),this.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(a,b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+c+")","ig"),function(a,b){return"<b>"+b+"</b>"})},_addInput:function(){var b=this.host.attr("name");b&&this.host.attr("name",""),this.input=a("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",b)},_updateTouchScrolling:function(){var b=this;if(this.isTouchDevice()){b.enableHover=!1;var c=this.overlayContent?this.overlayContent:this.content;this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(a(c),"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(c,b.vScrollInstance.max,function(a,c){if("hidden"!=b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c),b._lastScroll=new Date}if("hidden"!=b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a),b._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=b.vScrollBar.css("visibility")&&"visible"!=b.hScrollBar.css("visibility")?a.jqx.mobile.setTouchScroll(!1,this.element.id):a.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(a.jqx.browser.msie&&a.jqx.browser.version<9)return!1;this.touchDevice=!0,b=!0,a.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(b=!1);return b&&0!=this.touchModeStyle&&(this.scrollBarSize=a.jqx.utilities.touchScrollBarSize),b&&this.host.addClass(this.toThemeProperty("jqx-touch")),b},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("renderer"==c&&(b._cachedItemHtml=new Array,b.refresh()),"itemHeight"==c&&b.refresh(),("source"==c||"checkboxes"==c)&&(null==e&&d&&d.unbindBindingUpdate&&(d.unbindBindingUpdate(b.element.id),d.unbindDownloadComplete(b.element.id)),b.clearSelection(),b.refresh()),("scrollBarSize"==c||"equalItemsWidth"==c)&&e!=d&&b._updatescrollbars(),"disabled"==c&&(b._renderItems(),b.vScrollBar.jqxScrollBar({disabled:e}),b.hScrollBar.jqxScrollBar({disabled:e})),"touchMode"==c||"rtl"==c){if(b._removeHandlers(),b.vScrollBar.jqxScrollBar({touchMode:e}),b.hScrollBar.jqxScrollBar({touchMode:e}),"touchMode"==c&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)){var f=a("<div class='overlay' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");b.content.parent().append(f),b.overlayContent=b.host.find(".overlay")}b._updateTouchScrolling(),b._addHandlers(),b._render(!1)}if(this.updating||("width"==c||"height"==c)&&b._updateSize(),"theme"==c&&d!=e&&(b.hScrollBar.jqxScrollBar({theme:b.theme}),b.vScrollBar.jqxScrollBar({theme:b.theme}),b.host.removeClass(),b.host.addClass(b.toThemeProperty("jqx-listbox")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),b.host.addClass(b.toThemeProperty("jqx-reset")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.refresh()),"selectedIndex"==c&&(b.clearSelection(),b.selectIndex(e,!0)),"displayMember"==c||"valueMember"==c){if(d!=e){var g=b.selectedIndex;b.refresh(),b.selectedIndex=g,b.selectedIndexes[g]=g}b._renderItems()}"autoHeight"==c&&(d!=e?b._render(!1):(b._updatescrollbars(),b._renderItems())),b._checkForHiddenParent&&a.jqx.isHidden(b.host)&&a.jqx.utilities.resize(this.host,function(){b._updateSize()},!1,b._checkForHiddenParent)}},loadFromSelect:function(b){if(null!=b){var c="#"+b,d=a(c);if(d.length>0){var e=d.find("option"),f=d.find("optgroup"),g=0,h=-1,i=new Array;a.each(e,function(){var b=f.find(this).length>0,c=null;this.text==this.value||null!=this.label&&""!=this.label||(this.label=this.text);var d={disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},e=a.jqx.browser.msie&&a.jqx.browser.version<8;e&&""==d.value&&null!=this.text&&this.text.length>0&&(d.value=this.text),b&&(c=f.find(this).parent()[0].label,d.group=c),this.selected&&(h=g),i[g]=d,g++}),this.source=i,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=h,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(b){var c=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var d=function(a){if(1==a&&-1!=c.selectedIndex){var b=c.selectedIndex;c.selectedIndex=-1,c._stopEvents=!0,c.selectIndex(b,!1,!0),-1==c.selectedIndex&&(c.selectedIndex=b),c._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),a.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,b),void d(b);(this.autoBind||!this.autoBind&&!b)&&(this.items=this.loadItems(this.source)),this._raiseEvent("6"),this._render(!1,1==b),d(b)}},_render:function(a){return this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==a||a)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready()))},_hitTest:function(a,b){var c=parseInt(this.vScrollInstance.value),d=this._searchFirstVisibleIndex(b+c,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[d]&&this.renderedVisibleItems[d].isGroup)return null;if(this.renderedVisibleItems.length>0){var e=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(e.height+e.top<b+c)return null}return d=this._searchFirstVisibleIndex(b+c),this.visibleItems[d]},_searchFirstVisibleIndex:function(a,b){void 0==a&&(a=parseInt(this.vScrollInstance.value));var c=0;(void 0==b||null==b)&&(b=this.visibleItems);for(var d=b.length;d>=c;){mid=parseInt((c+d)/2);var e=b[mid];if(void 0==e)break;if(e.initialTop>a&&e.initialTop+e.height>a)d=mid-1;else{if(!(e.initialTop<a&&e.initialTop+e.height<=a))return mid;c=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var b=this.isTouchDevice(),c=this.vScrollInstance,d=this.hScrollInstance,e=parseInt(c.value),f=parseInt(d.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(f=d.max-f);var g=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),h=g+parseInt(d.max),i=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(i=0),"visible"!=this.hScrollBar[0].style.visibility&&(h=g);var j=(this._getVirtualItemsCount(),new Array),k=0,l=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(l=this.host.outerHeight()),isNaN(l)&&(l=0);var m=0,n=0,o=0;if(0==c.value||0==this.visibleItems.length)for(var p=0;p<this.items.length;p++){var q=this.items[p];if(q.visible){q.top=-e,q.initialTop=-e,!q.isGroup&&q.visible&&(this.visibleItems[n++]=q,q.visibleIndex=n-1),this.renderedVisibleItems[o++]=q,q.left=-f;var r=q.top+q.height;r>=0&&q.top-q.height<=l&&(j[k++]={index:p,item:q}),e-=q.height}}var s=e>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,t=0;k=0;for(var u=this.vScrollInstance.value,v=0;100+l>t;){var q=this.renderedVisibleItems[s];if(void 0==q)break;if(q.visible){q.left=-f;var r=q.top+q.height-u;r>=0&&q.initialTop-u-q.height<=2*l&&(j[k++]={index:s,item:q})}if(s++,q.visible&&(t+=q.initialTop-u+q.height-t),v++,v>this.items.length-1)break}for(var w=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),x=this.toThemeProperty("jqx-listitem-state-group"),y=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),z=0,A=this,p=0;p<this.visualItems.length;p++){var B=this.visualItems[p],C=function(){var a=B[0].firstChild;if(A.checkboxes&&(a=B[0].lastChild),null!=a&&(a.style.visibility="hidden",a.className=""),A.checkboxes){var b=B.find(".chkbox");b.css({visibility:"hidden"})}};if(p<j.length){var q=j[p].item;if(q.initialTop-u>=l){C();continue}var D=a(B[0].firstChild);if(this.checkboxes&&(D=a(B[0].lastChild)),0==D.length)continue;if(null==D[0])continue;D[0].className="",D[0].style.display="block",D[0].style.visibility="inherit";var E="";if(E=!q.isGroup&&!this.selectedIndexes[q.index]>=0?w:x,(q.disabled||this.disabled)&&(E+=" "+y),this.roundedcorners&&(E+=" "+this.toThemeProperty("jqx-rc-all")),b&&(E+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),D[0].className=E,this.renderer)if(q.key||(q.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[q.key])D[0].innerHTML!=this._cachedItemHtml[q.key]&&(D[0].innerHTML=this._cachedItemHtml[q.key]);else{var F=this.renderer(q.index,q.label,q.value);D[0].innerHTML=F,this._cachedItemHtml[q.key]=D[0].innerHTML}else{if(-1!==this.itemHeight){var G=2+2*parseInt(D.css("padding-top"));D[0].style.lineHeight=q.height-G+"px",D.css("vertical-align","middle")}null!=q.html&&q.html.toString().length>0?D[0].innerHTML=q.html:null!=q.label||null!=q.value?null!=q.label?(D[0].innerHTML!==q.label&&(D[0].innerHTML=q.label),""==a.trim(q.label)&&(D[0].innerHTML=this.emptyString,""==this.emptyString&&(D[0].style.height=q.height-8+"px")),this.incrementalSearch||q.disabled||void 0!=this.searchString&&""!=this.searchString&&(D[0].innerHTML=this._highlight(q.label.toString(),this.searchString))):null===q.label?(D[0].innerHTML=this.emptyString,""==this.emptyString&&(D[0].style.height=q.height-8+"px")):D[0].innerHTML!==q.value?D[0].innerHTML=q.value:""==q.label&&(D[0].innerHTML=" "):(""==q.label||null==q.label)&&(D[0].innerHTML="",D[0].style.height=q.height-8+"px")
}if(B[0].style.left=q.left+"px",B[0].style.top=q.initialTop-u+"px",q.element=D[0],q.title&&(D[0].title=q.title),this.equalItemsWidth&&!q.isGroup){if(0==m){var H=parseInt(h),I=parseInt(D.outerWidth())-parseInt(D.width());H-=I;var J=1;J=null!=J?parseInt(J):0,H-=2*J,m=H,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(m-=18)}g>this.virtualSize.width?(D[0].style.width=m+"px",q.width=m):(D[0].style.width=-4+this.virtualSize.width+"px",q.width=this.virtualSize.width-4)}else D.width()<this.host.width()&&D.width(this.host.width()-2);if(this.rtl&&(D[0].style.textAlign="right"),this.autoItemsHeight&&(D[0].style.whiteSpace="normal",D.width(m),q.width=m),z=0,this.checkboxes&&!q.isGroup){0==z&&(z=(q.height-16)/2,z++);var K=a(B.children()[0]);K[0].item=q,this.rtl?"0px"!=D[0].style.left&&(D[0].style.left="0px"):"18px"!=D[0].style.left&&(D[0].style.left="18px"),this.rtl&&K.css("left",8+q.width+"px"),K[0].style.top=z+"px",K[0].style.display="block",K[0].style.visibility="inherit";var L=q.checked,M=q.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";K[0].firstChild&&K[0].firstChild.firstChild&&K[0].firstChild.firstChild.firstChild&&(L?K[0].firstChild.firstChild.firstChild.className=M:L===!1?K[0].firstChild.firstChild.firstChild.className="":null===L&&(K[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),a.jqx.ariaEnabled&&(L?B[0].setAttribute("aria-selected",!0):B[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var K=a(B.children()[0]);K.css({display:"none",visibility:"inherit"})}this.selectedIndexes[q.visibleIndex]>=0&&!q.disabled?(D.addClass(this.toThemeProperty("jqx-listitem-state-selected")),D.addClass(this.toThemeProperty("jqx-fill-state-pressed")),a.jqx.ariaEnabled&&(B[0].setAttribute("aria-selected",!0),this._activeElement=B[0])):this.checkboxes||a.jqx.ariaEnabled&&B[0].removeAttribute("aria-selected")}else C()}}},generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},_calculateVirtualSize:function(){var b=0,c=2,d=0,e=a("<span></span>");this.equalItemsWidth&&e.css("float","left");var f=0,g=this.host.outerHeight();a(document.body).append(e);var h=this.items.length,i=this.host.width();if(this.autoItemsHeight&&(i-=10,"hidden"!=this.vScrollBar.css("visibility")&&(i-=20)),this.autoItemsHeight||this.renderer||this.groups.length>1||h>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var d=0;h>d;d++){var j=this.items[d];if((!j.isGroup||""!=j.label||""!=j.html)&&j.visible){var k="";if(k+=this.toThemeProperty(j.isGroup?"jqx-listitem-state-group jqx-rc-all":"jqx-listitem-state-normal jqx-rc-all"),k+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(k+=" "+this.toThemeProperty("jqx-touch")),e[0].className=k,this.autoItemsHeight){e[0].style.whiteSpace="normal";var l=this.checkboxes?-20:0;e[0].style.width=l+i+"px"}if(this.renderer){var m=this.renderer(j.index,j.label,j.value);e[0].innerHTML=m}else null!=j.html&&j.html.toString().length>0?e[0].innerHTML=j.html:(null!=j.label||null!=j.value)&&(null!=j.label?(e[0].innerHTML=j.label,""==j.label&&(e[0].innerHTML="Empty")):e[0].innerHTML=j.value);var n=e.outerHeight(),o=e.outerWidth();this.itemHeight>-1&&(n=this.itemHeight),j.height=n,j.width=o,c+=n,b=Math.max(b,o),g>=c&&f++}}else{for(var c=0,p=0,q="",r=0,s=0,t=-1,d=0;h>d;d++){var j=this.items[d];if((!j.isGroup||""!=j.label||""!=j.html)&&j.visible){t++;var k="";if(0==t){if(k+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),k+=" "+this.toThemeProperty("jqx-fill-state-normal"),k+=" "+this.toThemeProperty("jqx-widget"),k+=" "+this.toThemeProperty("jqx-listbox"),k+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(k+=" "+this.toThemeProperty("jqx-touch"),k+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),e[0].className=k,this.autoItemsHeight){e[0].style.whiteSpace="normal";var l=this.checkboxes?-20:0;e[0].style.width=l+i+"px"}null==j.html||""==j.label||null==j.label?e[0].innerHTML="Item":null!=j.html&&j.html.toString().length>0?e[0].innerHTML=j.html:(null!=j.label||null!=j.value)&&(e[0].innerHTML=null!=j.label?null!=j.label.toString().match(new RegExp("\\w"))||null!=j.label.toString().match(new RegExp("\\d"))?j.label:"Item":j.value);var n=1+e.outerHeight();this.itemHeight>-1&&(n=this.itemHeight),p=n}void 0!=r&&(s=r),null!=j.html&&j.html.toString().length>0?(r=Math.max(r,j.html.toString().length),s!=r&&(q=j.html)):null!=j.label?(r=Math.max(r,j.label.length),s!=r&&(q=j.label)):null!=j.value&&(r=Math.max(r,j.value.length),s!=r&&(q=j.value)),j.height=p,c+=p,g>=c&&f++}}e[0].innerHTML=q,b=e.outerWidth()}return c+=2,10>f&&(f=10),e.remove(),{width:b,height:c,itemsPerPage:f}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var a=parseInt(this.host.height())/5;return a>this.items.length&&(a=this.items.length),a}return this.virtualItemsCount},_addItems:function(b){if(1!=this.updatingListBox){if(void 0==this.items||0==this.items.length)return this.virtualSize={width:0,height:0,itemsPerPage:0},this._updatescrollbars(),this.renderedVisibleItems=new Array,void(this.itemswrapper&&this.itemswrapper.children().remove());if(0==b){var c=this._calculateVirtualSize(),d=2*c.itemsPerPage;this.autoHeight&&(d=this.items.length),this.virtualItemsCount=Math.min(d,this.items.length);{c.width}return this.virtualSize=c,void this._updatescrollbars()}var e=this,f=0;this.visibleItems=new Array,this.renderedVisibleItems=new Array,this._removeHandlers(),this.allowDrag&&this._enableDragDrop&&(this.itemswrapper=null),null==this.itemswrapper&&(this.content[0].innerHTML="",this.itemswrapper=a('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),this.itemswrapper.height(2*this.host.height()),this.content.append(this.itemswrapper));var c=this._calculateVirtualSize(),d=2*c.itemsPerPage;this.autoHeight&&(d=this.items.length),this.virtualItemsCount=Math.min(d,this.items.length);{c.width}this.virtualSize=c,this.itemswrapper.width(Math.max(this.host.width(),17+c.width));for(var g=0,h="",i=a.jqx.browser.msie&&a.jqx.browser.version<9,j=i?' unselectable="on"':"",k=g;k<this.virtualItemsCount;k++){var l=this.items[k],m="listitem"+k+this.element.id;if(h+="<div"+j+" role='option' id='"+m+"' class='jqx-listitem-element'>",this.checkboxes){h+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var n='<div class="'+this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',o=l.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";n+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+o+'"></span>',n+="</div></div>",h+=n,h+="</div>"}h+="<span"+j+" style='-ms-touch-action: none;'></span></div>"}e.WinJS?this.itemswrapper.html(h):this.itemswrapper[0].innerHTML=h;for(var p=this.itemswrapper.children(),k=g;k<this.virtualItemsCount;k++){var l=this.items[k],q=a(p[k]);if(this.allowDrag&&this._enableDragDrop&&q.addClass("draggable"),this.checkboxes){{a(q.children()[0])}q.css("float","left");var r=a(q[0].firstChild);r.css("float","left")}q[0].style.height=l.height+"px",q[0].style.top=f+"px",f+=l.height,this.visualItems[k]=q}if(this._addHandlers(),this._updatescrollbars(),this.autoItemsHeight){var c=this._calculateVirtualSize(),d=2*c.itemsPerPage;this.autoHeight&&(d=this.items.length),this.virtualItemsCount=Math.min(d,this.items.length);{c.width}this.virtualSize=c,this._updatescrollbars()}a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){if(this.virtualSize){var b=this.virtualSize.height,c=this.virtualSize.width,d=this.vScrollInstance,e=this.hScrollInstance;this._arrange(!1);var f=!1,g=this.host.outerWidth(),h=this.host.outerHeight(),i=0;if(c>g&&(i=this.hScrollBar.outerHeight()+2),b+i>h){var j=d.max;d.max=2+parseInt(b)+i-parseInt(h-2),"inherit"!=this.vScrollBar[0].style.visibility&&(this.vScrollBar[0].style.visibility="inherit",f=!0),j!=d.max&&d._arrange()}else"hidden"!=this.vScrollBar[0].style.visibility&&(this.vScrollBar[0].style.visibility="hidden",f=!0,d.setPosition(0));var k=0;"hidden"!=this.vScrollBar[0].style.visibility&&(k=this.scrollBarSize+6);var l=this.checkboxes?20:0;if(this.autoItemsHeight)this.hScrollBar[0].style.visibility="hidden";else if(c>=g-k-l){var m=e.max;e.max="inherit"==this.vScrollBar[0].style.visibility?l+k+parseInt(c)-this.host.width()+4:l+parseInt(c)-this.host.width()+6,"inherit"!=this.hScrollBar[0].style.visibility&&(this.hScrollBar[0].style.visibility="inherit",f=!0),m!=e.max&&e._arrange(),"inherit"==this.vScrollBar[0].style.visibility&&(d.max=2+parseInt(b)+this.hScrollBar.outerHeight()+2-parseInt(this.host.height()))}else"hidden"!=this.hScrollBar[0].style.visibility&&(this.hScrollBar[0].style.visibility="hidden",f=!0);e.setPosition(0),f&&this._arrange(),this.itemswrapper&&(this.itemswrapper[0].style.width=Math.max(0,Math.max(g-2,17+c))+"px",this.itemswrapper[0].style.height=Math.max(0,2*h)+"px");var n=this.isTouchDevice();n&&("visible"!=this.vScrollBar.css("visibility")&&"visible"!=this.hScrollBar.css("visibility")?a.jqx.mobile.setTouchScroll(!1,this.element.id):a.jqx.mobile.setTouchScroll(!0,this.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(a){for(var b=0;b<this.selectedIndexes.length;b++)this.selectedIndexes[b]&&-1!=this.selectedIndexes[b]&&this._raiseEvent("1",{index:b,type:"api",item:this.getVisibleItem(b),originalEvent:null}),this.selectedIndexes[b]=-1;this.selectedIndex=-1,this.selectedValue=null,0!=a&&this._renderItems()},unselectIndex:function(a,b){if(!isNaN(a)){this.selectedIndexes[a]=-1;for(var c=!1,d=0;d<this.selectedIndexes.length;d++){var a=this.selectedIndexes[d];-1!=a&&void 0!=a&&(c=!0)}c||(this.selectedValue=null,this.selectedIndex=-1),(void 0==b||1==b)&&(this._renderItems(),this._raiseEvent("1",{index:a,type:"api",item:this.getVisibleItem(a),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:a,type:"api",item:this.getItem(a)})}},getItem:function(b){if(-1==b||isNaN(b)||"string"==typeof b)return-1===b?null:this.getItemByValue(b);{var c=null;a.each(this.items,function(){return this.index==b?(c=this,!1):void 0})}return c},getVisibleItem:function(a){return-1==a||isNaN(a)||"string"==typeof a?-1===a?null:this.getItemByValue(a):this.visibleItems[a]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);if(null!=e){{a(e.checkBoxElement)}e.checked=!0,(void 0==c||1==c)&&this._updateCheckedItems()}(void 0==d||1==d)&&this._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e})}},getCheckedItems:function(){if(!this.checkboxes)return null;var b=new Array;if(void 0!=this.items)return a.each(this.items,function(){this.checked&&(b[b.length]=this)}),b},checkAll:function(b){if(this.checkboxes&&!this.disabled){var c=this;a.each(this.items,function(){var a=this;b!==!1&&a.checked!==!0&&c._raiseEvent(3,{label:a.label,value:a.value,checked:!0,item:a}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(b){if(this.checkboxes&&!this.disabled){var c=this;a.each(this.items,function(){var a=this;b!==!1&&a.checked!==!1&&(this.checked=!1,c._raiseEvent(3,{label:a.label,value:a.value,checked:!1,item:a})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);if(null!=e){{a(e.checkBoxElement)}e.checked=!1,(void 0==c||1==c)&&this._updateCheckedItems()}(void 0==d||1==d)&&this._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})}},indeterminateIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);if(null!=e){{a(e.checkBoxElement)}e.checked=null,(void 0==c||1==c)&&this._updateCheckedItems()}(void 0==d||1==d)&&this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var a=this.getVisibleItems(),b=this.selectedIndexes,c=[];for(var d in b)-1!=b[d]&&(c[c.length]=a[d]);return c},getSelectedItem:function(){return this.getItem(this.selectedIndex)},_updateCheckedItems:function(){var b=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=b,this._renderItems();var c=a.data(this.element,"hoveredItem");null!=c&&(a(c).addClass(this.toThemeProperty("jqx-listitem-state-hover")),a(c).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(b){if(null!=this.visibleItems){if(this.itemsByValue)return this.itemsByValue[a.trim(b).split(" ").join("")];for(var c=this.visibleItems,d=0;d<c.length;d++)if(c[d].value==b)return c[d]}},checkItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.checkIndex(b.index,!0)}return!1},uncheckItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.uncheckIndex(b.index,!0)}return!1},indeterminateItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.indeterminateIndex(b.index,!0)}return!1},val:function(a){if(this.input&&0==arguments.length)return this.input.val();var b=this.getItemByValue(a);return null!=b&&this.selectItem(b),this.input?this.input.val():void 0},selectItem:function(a){if(null!=a){if(void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return this.selectIndex(a.visibleIndex,!0)}return!1},unselectItem:function(a){if(null!=a){if(void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return this.unselectIndex(a.visibleIndex,!0)}return!1},selectIndex:function(a,b,c,d,e,f){if(!isNaN(a)&&!(-1>a||a>=this.visibleItems.length||null!=this.visibleItems[a]&&this.visibleItems[a].disabled||this.disabled)){if(!this.multiple&&!this.multipleextended&&this.selectedIndex==a&&!d)return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(i=this.getVisibleItem(a),i&&(this.selectedValue=i.value)));if(this.checkboxes)return void this._updateCheckedItems();this.focused=!0;var g=!1;this.selectedIndex!=a&&(g=!0);var h=this.selectedIndex;this.selectedIndex!=a||this.multiple||(h=-1),void 0==e&&(e="none");var i=this.getItem(a),j=this.getItem(h);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(i=this.getVisibleItem(a),j=this.getVisibleItem(h)),void 0!=d&&d)this._raiseEvent("1",{index:h,type:e,item:j,originalEvent:f}),this.selectedIndex=a,this.selectedIndexes[h]=-1,this.selectedIndexes[a]=a,i&&(this.selectedValue=i.value),this._raiseEvent("0",{index:a,type:e,item:i,originalEvent:f});else{var k=this,l=function(a,b,c,d,e,f){k._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f}),k.selectedIndex=a,k.selectedIndexes=[],b=a,k.selectedIndexes[a]=a,k._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f})},m=function(a,b,c,d,e,f){void 0==k.selectedIndexes[a]||-1==k.selectedIndexes[a]?(k.selectedIndexes[a]=a,k.selectedIndex=a,k._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f})):(b=k.selectedIndexes[a],d=k.getVisibleItem(b),k.selectedIndexes[a]=-1,k.selectedIndex=-1,k._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==e&&(this.clearSelection(!1),k._clickedIndex=a),m(a,h,e,j,i,f);else if(this._shiftKey){void 0==k._clickedIndex&&(k._clickedIndex=h);var n=Math.min(k._clickedIndex,a),o=Math.max(k._clickedIndex,a);this.clearSelection(!1);for(var p=n;o>=p;p++)k.selectedIndexes[p]=p,k._raiseEvent("0",{index:p,type:e,item:this.getVisibleItem(p),originalEvent:f});k.selectedIndex="keyboard"!=e?k._clickedIndex:a}}else"keyboard"!=e&&"mouse"!=e?(m(a,h,e,j,i,f),k._clickedIndex=a):(this.clearSelection(!1),k._clickedIndex=a,l(a,h,e,j,i,f));else this.multiple?m(a,h,e,j,i,f):(i&&(this.selectedValue=i.value),l(a,h,e,j,i,f))}return(void 0==c||1==c)&&this._renderItems(),void 0!=b&&null!=b&&1==b&&this.ensureVisible(a),this._raiseEvent("2",{index:a,item:i,oldItem:j,type:e,originalEvent:f}),this._updateInputSelection(),g}},_updateInputSelection:function(){if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&this.input.val(this.items[this.selectedIndex].value),this.multiple||this.multipleextended||this.checkboxes)){var a=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),b="";if(a){for(var c=0;c<a.length;c++)void 0!=a[c]&&(b+=c==a.length-1?a[c].value:a[c].value+",");this.input.val(b)}}},isIndexInView:function(a){if(isNaN(a))return!1;if(!this.items)return!1;if(0>a||a>=this.items.length)return!1;var b=this.vScrollInstance.value,c=this.visibleItems[a];if(void 0==c)return!0;var d=c.initialTop,e=c.height;return 0>d-b||d-b+e>=this.host.outerHeight()?!1:!0},_itemsInPage:function(){var b=0,c=this;return this.items&&a.each(this.items,function(){return this.initialTop+this.height>=c.content.height()?!1:void b++}),b},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(a){for(indx=a+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(a){for(indx=a-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_getMatches:function(b,c){if(void 0==b||0==b.length)return-1;void 0==c&&(c=0);var d=this.getItems(),e=this,f=-1;return a.each(d,function(){var d="";if(!this.isGroup){d=this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var g=!1;switch(e.searchMode){case"containsignorecase":g=a.jqx.string.containsIgnoreCase(d,b);break;case"contains":g=a.jqx.string.contains(d,b);break;case"equals":g=a.jqx.string.equals(d,b);break;case"equalsignorecase":g=a.jqx.string.equalsIgnoreCase(d,b);break;case"startswith":g=a.jqx.string.startsWith(d,b);break;case"startswithignorecase":g=a.jqx.string.startsWithIgnoreCase(d,b);break;case"endswith":g=a.jqx.string.endsWith(d,b);break;case"endswithignorecase":g=a.jqx.string.endsWithIgnoreCase(d,b)}if(g&&this.visibleIndex>=c)return f=this.visibleIndex,!1}}),f},findItems:function(b){var c=this.getItems(),d=this,e=0,f=new Array;return a.each(c,function(){var c="";if(!this.isGroup){c=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var g=!1;switch(d.searchMode){case"containsignorecase":g=a.jqx.string.containsIgnoreCase(c,b);break;case"contains":g=a.jqx.string.contains(c,b);break;case"equals":g=a.jqx.string.equals(c,b);break;case"equalsignorecase":g=a.jqx.string.equalsIgnoreCase(c,b);break;case"startswith":g=a.jqx.string.startsWith(c,b);break;case"startswithignorecase":g=a.jqx.string.startsWithIgnoreCase(c,b);break;case"endswith":g=a.jqx.string.endsWith(c,b);break;case"endswithignorecase":g=a.jqx.string.endsWithIgnoreCase(c,b)}g&&(f[e++]=this)}}),f},_handleKeyDown:function(a){var b=a.keyCode,c=this,d=c.selectedIndex,e=c.selectedIndex;if(this.keyboardNavigation&&this.enableSelection){var f=function(){c.multiple&&c.clearSelection(!1)};if(a.altKey&&(b=-1),c.incrementalSearch){var g=-1;c._searchString||(c._searchString=""),(8==b||46==b)&&c._searchString.length>=1&&(c._searchString=c._searchString.substr(0,c._searchString.length-1));var h=String.fromCharCode(b),i=!isNaN(parseInt(h)),j=!1;if(b>=65&&97>=b||i||8==b||32==b||46==b){a.shiftKey||(h=h.toLocaleLowerCase());var k=1+c.selectedIndex;8!=b&&32!=b&&46!=b&&(c._searchString.length>0&&c._searchString.substr(0,1)==h?k=1+c.selectedIndex:c._searchString+=h),32==b&&(c._searchString+=" ");var l=this._getMatches(c._searchString,k);if(g=l,g==c._lastMatchIndex||-1==g){var l=this._getMatches(c._searchString,0);g=l}if(c._lastMatchIndex=g,g>=0){var m=function(){f(),c.selectIndex(g,!1,!1,!1,"keyboard",a);var b=c.isIndexInView(g);b?c._renderItems():c.ensureVisible(g)};c._toSelectTimer&&clearTimeout(c._toSelectTimer),c._toSelectTimer=setTimeout(function(){m()},c.incrementalSearchKeyDownDelay)}j=!0}if(void 0!=c._searchTimer&&clearTimeout(c._searchTimer),(27==b||13==b)&&(c._searchString=""),c._searchTimer=setTimeout(function(){c._searchString="",c._renderItems()},c.incrementalSearchDelay),g>=0)return;if(j)return!1}if(this.checkboxes)return!0;if(33==b){var n=c._itemsInPage();c.selectedIndex-n>=0?(f(),c.selectIndex(e-n,!1,!1,!1,"keyboard",a)):(f(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString=""}if(32==b&&this.checkboxes){var o=this.getItem(d);null!=o&&(c._updateItemCheck(o,d),a.preventDefault()),c._searchString=""}if(36==b&&(f(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a),c._searchString=""),35==b&&(f(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a),c._searchString=""),34==b){var n=c._itemsInPage();c.selectedIndex+n<c.visibleItems.length?(f(),c.selectIndex(e+n,!1,!1,!1,"keyboard",a)):(f(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString=""}if(38==b){if(c._searchString="",!(c.selectedIndex>0))return!1;var p=c._prevItemIndex(c.selectedIndex);if(p==c.selectedIndex||-1==p)return!0;f(),c.selectIndex(p,!1,!1,!1,"keyboard",a)}else if(40==b){if(c._searchString="",!(c.selectedIndex+1<c.visibleItems.length))return!1;var p=c._nextItemIndex(c.selectedIndex);if(p==c.selectedIndex||-1==p)return!0;f(),c.selectIndex(p,!1,!1,!1,"keyboard",a)}if(35==b||36==b||38==b||40==b||34==b||33==b){var q=c.isIndexInView(c.selectedIndex);return q?c._renderItems():c.ensureVisible(c.selectedIndex),!1}return!0}},_updateItemCheck:function(a,b){if(!this.disabled)switch(a.checked=1==a.checked?a.hasThreeStates&&this.hasThreeStates?null:!1:null!=a.checked,a.checked){case!0:this.checkIndex(b);break;case!1:this.uncheckIndex(b);break;default:this.indeterminateIndex(b)}},wheel:function(a,b){if(b.autoHeight||!b.enableMouseWheel)return a.returnValue=!0,!0;if(b.disabled)return!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),d?(d=!1,a.returnValue=d,d):!1}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){var b=this.vScrollInstance.value;0>a?this.scrollDown():this.scrollUp();var c=this.vScrollInstance.value;return b!=c?!0:!1},focus:function(){try{this.focused=!0,this.host.focus();var a=this;setTimeout(function(){a.host.focus()},10)}catch(b){}},_removeHandlers:function(){this.removeHandler(a(document),"keydown.listbox"+this.element.id),this.removeHandler(a(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valuechanged"),this.removeHandler(this.hScrollBar,"valuechanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var a=this;if(a._arrange(),a.host.height()!=a._oldheight||a.host.width()!=a._oldwidth){{a.host.width()!=a._oldwidth}if(a.autoItemsHeight)a._render(!1);else if(a.items)if(a.items.length>0&&a.virtualItemsCount*a.items[0].height<a._oldheight-2)a._render(!1);else{var b=a.vScrollInstance.value;a._updatescrollbars(),a._renderItems(),a.vScrollInstance.setPosition(b<a.vScrollInstance.max?b:a.vScrollInstance.max)}a._oldwidth=a.host.width(),a._oldheight=a.host.height()}},_addHandlers:function(){var b=this;this.focused=!1;var c=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valuechanged",function(){a.jqx.browser.msie&&a.jqx.browser.version>9?setTimeout(function(){b._renderItems()},1):b._renderItems()}),this.addHandler(this.hScrollBar,"valuechanged",function(){b._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(a){b.wheel(a,b)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(a(document),"keydown.listbox"+this.element.id,function(a){b._ctrlKey=a.ctrlKey,b._shiftKey=a.shiftKey}),this.addHandler(a(document),"keyup.listbox"+this.element.id,function(a){b._ctrlKey=a.ctrlKey,b._shiftKey=a.shiftKey}),this.addHandler(this.host,"keydown",function(a){return b._handleKeyDown(a)}),this.addHandler(this.content,"mouseleave",function(){b.focused=!1;var c=a.data(b.element,"hoveredItem");null!=c&&(a(c).removeClass(b.toThemeProperty("jqx-listitem-state-hover")),a(c).removeClass(b.toThemeProperty("jqx-fill-state-hover")),a.data(b.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(){b.disabled||(b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!0)}),this.addHandler(this.content,"blur",function(){b.focused=!1,b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(){b.disabled||(b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!0)}),this.addHandler(this.host,"blur",function(){a.jqx.browser.msie&&a.jqx.browser.version<9&&b.focused||(b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!1)}),this.addHandler(this.content,"mouseenter",function(){b.focused=!0});var d=a.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var e=b.isTouchDevice()&&this.touchMode!==!0,f=e?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"),function(c){if(!b.enableSelection)return!0;if(e&&(b._newScroll=new Date,b._newScroll-b._lastScroll<500))return!0;var d=a.jqx.mobile.getTouches(c),f=d[0];if(void 0!=f){var g=b.host.offset(),h=parseInt(f.pageX),i=parseInt(f.pageY);1==b.touchMode&&(h=parseInt(f._pageX),i=parseInt(f._pageY)),h-=g.left,i-=g.top;var j=b._hitTest(h,i);if(null!=j&&!j.isGroup){if(b._newScroll=new Date,b._newScroll-b._lastScroll<500)return!1;if(b.checkboxes)return void b._updateItemCheck(j,j.visibleIndex);if(-1==j.html.indexOf("href"))return b.selectIndex(j.visibleIndex,!1,!0,!1,"mouse",c),b.content.trigger("click"),!1;setTimeout(function(){return b.selectIndex(j.visibleIndex,!1,!0,!1,"mouse",c),b.content.trigger("click"),!1},100)}}});else{var g=!1;this.addHandler(this.content,f,function(c){if(!b.enableSelection)return!0;if(g=!0,e&&(b._newScroll=new Date,b._newScroll-b._lastScroll<500))return!1;if(b.focused=!0,!b.isTouchDevice()&&b.focusable&&b.host.focus(),c.target.id!="listBoxContent"+b.element.id&&b.itemswrapper[0]!=c.target){var h=c.target,i=a(h).offset(),j=b.host.offset();if(d){var k=a.jqx.mobile.getLeftPos(h),l=a.jqx.mobile.getTopPos(h);i.left=k,i.top=l,k=a.jqx.mobile.getLeftPos(b.element),l=a.jqx.mobile.getTopPos(b.element),j.left=k,j.top=l}var m=parseInt(i.top)-parseInt(j.top),n=parseInt(i.left)-parseInt(j.left),o=b._hitTest(n,m);if(null!=o&&!o.isGroup){var p=function(a,c){if(b._shiftKey||(b._clickedIndex=a.visibleIndex),b.checkboxes)if(b.selectedIndex=a.visibleIndex,n=20+c.pageX-i.left,b.rtl){{"hidden"!=b.hScrollBar.css("visibility")?b.hScrollInstance.max:b.host.width()}n<=b.host.width()-20&&(b.allowDrag?setTimeout(function(){b._dragItem||g||b._updateItemCheck(a,a.visibleIndex)},200):b._updateItemCheck(a,a.visibleIndex))}else n+b.hScrollInstance.value>=20&&(b.allowDrag?setTimeout(function(){b._dragItem||g||b._updateItemCheck(a,a.visibleIndex)},200):b._updateItemCheck(a,a.visibleIndex));else b.selectIndex(a.visibleIndex,!1,!0,!1,"mouse",c)};o.disabled||(-1!=o.html.indexOf("href")?setTimeout(function(){p(o,c)},100):p(o,c))}if("mousedown"==f){var q=!1;return c.which?q=3==c.which:c.button&&(q=2==c.button),q?!0:!1}}return!0})}this.addHandler(this.content,"mouseup",function(a){b.vScrollInstance.handlemouseup(b,a),g=!1}),a.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(){return!1})}var c=this.isTouchDevice();this.enableHover&&!c&&(this._mousemovefunc=function(e){if(c)return!0;if(!b.enableHover)return!0;1==a.jqx.browser.msie&&a.jqx.browser.version<9?0:1;if(null==e.target)return!0;if(b.disabled)return!0;b.focused=!0;var f=b.vScrollInstance.isScrolling();if(!f&&e.target.id!="listBoxContent"+b.element.id&&b.itemswrapper[0]!=e.target){var g=e.target,h=a(g).offset(),i=b.host.offset();if(d){var j=a.jqx.mobile.getLeftPos(g),k=a.jqx.mobile.getTopPos(g);h.left=j,h.top=k,j=a.jqx.mobile.getLeftPos(b.element),k=a.jqx.mobile.getTopPos(b.element),i.left=j,i.top=k}var l=parseInt(h.top)-parseInt(i.top),m=parseInt(h.left)-parseInt(i.left),n=b._hitTest(m,l);if(null!=n&&!n.isGroup&&!n.disabled){var o=a.data(b.element,"hoveredItem");null!=o&&(a(o).removeClass(b.toThemeProperty("jqx-listitem-state-hover")),a(o).removeClass(b.toThemeProperty("jqx-fill-state-hover"))),a.data(b.element,"hoveredItem",n.element);var p=a(n.element);p.addClass(b.toThemeProperty("jqx-listitem-state-hover")),p.addClass(b.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(a){void 0==a&&(a=!0);var b=null,c=null,d=this,e=function(a){return a=d.host.height(),0==a&&(a=200,d.host.height(a)),a};null!=this.width&&-1!=this.width.toString().indexOf("px")?b=this.width:void 0==this.width||isNaN(this.width)||(b=this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?c=this.height:void 0==this.height||isNaN(this.height)||(c=this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.css("width",this.width),b=this.host.width()),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.css("height",this.height),c=e(c)),null!=b&&(b=parseInt(b),parseInt(this.element.style.width)!=parseInt(this.width)&&this.host.width(this.width)),this.autoHeight?this.virtualSize&&("hidden"!=this.hScrollBar.css("visibility")?(this.host.height(this.virtualSize.height+parseInt(this.scrollBarSize)+3),this.height=this.virtualSize.height+parseInt(this.scrollBarSize)+3,c=this.height):(this.host.height(this.virtualSize.height),this.height=this.virtualSize.height,c=this.virtualSize.height)):null!=c&&(c=parseInt(c),parseInt(this.element.style.height)!=parseInt(this.height)&&(this.host.height(this.height),e(c)));var f=this.scrollBarSize;isNaN(f)&&(f=parseInt(f),isNaN(f)?f="17px":f+="px"),f=parseInt(f);var g=4,h=2,i=0;if(this.vScrollBar&&("hidden"!=this.vScrollBar[0].style.visibility?i=f+g:this.vScrollInstance.setPosition(0),this.hScrollBar)){"hidden"!=this.hScrollBar[0].style.visibility?h=f+g:this.hScrollInstance.setPosition(0),this.autoItemsHeight&&(this.hScrollBar[0].style.visibility="hidden",h=0),null==c&&(c=0);
var j=parseInt(c)-g-f;0>j&&(j=0),parseInt(this.hScrollBar[0].style.height)!=f&&(parseInt(f)<0&&(f=0),this.hScrollBar[0].style.height=parseInt(f)+"px"),this.hScrollBar[0].style.top!=j+"px"&&(this.hScrollBar[0].style.top=j+"px",this.hScrollBar[0].style.left="0px");var k=b-f-g;0>k&&(k=0);var l=k+"px";if(this.hScrollBar[0].style.width!=l&&(this.hScrollBar[0].style.width=l),0==i&&b>=2&&(this.hScrollBar[0].style.width=parseInt(b-2)+"px"),f!=parseInt(this.vScrollBar[0].style.width)&&(this.vScrollBar[0].style.width=parseInt(f)+"px"),parseInt(c)-h!=parseInt(this.vScrollBar[0].style.height)){var m=parseInt(c)-h;0>m&&(m=0),this.vScrollBar[0].style.height=m+"px"}null==b&&(b=0);var n=parseInt(b)-parseInt(f)-g+"px";n!=this.vScrollBar[0].style.left&&(parseInt(n)>=0&&(this.vScrollBar[0].style.left=n),this.vScrollBar[0].style.top="0px");var o=this.vScrollInstance;o.disabled=this.disabled,a&&o._arrange();var p=this.hScrollInstance;if(p.disabled=this.disabled,a&&p._arrange(),"hidden"!=this.vScrollBar[0].style.visibility&&"hidden"!=this.hScrollBar[0].style.visibility?(this.bottomRight[0].style.visibility="inherit",this.bottomRight[0].style.left=1+parseInt(this.vScrollBar[0].style.left)+"px",this.bottomRight[0].style.top=1+parseInt(this.hScrollBar[0].style.top)+"px",this.rtl&&this.bottomRight.css({left:0}),this.bottomRight[0].style.width=parseInt(f)+3+"px",this.bottomRight[0].style.height=parseInt(f)+3+"px"):this.bottomRight[0].style.visibility="hidden",parseInt(this.content[0].style.width)!=parseInt(b)-i){var q=parseInt(b)-i;0>q&&(q=0),this.content[0].style.width=q+"px"}if(this.rtl&&(this.vScrollBar.css({left:"0px",top:"0px"}),this.hScrollBar.css({left:this.vScrollBar.width()+2+"px"}),"hidden"!=this.vScrollBar[0].style.visibility?this.content.css("margin-left",4+this.vScrollBar.width()):(this.content.css("margin-left",0),this.hScrollBar.css({left:"0px"}))),parseInt(this.content[0].style.height)!=parseInt(c)-h){var r=parseInt(c)-h;0>r&&(r=0),this.content[0].style.height=r+"px"}this.overlayContent&&(this.overlayContent.width(parseInt(b)-i),this.overlayContent.height(parseInt(c)-h))}},ensureVisible:function(b){if(isNaN(b)){var c=this.getItemByValue(b);c&&(b=c.index)}var d=this.isIndexInView(b);if(!d){if(0>b)return;if(this.autoHeight){var e=a.data(this.vScrollBar[0],"jqxScrollBar").instance;e.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var c=this.visibleItems[indx];if(c.visibleIndex==b&&!c.isGroup){var e=a.data(this.vScrollBar[0],"jqxScrollBar").instance,f=e.value,g="hidden"===this.hScrollBar.css("visibility"),h=g?0:this.scrollBarSize+4;c.initialTop<f?e.setPosition(c.initialTop):c.initialTop+c.height>f+this.host.height()&&e.setPosition(c.initialTop+c.height+2-this.host.height()+h);break}}}this._renderItems()},scrollTo:function(a,b){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(b),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(a)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value+a.largestep<=a.max?(a.setPosition(a.value+a.largestep),!0):(a.setPosition(a.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value-a.largestep>=a.min?(a.setPosition(a.value-a.largestep),!0):a.value!=a.min?(a.setPosition(a.min),!0):!1},databind:function(b,c){this.records=new Array;var d=b._source?!0:!1,e=new a.jqx.dataAdapter(b,{autoBind:!1});d&&(e=b,b=b._source);var f=function(){void 0!=b.type&&(e._options.type=b.type),void 0!=b.formatdata&&(e._options.formatData=b.formatdata),void 0!=b.contenttype&&(e._options.contentType=b.contenttype),void 0!=b.async&&(e._options.async=b.async)},g=function(b,c){var d=function(c){if("string"==typeof c)var d=c,e=c;else var e=c[b.valueMember],d=c[b.displayMember];var f=new a.jqx._jqxListBox.item;return f.label=d,f.value=e,f.html="",f.visible=!0,f.originalItem=c,f.group="",f.groupHtml="",f.disabled=!1,f.hasThreeStates=!0,f};if(void 0!=c){var f=e._changedrecords[0];if(f)return void a.each(e._changedrecords,function(){var a=this.index,e=this.record;if("remove"!=c)var f=d(e);switch(c){case"update":b.updateAt(f,a);break;case"add":b.insertAt(f,a);break;case"remove":b.removeAt(a)}})}b.records=e.records;var g=b.records.length;b.items=new Array,b.itemsByValue=new Array;for(var h=0;g>h;h++){var i=b.records[h],j=d(i);j.index=h,b.items[h]=j;var k=j.value;(""==j.value||null==j.value)&&(k=h),b.itemsByValue[a.trim(k).split(" ").join("")]=j}b._render(),b._raiseEvent("6")};f(this);var h=this;switch(b.datatype){case"local":case"array":default:null!=b.localdata&&(e.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!c)&&e.dataBind(),g(this),e.bindBindingUpdate(this.element.id,function(a){g(h,a)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata)return e.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!c)&&e.dataBind(),g(this),void e.bindBindingUpdate(this.element.id,function(){g(h)});var i={};e._options.data?a.extend(e._options.data,i):(b.data&&a.extend(i,b.data),e._options.data=i);var j=function(){g(h)};e.unbindDownloadComplete(h.element.id),e.bindDownloadComplete(h.element.id,j),(this.autoBind||!this.autoBind&&!c)&&e.dataBind()}},loadItems:function(b){if(null==b)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var c=this,d=0,e=0,f=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var g=new Array;this.itemsByValue=new Array,a.map(b,function(b){if(void 0==b)return null;var h=new a.jqx._jqxListBox.item,i=b.group,j=b.groupHtml,k=b.title;if((null==k||void 0==k)&&(k=""),(null==i||void 0==i)&&(i=""),(null==j||void 0==j)&&(j=""),!c.groups[i]){c.groups[i]={items:new Array,index:-1,caption:i,captionHtml:j},d++;var l=d+"jqxGroup";c.groups[l]=c.groups[i],e++,c.groups.length=e}var m=c.groups[i];return m.index++,m.items[m.index]=h,"string"==typeof b?(h.label=b,h.value=b):null==b.label&&null==b.value&&null==b.html&&null==b.group&&null==b.groupHtml?(h.label=b.toString(),h.value=b.toString()):(h.label=b.label||b.value,h.value=b.value||b.label),"string"!=typeof b&&(""!=c.displayMember&&(h.label=void 0!=b[c.displayMember]?b[c.displayMember]:""),""!=c.valueMember&&(h.value=b[c.valueMember])),h.hasThreeStates=void 0!=b.hasThreeStates?b.hasThreeStates:!0,h.originalItem=b,h.title=k,h.html=b.html||"",b.html&&""!=b.html,h.group=i,h.checked=b.checked||!1,h.groupHtml=b.groupHtml||"",h.disabled=b.disabled||!1,h.visible=void 0!=b.visible?b.visible:!0,h.index=f,g[f]=h,f++,h});var h=new Array,i=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var j=0;e>j;j++){var d=j+1,k=d+"jqxGroup",l=this.groups[k];if(void 0==l||null==l)break;if(0==j&&""==l.caption&&""==l.captionHtml&&1>=e){for(var m=0;m<l.items.length;m++){var n=l.items[m].value;(void 0==l.items[m].value||null==l.items[m].value)&&(n=m),this.itemsByValue[a.trim(n).split(" ").join("")]=l.items[m]}return l.items}var o=new a.jqx._jqxListBox.item;o.isGroup=!0,o.label=l.caption,""==l.caption&&""==l.captionHtml&&(l.caption=this.emptyGroupText,o.label=l.caption),o.html=l.captionHtml,h[i]=o,i++;for(var p=0;p<l.items.length;p++){h[i]=l.items[p];var n=l.items[p].value;(""==l.items[p].value||null==l.items[p].value)&&(n=i),c.itemsByValue[a.trim(n).split(" ").join("")]=l.items[p],i++}}else{var i=0,q=new Array;a.each(g,function(){if(!q[this.group]&&""!=this.group){var b=new a.jqx._jqxListBox.item;b.isGroup=!0,b.label=this.group,h[i]=b,i++,q[this.group]=!0}h[i]=this;var d=this.value;(""==this.value||null==this.value)&&(d=i-1),c.itemsByValue[a.trim(d).split(" ").join("")]=this,i++})}return h},_mapItem:function(b){var c=new a.jqx._jqxListBox.item;return this.displayMember&&(void 0==b.label&&(b.label=b[this.displayMember]),void 0==b.value&&(b.value=b[this.valueMember])),"string"==typeof b?(c.label=b,c.value=b):"number"==typeof b?(c.label=b.toString(),c.value=b.toString()):(c.label=b.label||b.value,c.value=b.value||b.label),void 0==c.label&&void 0==c.value&&void 0==c.html&&(c.label=c.value=b),c.html=b.html||"",c.group=b.group||"",c.checked=b.checked||!1,c.title=b.title||"",c.groupHtml=b.groupHtml||"",c.disabled=b.disabled||!1,c.visible=b.visible||!0,c},addItem:function(a){return this.insertAt(a,this.items?this.items.length:0)},_getItemByParam:function(a){if(null!=a&&void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return a},insertItem:function(a,b){var c=this._getItemByParam(a);return this.insertAt(c,b)},updateItem:function(a,b){var c=this._getItemByParam(b);return c&&void 0!=c.index?this.updateAt(a,c.index):!1},updateAt:function(b,c){if(null!=b){var d=this._mapItem(b);this.itemsByValue[a.trim(d.value).split(" ").join("")]=this.items[c],this.items[c].value=d.value,this.items[c].label=d.label,this.items[c].html=d.html,this.items[c].disabled=d.disabled}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(b,c){if(null==b)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var d=this._mapItem(b);d.index=0,this.items[this.items.length]=d,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var e=d.value;return(""==d.value||null==d.value)&&(e=c),this.itemsByValue[a.trim(e).split(" ").join("")]=d,!1}var d=this._mapItem(b);if(-1==c||void 0==c||null==c||c>=this.items.length)d.index=this.items.length,this.items[this.items.length]=d;else{for(var f=new Array,g=0,h=!1,i=0,j=0;j<this.items.length;j++)0==this.items[j].isGroup&&i>=c&&!h&&(f[g++]=d,d.index=c,i++,h=!0),f[g]=this.items[j],this.items[j].isGroup||(f[g].index=i,i++),g++;this.items=f}var e=d.value;(""==d.value||null==d.value)&&(e=c),this.itemsByValue[a.trim(e).split(" ").join("")]=d,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var k=a.data(this.vScrollBar[0],"jqxScrollBar").instance,l=k.value;return k.setPosition(0),this._addItems(this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?!0:!1),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),k.setPosition(l),this.rendered&&this.rendered(),!0},removeAt:function(b){if(0>b||b>this.items.length-1)return!1;if(void 0==b)return!1;var c=this.items[b].height,d=this.items[b].value;(""==d||null==d)&&(d=b),this.itemsByValue[a.trim(d).split(" ").join("")]=null,this.items.splice(b,1);for(var e=new Array,f=0,g=0,h=0;h<this.items.length;h++)e[f]=this.items[h],this.items[h].isGroup||(e[f].index=g,g++),f++;this.items=e;var i=a.data(this.vScrollBar[0],"jqxScrollBar").instance,i=a.data(this.vScrollBar[0],"jqxScrollBar").instance,j=i.value;if(i.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=c;var k=2*this.virtualSize.itemsPerPage;this.autoHeight&&(k=this.items.length),this.virtualItemsCount=Math.min(k,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),i.setPosition("hidden"!=this.vScrollBar.css("visibility")?j:0),this.itemsByValue=new Array;for(var l=0;l<this.items.length;l++){var d=this.items[l].value;(""==this.items[l].value||null==this.items[l].value)&&(d=l),this.itemsByValue[a.trim(d).split(" ").join("")]=this.items[l]}return this.rendered&&this.rendered(),!0},removeItem:function(a,b){var c=this._getItemByParam(a),d=-1;if(c&&void 0!=c.index&&b!==!0){for(var e=0;e<this.items.length;e++)if(this.items[e].label==c.label&&this.items[e].value==c.value){d=e;break}if(-1!=d)return this.removeAt(d)}return-1==d?this.removeAt(c.index):void 0},getItems:function(){return this.items},disableItem:function(a){var b=this._getItemByParam(a);this.disableAt(b.index)},enableItem:function(a){var b=this._getItemByParam(a);this.enableAt(b.index)},disableAt:function(a){return this.items?0>a||a>this.items.length-1?!1:(this.items[a].disabled=!0,this._renderItems(),!0):!1},enableAt:function(a){return this.items?0>a||a>this.items.length-1?!1:(this.items[a].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),a.jqx.utilities.resize(this.host,null,!0);var b=a.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),b&&delete b.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(a,b){if(1==this._stopEvents)return!0;void 0==b&&(b={owner:null});var c=this.events[a];args=b,args.owner=this,this._updateInputSelection();var d=new jQuery.Event(c);if(d.owner=this,d.args=args,null!=this.host)var e=this.host.trigger(d);return e}})}(jQuery),function(a){a.jqx._jqxListBox.item=function(){var a={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return a}}(jQuery),function(a){a.jqx.jqxWidget("jqxMenu","",{}),a.extend(a.jqx._jqxMenu.prototype,{defineInstance:function(){this.items=new Array,this.mode="horizontal",this.width=null,this.height=null,this.minimizeWidth="auto",this.easing="easeInOutSine",this.animationShowDuration=200,this.animationHideDuration=200,this.autoCloseInterval=0,this.animationHideDelay=100,this.animationShowDelay=100,this.menuElements=new Array,this.autoSizeMainItems=!1,this.autoCloseOnClick=!0,this.autoCloseOnMouseLeave=!0,this.enableRoundedCorners=!0,this.disabled=!1,this.autoOpenPopup=!0,this.enableHover=!0,this.autoOpen=!0,this.autoGenerate=!0,this.clickToOpen=!1,this.showTopLevelArrows=!1,this.touchMode="auto",this.source=null,this.popupZIndex=17e3,this.rtl=!1,this.title="",this.events=["shown","closed","itemclick","initialized"]},createInstance:function(){var b=this;if(this.host.attr("role","menubar"),a.jqx.utilities.resize(this.host,function(){b.refresh()},!1,"popup"!=this.mode),this.host.css("outline","none"),this.source&&null!=this.source){var c=this.loadItems(this.source);this.element.innerHTML=c}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var d=this.host.find("ul:first");d.length>0&&this._createMenu(d[0])}this.host.data("autoclose",{}),this._render(),this.setSize(),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{this.host.focus()}catch(a){}},loadItems:function(b,c){if(null!=b){if(0==b.length)return"";var d=this;this.items=new Array;var e="<ul>";return c&&(e='<ul style="width:'+c+';">'),a.map(b,function(a){return void 0==a?null:void(e+=d._parseItem(a))}),e+="</ul>"}},_parseItem:function(a){var b="";if(void 0==a)return null;var c=a.label;!a.label&&a.html&&(c=a.html),c||(c="Item"),"string"==typeof a&&(c=a);var d=!1;void 0!=a.selected&&a.selected&&(d=!0);var e=!1;return void 0!=a.disabled&&a.disabled&&(e=!0),b+="<li",e&&(b+=' item-disabled="true" '),a.label&&!a.html&&(b+=' item-label="'+c+'" '),null!=a.value&&(b+=' item-value="'+a.value+'" '),void 0!=a.id&&(b+=' id="'+a.id+'" '),b+=">"+c,a.items&&(b+=a.subMenuWidth?this.loadItems(a.items,a.subMenuWidth):this.loadItems(a.items)),b+="</li>"},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var b=a(window).width();if(!a.jqx.response){var c=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var d=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;d||(c=!0)}var e=this.minimizeWidth;if(c&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&a.jqx.response){var f=new a.jqx.response;("Phone"==f.device.type||"Tablet"==f.device.type)&&(this.minimized||this.minimize())}else e>b&&!this.minimized?this.minimize():this.minimized&&b>=e&&this.restore()}},minimize:function(){if(!this.minimized){var b=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple";var c=this.host.closest("div.jqx-menu-wrapper");if(c.remove(),a("#menuWrapper"+this.element.id).remove(),a.each(this.items,function(){var b=this,c=(a(b.element),a(b.subMenuElement)),d=c.closest("div.jqx-menu-popup");d.remove()}),this.source){var d=this.loadItems(this.source);this.element.innerHTML=d}else if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var e=this.host.find("ul:first");e.length>0&&this._createMenu(e[0])}this._render();var f=this.host.find("ul:first");f.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var c=f.closest("div.jqx-menu-wrapper");c[0].id="menuWrapper"+this.element.id,c.detach(),c.appendTo(a(document.body)),c.addClass(this.toThemeProperty("jqx-widget")),c.addClass(this.toThemeProperty("jqx-menu")),c.addClass(this.toThemeProperty("jqx-menu-minimized")),c.addClass(this.toThemeProperty("jqx-widget-header")),f.children().hide(),c.hide(),c.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=a("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=a("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),a("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),b.minimizedHidden=!0;var g=function(){b.minimizedHidden=!0,b.minimizedItem.show();var a=!1;"right"==b.minimizedItem.css("float")&&(a=!0),c.animate({left:a?b.host.coord().left+b.host.width()+c.width():-c.outerWidth(),opacity:0},b.animationHideDuration,function(){c.find("ul:first").children().hide(),c.hide()})},h=function(a){if(b.minimizedHidden){c.find("ul:first").children().show(),b.minimizedHidden=!1,c.show(),c.css("opacity",0),c.css("left",-c.outerWidth());var d=!1,e=c.width();"right"==b.minimizedItem.css("float")&&(c.css("left",b.host.coord().left+b.host.width()+e),d=!0),c.css("top",b.host.coord().top+b.host.height()),c.animate({left:d?b.host.coord().left+b.host.width()-e:b.host.coord().left,opacity:.95},b.animationShowDuration,function(){})}else g(a);b._raiseEvent("2",{item:b.minimizedItem[0],event:a}),b.setSize()};this.addHandler(a(window),"orientationchange.jqxmenu"+this.element.id,function(){setTimeout(function(){if(!b.minimizedHidden){var a=c.width(),d=!1,a=c.width();"right"==b.minimizedItem.css("float")&&(d=!0),c.css("top",b.host.coord().top+b.host.height()),c.css({left:d?b.host.coord().left+b.host.width()-a:b.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(a){h(a)})}},restore:function(){if(this.minimized){this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove();var b=a("#menuWrapper"+this.element.id);if(b.remove(),this.source){var c=this.loadItems(this.source);this.element.innerHTML=c}else if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var d=this.host.find("ul:first");d.length>0&&this._createMenu(d[0])}this.setSize(),this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode?b=!0:0==this.touchMode&&(b=!1),b&&(this.host.addClass(this.toThemeProperty("jqx-touch")),a(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=b,b},refresh:function(a){a||this.setSize()},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_closeAll:function(b){var c=null!=b?b.data:this,d=c.items;if(a.each(d,function(){var a=this;1==a.hasItems&&a.isOpen&&c._closeItem(c,a)}),"popup"==c.mode&&null!=b){var e=c._isRightClick(b);e||c.close()}},closeItem:function(b){if(null==b)return!1;var c=b,d=document.getElementById(c),e=this;return a.each(e.items,function(){var a=this;1==a.isOpen&&a.element==d&&(e._closeItem(e,a),a.parentId&&e.closeItem(a.parentId))}),!0},openItem:function(b){if(null==b)return!1;var c=b,d=document.getElementById(c),e=this;return a.each(e.items,function(){var a=this;0==a.isOpen&&a.element==d&&(e._openItem(e,a),a.parentId&&e.openItem(a.parentId))}),!0},_getClosedSubMenuOffset:function(b){var c=a(b.subMenuElement),d=-c.outerHeight(),e=-c.outerWidth(),f=0==b.level&&"horizontal"==this.mode;switch(f?e=0:d=0,b.openVerticalDirection){case"up":case"center":d=c.outerHeight()}switch(b.openHorizontalDirection){case this._getDir("left"):e=f?0:c.outerWidth();break;case"center":e=f?0:c.outerWidth()}return{left:e,top:d}},_closeItem:function(b,c,d,e){if(null==b||null==c)return!1;var f=a(c.subMenuElement),g=0==c.level&&"horizontal"==this.mode,h=this._getClosedSubMenuOffset(c),i=h.top,j=h.left,k=(a(c.element),f.closest("div.jqx-menu-popup"));if(null!=k){var l=b.animationHideDelay;1==e&&(l=0),null!=f.data("timer").show&&(clearTimeout(f.data("timer").show),f.data("timer").show=null);var m=function(){c.isOpen=!1,g?f.stop().animate({top:i},b.animationHideDuration,function(){a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-top-selected")),a(c.element).removeClass(b.toThemeProperty("jqx-rc-b-expanded")),k.removeClass(b.toThemeProperty("jqx-rc-t-expanded"));var d=a(c.arrow);d.length>0&&b.showTopLevelArrows&&(d.removeClass(),"down"==c.openVerticalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-down")),d.addClass(b.toThemeProperty("jqx-icon-arrow-down"))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-up")),d.addClass(b.toThemeProperty("jqx-icon-arrow-up")))),a.jqx.aria(a(c.element),"aria-expanded",!1),k.css({display:"none"}),0==b.animationHideDuration&&f.css({top:i}),b._raiseEvent("1",c)}):(!a.jqx.browser.msie,f.stop().animate({left:j},b.animationHideDuration,function(){if(0==b.animationHideDuration&&f.css({left:j}),c.level>0){a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))}else{a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-top-"+b._getDir("right"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-top-"+b._getDir("left"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))}a.jqx.aria(a(c.element),"aria-expanded",!1),k.css({display:"none"}),b._raiseEvent("1",c)}))};if(l>0?f.data("timer").hide=setTimeout(function(){m()},l):m(),void 0!=d&&d){var n=f.children();a.each(n,function(){if(b.menuElements[this.id]&&b.menuElements[this.id].isOpen){{a(b.menuElements[this.id].subMenuElement)}b._closeItem(b,b.menuElements[this.id],!0,!0)}})}}},getSubItems:function(b,c){if(null==b)return!1;var d=this,e=new Array;null!=c&&a.extend(e,c);var f=b,g=this.menuElements[f],h=a(g.subMenuElement),i=h.find(".jqx-menu-item");return a.each(i,function(){e[this.id]=d.menuElements[this.id];var b=d.getSubItems(this.id,e);a.extend(e,b)}),e},disable:function(b,c){if(null!=b){var d=b,e=this;if(this.menuElements[d]){var f=this.menuElements[d];f.disabled=c;var g=a(f.element);f.element.disabled=c,a.each(g.children(),function(){this.disabled=c}),c?(g.addClass(e.toThemeProperty("jqx-menu-item-disabled")),g.addClass(e.toThemeProperty("jqx-fill-state-disabled"))):(g.removeClass(e.toThemeProperty("jqx-menu-item-disabled")),g.removeClass(e.toThemeProperty("jqx-fill-state-disabled")))}}},_setItemProperty:function(a,b,c){if(null!=a){var d=a;if(this.menuElements[d]){var e=this.menuElements[d];e[b]&&(e[b]=c)}}},setItemOpenDirection:function(b,c,d){if(null!=b){var e=b,f=this,g=a.jqx.browser.msie&&a.jqx.browser.version<8;if(this.menuElements[e]){var h=this.menuElements[e];if(null!=c&&(h.openHorizontalDirection=c,h.hasItems&&h.level>0)){var i=a(h.element);if(void 0!=i){var j=a(h.arrow);null==h.arrow&&(j=a('<span id="arrow'+i[0].id+'"></span>'),g?j.appendTo(i):j.prependTo(i),h.arrow=j[0]),j.removeClass(),"left"==h.openHorizontalDirection?(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-"+f._getDir("left"))),j.addClass(f.toThemeProperty("jqx-icon-arrow-"+f._getDir("left")))):(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-"+f._getDir("right"))),j.addClass(f.toThemeProperty("jqx-icon-arrow-"+f._getDir("right")))),j.css("visibility","visible"),g?(j.css("display","inline-block"),j.css("float","none")):(j.css("display","block"),j.css("float","right"))}}if(null!=d){h.openVerticalDirection=d;var j=a(h.arrow),i=a(h.element);if(!f.showTopLevelArrows)return;void 0!=i&&(null==h.arrow&&(j=a('<span id="arrow'+i[0].id+'"></span>'),g?j.appendTo(i):j.prependTo(i),h.arrow=j[0]),j.removeClass(),"down"==h.openVerticalDirection?(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-down")),j.addClass(f.toThemeProperty("jqx-icon-arrow-down"))):(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-up")),j.addClass(f.toThemeProperty("jqx-icon-arrow-up"))),j.css("visibility","visible"),g?(j.css("display","inline-block"),j.css("float","none")):(j.css("display","block"),j.css("float","right")))}}}},_getSiblings:function(a){var b=new Array,c=0;for(i=0;i<this.items.length;i++)this.items[i]!=a&&this.items[i].parentId==a.parentId&&this.items[i].hasItems&&(b[c++]=this.items[i]);return b},_openItem:function(b,c,d){if(null==b||null==c)return!1;if(c.isOpen)return!1;if(c.disabled)return!1;if(b.disabled)return!1;var e=b.popupZIndex;void 0!=d&&(e=d);var f=b.animationHideDuration;b.animationHideDuration=0,b._closeItem(b,c,!0,!0),b.animationHideDuration=f,this.host.focus();var g=[5,5],h=a(c.subMenuElement);null!=h&&h.stop(),null!=h.data("timer").hide&&clearTimeout(h.data("timer").hide);var i=h.closest("div.jqx-menu-popup"),j=a(c.element),k=0==c.level?this._getOffset(c.element):j.position();if(c.level>0&&this.hasTransform){var l=parseInt(j.coord().top)-parseInt(this._getOffset(c.element).top);k.top+=l}0==c.level&&"popup"==this.mode&&(k=j.coord());var m=0==c.level&&"horizontal"==this.mode,n=m?k.left:null!=this.menuElements[c.parentId]&&null!=this.menuElements[c.parentId].subMenuElement?parseInt(a(a(this.menuElements[c.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-g[0]:parseInt(h.outerWidth());if(i.css({visibility:"visible",display:"block",left:n,top:m?k.top+j.outerHeight():k.top,zIndex:e}),h.css("display","block"),"horizontal"!=this.mode&&0==c.level){var o=this._getOffset(this.element);i.css("left",-1+o.left+this.host.outerWidth()),h.css("left",-h.outerWidth())}else{var p=this._getClosedSubMenuOffset(c);h.css("left",p.left),h.css("top",p.top)}i.css({height:parseInt(h.outerHeight())+parseInt(g[1])+"px"});var q=0,r=0;switch(c.openVerticalDirection){case"up":if(m){h.css("top",h.outerHeight()),q=g[1];var s=parseInt(h.parent().css("padding-bottom"));isNaN(s)&&(s=0),s>0&&i.addClass(this.toThemeProperty("jqx-menu-popup-clear")),h.css("top",h.outerHeight()-s),i.css({display:"block",top:k.top-i.outerHeight(),zIndex:e})}else q=g[1],h.css("top",h.outerHeight()),i.css({display:"block",top:k.top-i.outerHeight()+g[1]+j.outerHeight(),zIndex:e});break;case"center":m?(h.css("top",0),i.css({display:"block",top:k.top-i.outerHeight()/2+g[1],zIndex:e})):(h.css("top",0),i.css({display:"block",top:k.top+j.outerHeight()/2-i.outerHeight()/2+g[1],zIndex:e}))}switch(c.openHorizontalDirection){case this._getDir("left"):m?i.css({left:k.left-(i.outerWidth()-j.outerWidth()-g[0])}):(r=0,h.css("left",i.outerWidth()),i.css({left:k.left-i.outerWidth()+2*c.level}));break;case"center":m?i.css({left:k.left-(i.outerWidth()/2-j.outerWidth()/2-g[0]/2)}):(i.css({left:k.left-(i.outerWidth()/2-j.outerWidth()/2-g[0]/2)}),h.css("left",i.outerWidth()))}if(m){if(parseInt(h.css("top"))==q)return void(c.isOpen=!0)}else if(parseInt(h.css("left"))==r)return void(1==c.isOpen);a.each(b._getSiblings(c),function(){b._closeItem(b,this,!0,!0)});var t=a.data(b.element,"animationHideDelay");b.animationHideDelay=t,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){b._closeAll()},this.autoCloseInterval))),h.data("timer").show=setTimeout(function(){if(null!=i)if(m){h.stop(),h.css("left",r),!a.jqx.browser.msie,j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-top-selected")),"down"==c.openVerticalDirection?(a(c.element).addClass(b.toThemeProperty("jqx-rc-b-expanded")),i.addClass(b.toThemeProperty("jqx-rc-t-expanded"))):(a(c.element).addClass(b.toThemeProperty("jqx-rc-t-expanded")),i.addClass(b.toThemeProperty("jqx-rc-b-expanded")));var d=a(c.arrow);d.length>0&&b.showTopLevelArrows&&(d.removeClass(),"down"==c.openVerticalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-down-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-down"))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-up-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-up")))),0==b.animationShowDuration?(h.css({top:q}),c.isOpen=!0,b._raiseEvent("0",c),a.jqx.aria(a(c.element),"aria-expanded",!0)):h.animate({top:q},b.animationShowDuration,b.easing,function(){c.isOpen=!0,a.jqx.aria(a(c.element),"aria-expanded",!0),b._raiseEvent("0",c)})}else{if(h.stop(),h.css("top",q),!a.jqx.browser.msie,c.level>0){j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))
}else{j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))}!a.jqx.browser.msie,0==b.animationShowDuration?(h.css({left:r}),b._raiseEvent("0",c),c.isOpen=!0,a.jqx.aria(a(c.element),"aria-expanded",!0)):h.animate({left:r},b.animationShowDuration,b.easing,function(){b._raiseEvent("0",c),c.isOpen=!0,a.jqx.aria(a(c.element),"aria-expanded",!0)})}},this.animationShowDelay)},_getDir:function(a){switch(a){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(b,c){var d=this,e=0;if(this.host.removeClass(d.toThemeProperty("jqx-menu-horizontal")),this.host.removeClass(d.toThemeProperty("jqx-menu-vertical")),this.host.removeClass(d.toThemeProperty("jqx-menu")),this.host.removeClass(d.toThemeProperty("jqx-widget")),this.host.addClass(d.toThemeProperty("jqx-widget")),this.host.addClass(d.toThemeProperty("jqx-menu")),void 0!=b&&void 0!=c&&"popup"==c){if(this.host.parent().length>0&&this.host.parent().parent().length>0&&this.host.parent().parent()[0]==document.body){var f=a.data(document.body,"jqxMenuOldHost"+this.element.id);if(null!=f){var g=this.host.closest("div.jqx-menu-wrapper");g.remove(),g.appendTo(f),this.host.css("display","block"),this.host.css("visibility","visible"),g.css("display","block"),g.css("visibility","visible")}}}else void 0==b&&void 0==c&&a.data(document.body,"jqxMenuOldHost"+this.element.id,this.host.parent()[0]);switch(this.autoOpenPopup&&"popup"==this.mode?(this.addHandler(a(document),"contextmenu."+this.element.id,function(){return!1}),this.addHandler(a(document),"mousedown.menu"+this.element.id,function(a){d._openContextMenu(a)})):(this.removeHandler(a(document),"contextmenu."+this.element.id),this.removeHandler(a(document),"mousedown.menu"+this.element.id)),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.mode){case"horizontal":this.host.addClass(d.toThemeProperty("jqx-widget-header")),this.host.addClass(d.toThemeProperty("jqx-menu-horizontal")),a.each(this.items,function(){var b=this;$element=a(b.element);var c=a(b.arrow);if(c.removeClass(),b.hasItems&&b.level>0){var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');c.prependTo($element),c.css("float",d._getDir("right")),c.addClass(d.toThemeProperty("jqx-menu-item-arrow-"+d._getDir("right"))),c.addClass(d.toThemeProperty("jqx-icon-arrow-"+d._getDir("right"))),b.arrow=c[0]}if(0==b.level){if(a(b.element).css("float",d._getDir("left")),!b.ignoretheme&&b.hasItems&&d.showTopLevelArrows){var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),f=a.jqx.browser.msie&&a.jqx.browser.version<8;null==b.arrow?f?c.appendTo($element):c.prependTo($element):c=a(b.arrow),"down"==b.openVerticalDirection?(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-down")),c.addClass(d.toThemeProperty("jqx-icon-arrow-down"))):(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-up")),c.addClass(d.toThemeProperty("jqx-icon-arrow-up"))),c.css("visibility","visible"),f?c.css("display","inline-block"):(c.css("display","block"),c.css("float","right")),b.arrow=c[0]}else if(!b.ignoretheme&&b.hasItems&&!d.showTopLevelArrows&&null!=b.arrow){var c=a(b.arrow);c.remove(),b.arrow=null}e=Math.max(e,$element.height())}});break;case"vertical":case"popup":case"simple":if(this.host.addClass(d.toThemeProperty("jqx-menu-vertical")),a.each(this.items,function(){var b=this;if($element=a(b.element),b.hasItems&&!b.ignoretheme){if(b.arrow&&a(b.arrow).remove(),"simple"==d.mode)return!0;var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');c.prependTo($element),c.css("float","right"),0==b.level?(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-top-"+d._getDir("right"))),c.addClass(d.toThemeProperty("jqx-icon-arrow-"+d._getDir("right")))):(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-"+d._getDir("right"))),c.addClass(d.toThemeProperty("jqx-icon-arrow-"+d._getDir("right")))),b.arrow=c[0]}$element.css("float","none")}),"popup"==this.mode){this.host.addClass(d.toThemeProperty("jqx-widget-content")),this.host.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var g=this.host.closest("div.jqx-menu-wrapper");this.host.addClass(d.toThemeProperty("jqx-popup")),g[0].id="menuWrapper"+this.element.id,g.appendTo(a(document.body))}else this.host.addClass(d.toThemeProperty("jqx-widget-header"));if("popup"==this.mode){var h=this.host.height();this.host.css("position","absolute"),this.host.css("top","0"),this.host.css("left","0"),"simple"!=this.mode&&(this.host.height(h),this.host.css("display","none"))}}var i=this.isTouchDevice();this.autoCloseOnClick&&(this.removeHandler(a(document),"mousedown.menu"+this.element.id,d._closeAfterClick),this.addHandler(a(document),"mousedown.menu"+this.element.id,d._closeAfterClick,d),i&&(this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,d._closeAfterClick,d),this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,d._closeAfterClick,d)))},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},_getOffset:function(b){var c=a.jqx.mobile.isSafariMobileBrowser(),d=a(b).coord(!0),e=d.top,f=d.left;"0px"!=a("body").css("border-top-width")&&(e=parseInt(e)+this._getBodyOffset().top),"0px"!=a("body").css("border-left-width")&&(f=parseInt(f)+this._getBodyOffset().left);var g=a.jqx.mobile.isWindowsPhone();if(this.hasTransform||null!=c&&c||g){var h={left:a.jqx.mobile.getLeftPos(b),top:a.jqx.mobile.getTopPos(b)};return h}return{left:f,top:e}},_isRightClick:function(a){var b;if(!a)var a=window.event;return a.which?b=3==a.which:a.button&&(b=2==a.button),b},_openContextMenu:function(a){var b=this,c=b._isRightClick(a);c&&b.open(parseInt(a.clientX)+5,parseInt(a.clientY)+5)},close:function(){var b=this,c=a.data(this.element,"contextMenuOpened"+this.element.id);if(c){{this.host}a.each(b.items,function(){var a=this;a.hasItems&&b._closeItem(b,a)}),a.each(b.items,function(){var b=this;if(1==b.isOpen){$submenu=a(b.subMenuElement);var c=$submenu.closest("div.jqx-menu-popup");c.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),a.data(b.element,"contextMenuOpened"+this.element.id,!1),b._raiseEvent("1",b)}},open:function(b,c){if("popup"==this.mode){var d=0;"block"==this.host.css("display")&&(this.close(),d=this.animationHideDuration);var e=this;(void 0==b||null==b)&&(b=0),(void 0==c||null==c)&&(c=0),setTimeout(function(){e.host.show(e.animationShowDuration),e.host.css("visibility","visible"),a.data(e.element,"contextMenuOpened"+e.element.id,!0),e._raiseEvent("0",e),e.host.css("z-index",9999),void 0!=b&&void 0!=c&&e.host.css({left:b,top:c})},d)}},_renderHover:function(a,b){var c=this;b.ignoretheme||(this.addHandler(a,"mouseenter",function(){b.disabled||b.separator||!c.enableHover||c.disabled||(b.level>0?(a.addClass(c.toThemeProperty("jqx-fill-state-hover")),a.addClass(c.toThemeProperty("jqx-menu-item-hover"))):(a.addClass(c.toThemeProperty("jqx-fill-state-hover")),a.addClass(c.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(a,"mouseleave",function(){b.disabled||b.separator||!c.enableHover||c.disabled||(b.level>0?(a.removeClass(c.toThemeProperty("jqx-fill-state-hover")),a.removeClass(c.toThemeProperty("jqx-menu-item-hover"))):(a.removeClass(c.toThemeProperty("jqx-fill-state-hover")),a.removeClass(c.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(b){var c=null!=b?b.data:this,d=!1;c.autoCloseOnClick&&(a.each(a(b.target).parents(),function(){return this.className.indexOf&&-1!=this.className.indexOf("jqx-menu")?(d=!0,!1):void 0}),d||(b.data=c,c._closeAll(b)))},_autoSizeHorizontalMenuItems:function(){var b=this;if(b.autoSizeMainItems&&"horizontal"==this.mode){var c=this.maxHeight;parseInt(c)>parseInt(this.host.height())&&(c=parseInt(this.host.height())),c=parseInt(this.host.height()),a.each(this.items,function(){var d=this;if($element=a(d.element),0==d.level&&c>0){var e=$element.children().length>0?parseInt($element.children().height()):$element.height(),f=b.host.find("ul:first"),g=parseInt(f.css("padding-top")),h=parseInt(f.css("margin-top")),i=c-2*(h+g),j=parseInt(i)/2-e/2,k=parseInt(j),l=parseInt(j);if($element.css("padding-top",k),$element.css("padding-bottom",l),parseInt($element.outerHeight())>i){var m=1;$element.css("padding-top",k-m),k-=m}}})}a.each(this.items,function(){var b=this;if($element=a(b.element),b.hasItems&&b.level>0&&b.arrow){var c=a(b.arrow),d=a(b.element).height();d>15&&c.css("margin-top",(d-15)/2)}})},_render:function(b,c){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled")));var d=this.popupZIndex,e=[5,5],f=this;a.data(f.element,"animationHideDelay",f.animationHideDelay);var g=this.isTouchDevice(),h=g&&(a.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),i=!1;if(-1!=navigator.platform.toLowerCase().indexOf("win"))if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)this.touchDevice=!0;else if(navigator.userAgent.indexOf("Touch")>=0){var j="MSPointerDown"in window;(j||a.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(i=!0,h=!0,f.clickToOpen=!0,f.autoCloseOnClick=!1,f.enableHover=!1)}a.data(document.body,"menuel",this),this.hasTransform=a.jqx.utilities.hasTransform(this.host),this._applyOrientation(b,c),f.enableRoundedCorners&&this.host.addClass(f.toThemeProperty("jqx-rc-all")),a.each(this.items,function(){var b=this,c=a(b.element);if(c.attr("role","menuitem"),f.enableRoundedCorners&&c.addClass(f.toThemeProperty("jqx-rc-all")),f.removeHandler(c,"click"),f.addHandler(c,"click",function(c){if(!b.disabled&&!f.disabled&&(f._raiseEvent("2",{item:b.element,event:c}),f.autoOpen?!f.autoCloseOnClick||g||f.clickToOpen||b.closeOnClick&&(c.data=f,f._closeAll(c)):b.level>0&&(!f.autoCloseOnClick||g||f.clickToOpen||(c.data=f,f._closeAll(c))),g&&f.autoCloseOnClick&&(c.data=f,b.hasItems||f._closeAll(c)),"A"!=c.target.tagName&&"a"!=c.target.tagName)){var d=null!=b.anchor?a(b.anchor):null;if(null!=d&&d.length>0){var e=d.attr("href"),h=d.attr("target");null!=e&&(null!=h?window.open(e,h):window.location=e)}}}),f.removeHandler(c,"mouseenter"),f.removeHandler(c,"mouseleave"),h||"simple"==f.mode||f._renderHover(c,b,g),null!=b.subMenuElement){var i=a(b.subMenuElement);if("simple"==f.mode)return i.show(),!0;i.wrap('<div class="jqx-menu-popup '+f.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+d+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),i.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-i.outerHeight()}),i.data("timer",{}),b.level>0?i.css("left",-i.outerWidth()):"horizontal"==f.mode&&i.css("left",0),d++;var j=a(b.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(a(b.subMenuElement).outerWidth())+parseInt(e[0])+"px",height:parseInt(a(b.subMenuElement).outerHeight())+parseInt(e[1])+"px"}),k=c.closest("div.jqx-menu-popup");if(k.length>0){var l=i.css("margin-left"),m=i.css("margin-right"),n=i.css("padding-left"),o=i.css("padding-right");j.appendTo(k),i.css("margin-left",l),i.css("margin-right",m),i.css("padding-left",n),i.css("padding-right",o)}else{var l=i.css("margin-left"),m=i.css("margin-right"),n=i.css("padding-left"),o=i.css("padding-right");j.appendTo(a(document.body)),i.css("margin-left",l),i.css("margin-right",m),i.css("padding-left",n),i.css("padding-right",o)}f.clickToOpen?(f.removeHandler(c,"mousedown"),f.addHandler(c,"mousedown",function(a){clearTimeout(i.data("timer").hide),null!=i&&i.stop(),0!=b.level||b.isOpen||(a.data=f,f._closeAll(a)),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b)})):((g||h)&&(f.removeHandler(c,a.jqx.mobile.getTouchEventName("touchstart")),f.addHandler(c,a.jqx.mobile.getTouchEventName("touchstart"),function(a){return clearTimeout(i.data("timer").hide),null!=i&&i.stop(),0!=b.level||b.isOpen||"popup"==f.mode||(a.data=f,f._closeAll(a)),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b),!1})),h||(f.addHandler(c,"mouseenter",function(){if((f.autoOpen||b.level>0&&!f.autoOpen)&&clearTimeout(i.data("timer").hide),b.parentId&&0!=b.parentId&&f.menuElements[b.parentId]){var a=f.menuElements[b.parentId].isOpen;if(!a)return}return(f.autoOpen||b.level>0&&!f.autoOpen)&&f._openItem(f,b),!1}),f.addHandler(c,"mousedown",function(){f.autoOpen||0!=b.level||(clearTimeout(i.data("timer").hide),null!=i&&i.stop(),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b))}),f.addHandler(c,"mouseleave",function(c){if(f.autoCloseOnMouseLeave){clearTimeout(i.data("timer").hide);var d=a(b.subMenuElement),e={left:parseInt(c.pageX),top:parseInt(c.pageY)},g={left:parseInt(d.coord().left),top:parseInt(d.coord().top),width:parseInt(d.outerWidth()),height:parseInt(d.outerHeight())},h=!0;g.left-5<=e.left&&e.left<=g.left+g.width+5&&g.top<=e.top&&e.top<=g.top+g.height&&(h=!1),h&&f._closeItem(f,b,!0)}}),f.removeHandler(j,"mouseenter"),f.addHandler(j,"mouseenter",function(){clearTimeout(i.data("timer").hide)}),f.removeHandler(j,"mouseleave"),f.addHandler(j,"mouseleave",function(){f.autoCloseOnMouseLeave&&(clearTimeout(i.data("timer").hide),clearTimeout(i.data("timer").show),null!=i&&i.stop(),f._closeItem(f,b,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var a=Math.random()+"";for(a=a.replace(".",""),a="99"+a,a/=1;this.items[a];)a=Math.random()+"",a=a.replace(".",""),a/=1;return"menuItem"+a},_createMenu:function(b,c){if(null!=b){void 0==c&&(c=!0),null==c&&(c=!0);for(var d=a(b).find("li"),e=0,f=0;f<d.length;f++){var g=d[f],h=a(g);if(-1!=g.className.indexOf("jqx-menu")||0!=this.autoGenerate){var i=g.id;i||(i=this.createID()),c&&(g.id=i,this.items[e]=new a.jqx._jqxMenu.jqxMenuItem,this.menuElements[i]=this.items[e]),e+=1;var j=0,k=this,l=h.children();l.each(function(){return c||(this.className="",k.autoGenerate&&(a(k.items[e-1].subMenuElement)[0].className="",k.minimized||a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-widget-content")),a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-menu-dropdown")),a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(c&&(k.items[e-1].subMenuElement=this),!1):!k.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(c&&(k.items[e-1].subMenuElement=this),this.className="",k.minimized||a(this).addClass(k.toThemeProperty("jqx-widget-content")),a(this).addClass(k.toThemeProperty("jqx-menu-dropdown")),a(this).addClass(k.toThemeProperty("jqx-popup")),a(this).attr("role","menu"),a(this).addClass(k.rtl?k.toThemeProperty("jqx-rc-l"):k.toThemeProperty("jqx-rc-r")),a(this).addClass(k.toThemeProperty("jqx-rc-b")),!1)});var m=h.parents();m.each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(j=this.id,!1):!k.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(j=this.id,!1)});var n=!1,o=g.getAttribute("type"),p=g.getAttribute("ignoretheme")||g.getAttribute("data-ignoretheme");if(p?("true"==p||1==p)&&(p=!0):p=!1,o){if("separator"==o)var n=!0}else o=g.type;n||(o=j?"sub":"top");var q=this.items[e-1];if(c){q.id=i,q.parentId=j,q.type=o,q.separator=n,q.element=d[f];var r=h.children("a");q.disabled="true"==g.getAttribute("item-disabled")?!0:!1,q.level=h.parents("li").length,q.anchor=r.length>0?r:null}q.ignoretheme=p;var s=this.menuElements[j];null!=s&&s.ignoretheme&&(q.ignoretheme=s.ignoretheme,p=s.ignoretheme),this.autoGenerate&&("separator"==o?(h.removeClass(),h.addClass(this.toThemeProperty("jqx-menu-item-separator")),h.attr("role","separator")):p||(h[0].className="",this.rtl&&h.addClass(this.toThemeProperty("jqx-rtl")),q.level>0&&!k.minimized?(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item"))):(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item-top"))))),q.disabled&&(h.addClass(k.toThemeProperty("jqx-menu-item-disabled")),h.addClass(k.toThemeProperty("jqx-fill-state-disabled"))),c&&!p&&(q.hasItems=h.find("li").length>0,q.hasItems&&q.element&&(a.jqx.aria(a(q.element),"aria-haspopup",!0),q.subMenuElement.id||(q.subMenuElement.id=a.jqx.utilities.createId()),a.jqx.aria(a(q.element),"aria-owns",q.subMenuElement.id)))}}}},destroy:function(){a.jqx.utilities.resize(this.host,null,!0);var b=this.host.closest("div.jqx-menu-wrapper");b.remove(),a("#menuWrapper"+this.element.id).remove();var c=this;this.removeHandler(a(document),"mousedown.menu"+this.element.id,c._closeAfterClick),this.removeHandler(a(document),"mouseup.menu"+this.element.id,c._closeAfterClick),a.data(document.body,"jqxMenuOldHost"+this.element.id,null),this.isTouchDevice()&&this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,this._closeAfterClick,this),a(window).off&&a(window).off("resize.menu"+c.element.id),a.each(this.items,function(){var b=this,d=a(b.element);c.removeHandler(d,"click"),c.removeHandler(d,"selectstart"),c.removeHandler(d,"mouseenter"),c.removeHandler(d,"mouseleave"),c.removeHandler(d,"mousedown"),c.removeHandler(d,"mouseleave");var e=a(b.subMenuElement),f=e.closest("div.jqx-menu-popup");f.remove(),delete this.subMenuElement,delete this.element}),a.data(document.body,"menuel",null),delete this.menuElements,this.items=new Array,delete this.items;var d=a.data(this.element,"jqxMenu");d&&delete d.instance,this.host.removeClass(),this.host.remove(),delete this.host,delete this.element},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this;var e=new jQuery.Event(d);"2"==b&&(args=c.item,args.owner=this,a.extend(e,c.event),e.type="itemclick"),e.owner=this,e.args=args;var f=this.host.trigger(e);return f},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&("disabled"==c&&(b.disabled?(b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.host.addClass(b.toThemeProperty("jqx-menu-disabled"))):(b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.host.removeClass(b.toThemeProperty("jqx-menu-disabled")))),e!=d)){if("touchMode"==c&&(this._isTouchDevice=null,b._render(e,d)),"source"==c&&null!=b.source){var f=b.loadItems(b.source);b.element.innerHTML=f;var g=b.host.find("ul:first");g.length>0&&(b.refresh(),b._createMenu(g[0]),b._render())}"autoCloseOnClick"==c?0==e?b.removeHandler(a(document),"mousedown.menu"+this.element.id,b._closeAll):b.addHandler(a(document),"mousedown.menu"+this.element.id,b,b._closeAll):"mode"==c||"width"==c||"height"==c||"showTopLevelArrows"==c?(b.refresh(),"mode"==c?b._render(e,d):b._applyOrientation()):"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host)}}})}(jQuery),function(a){a.jqx._jqxMenu.jqxMenuItem=function(a,b,c){var d={id:a,parentId:b,parentItem:null,anchor:null,type:c,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return d}}(jQuery),function(a){a.jqx.jqxWidget("jqxCheckBox","",{}),a.extend(a.jqx._jqxCheckBox.prototype,{defineInstance:function(){this.animationShowDelay=300,this.animationHideDelay=300,this.width=null,this.height=null,this.boxSize="13px",this.checked=!1,this.hasThreeStates=!1,this.disabled=!1,this.enableContainerClick=!0,this.locked=!1,this.groupName="",this.keyboardCheck=!0,this.enableHover=!0,this.hasInput=!0,this.rtl=!1,this.updated=null,this.disabledContainer=!1,this._canFocus=!0,this.aria={"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["checked","unchecked","indeterminate","change"]},createInstance:function(){this.render()},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b),this.input.val(this.checked),this.host.attr("role","checkbox"),a.jqx.aria(this)}},render:function(){this.init=!0;var b=this;this.setSize(),this.propertyChangeMap.width=function(){b.setSize()},this.propertyChangeMap.height=function(){b.setSize()},this._removeHandlers(),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=13);var c=parseInt(this.boxSize)+"px";this.checkbox=a('<div><div style="width: '+c+"; height: "+c+';"><span style="width: '+c+"; height: "+c+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=a('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=a(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var d=this.element.getAttribute("checked");("checked"==d||"true"==d||1==d)&&(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1},refresh:function(a){a||(this.setSize(),this._render())},resize:function(a,b){this.width=a,this.height=b,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height)},_addHandlers:function(){var b=this,c=a.jqx.mobile.isTouchDevice(),d="mousedown";c&&(d=a.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,d,function(a){return b.disabled||b.enableContainerClick||b.locked?void 0:(b.toggle(),b.updated&&(a.owner=b,b.updated(a,b.checked,b.oldChecked)),a.preventDefault&&a.preventDefault(),!1)}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(a){return b.disabled||b.locked||!b.keyboardCheck||32!=a.keyCode?void 0:b._canFocus?(b.toggle(),b.updated&&(a.owner=b,b.updated(a,b.checked,b.oldChecked)),a.preventDefault&&a.preventDefault(),!1):!0}),this.addHandler(this.host,d,function(a){return b.disabled||!b.enableContainerClick||b.locked?void 0:(b.toggle(),a.preventDefault&&a.preventDefault(),!1)}),this.addHandler(this.host,"selectstart",function(a){return!b.disabled&&b.enableContainerClick?(a.preventDefault&&a.preventDefault(),!1):void 0}),this.addHandler(this.host,"mouseup",function(a){!b.disabled&&b.enableContainerClick&&a.preventDefault&&a.preventDefault()}),this.addHandler(this.host,"focus",function(a){return b.disabled||b.locked?void 0:b._canFocus?(b.enableHover&&b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-focus")),a.preventDefault&&a.preventDefault(),b.hovered=!0,!1):!0}),this.addHandler(this.host,"blur",function(a){return b.disabled||b.locked?void 0:b._canFocus?(b.enableHover&&b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-focus")),a.preventDefault&&a.preventDefault(),b.hovered=!1,!1):!0}),this.addHandler(this.host,"mouseenter",function(a){return b.locked&&b.host.css("cursor","arrow"),b.enableHover&&!b.disabled&&b.enableContainerClick&&!b.locked?(b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-hover")),a.preventDefault&&a.preventDefault(),b.hovered=!0,!1):void 0}),this.addHandler(this.host,"mouseleave",function(a){return b.enableHover&&!b.disabled&&b.enableContainerClick&&!b.locked?(b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover")),a.preventDefault&&a.preventDefault(),b.hovered=!1,!1):void 0}),this.addHandler(this.box,"mouseenter",function(){b.locked||b.disabled||b.enableContainerClick||(b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){b.disabled||b.enableContainerClick||(b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(a){}},_removeHandlers:function(){var b=a.jqx.mobile.isTouchDevice(),c="mousedown";b&&(c="touchend"),this.box&&(this.removeHandler(this.box,c),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,c),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},_setState:function(a){this.checked!=a&&(this.checked=a,this.checkMark[0].className=this.checked?this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.toThemeProperty("jqx-checkbox-check-indeterminate"):"")},val:function(a){return 0==arguments.length||null!=a&&"object"==typeof a?this.checked:("string"==typeof a?("true"==a&&this.check(),"false"==a&&this.uncheck(),""==a&&this.indeterminate()):(1==a&&this.check(),0==a&&this.uncheck(),null==a&&this.indeterminate()),this.checked)},check:function(){this.checked=!0;var b=this;if(this.checkMark.removeClass(),a.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var c=a.find(this.toThemeProperty(".jqx-checkbox",!0));a.each(c,function(){var c=a(this).jqxCheckBox("groupName");c==b.groupName&&this!=b.element&&a(this).jqxCheckBox("uncheck")})}this._raiseEvent("0",!0),this._raiseEvent("3",{checked:!0}),void 0!=this.input&&(this.input.val(this.checked),a.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1;var b=this;a.jqx.browser.msie||0==this.animationHideDelay?""!=b.checkMark[0].className&&(b.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=b.checkMark[0].className&&(b.checkMark[0].className="")})),this._raiseEvent("1"),this._raiseEvent("3",{checked:!1}),void 0!=this.input&&(this.input.val(this.checked),a.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),a.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),void 0!=this.input&&(this.input.val(this.checked),a.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){if(!this.disabled&&!this.locked){if(null!=this.groupName&&this.groupName.length>0)return void(1!=this.checked&&(this.checked=!0,this.updateStates()));this.oldChecked=this.checked,this.checked=1==this.checked?this.hasThreeStates?null:!1:null!=this.checked,this.updateStates(),void 0!=this.input&&this.input.val(this.checked)}},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),a.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,a.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(a,b){if(!this.init){var c=this.events[a],d=new jQuery.Event(c);d.owner=this,d.args=b;try{var e=this.host.trigger(d)}catch(f){}return e}},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized){if(c!=b.enableContainerClick||b.disabled||b.locked||(e?b.host.css("cursor","pointer"):b.host.css("cursor","auto")),"rtl"==c&&(e?(b.box.addClass(b.toThemeProperty("jqx-checkbox-rtl")),b.host.addClass(b.toThemeProperty("jqx-rtl"))):(b.box.removeClass(b.toThemeProperty("jqx-checkbox-rtl")),b.host.removeClass(b.toThemeProperty("jqx-rtl")))),"boxSize"==c&&b.render(),"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),"checked"==c&&e!=d)switch(e){case!0:b.check();break;case!1:b.uncheck();break;case null:b.indeterminate()}"disabled"==c&&e!=d&&(e?b.disable():b.enable())}}})}(jQuery),function(a){a.extend(a.jqx._jqxGrid.prototype,{savestate:function(b){var c=this.getstate();return void 0===b||a.isEmptyObject(b)||(-1==b.indexOf("sort")&&(delete c.sortcolumn,delete c.sortdirection),-1==b.indexOf("pager")&&(delete c.pagenum,delete c.pagesizeoptions,delete c.pagesize),-1==b.indexOf("selection")&&(delete c.selectedcells,delete c.selectedrowindexes,delete c.selectedrowindex),-1==b.indexOf("grouping")&&delete c.groups,-1==b.indexOf("filter")&&delete c.filters,a.each(this.columns.records,function(){var a=c.columns[this.datafield];
-1==b.indexOf("hidden_columns")&&delete a.hidden,-1==b.indexOf("reorder")&&delete a.index,-1==b.indexOf("columns_width")&&delete a.width,-1==b.indexOf("columns_text")&&delete a.text,-1==b.indexOf("alignment")&&(delete a.align,delete a.cellsalign)})),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(c)),this._savedstate=c,c},loadstate:function(b,c){var d="";if(void 0!=b&&void 0!=b.width)d=b;else if(window.localStorage){var e=window.localStorage["jqxGrid"+this.element.id];if(e)var d=a.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var d=this._savedstate;if(null!=d&&""!==d){(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&this.source.beginUpdate();var f=d;if(void 0!==f.width&&(this.width=f.width),void 0!==f.height&&(this.height=f.height),this.pageable&&(void 0!=f.pagesize&&(this.pagesize=f.pagesize,this.dataview.pagesize=f.pagesize),void 0!=f.pagenum&&(this.dataview.pagenum=f.pagenum),void 0!=f.pagesizeoptions&&(this.pagesizeoptions=f.pagesizeoptions),this.pagesizeoptions)){for(var g=0,h=0;h<this.pagesizeoptions.length;h++)this.pagesize>=this.pagesizeoptions[h]&&(g=h);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:g})}if(this.sortable)if(this._loading&&(this._loading=!1),f.sortdirection){if(f.sortdirection.ascending||f.sortdirection.descending){this.dataview.sortfield=f.sortcolumn;var i=f.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=i,this.source.sortcolumn=f.sortcolumn,this.source.sortdirection=i,this.sortby(f.sortcolumn,i)}}else null==this.dataview.sortfield||"asc"!=this.dataview.sortfielddirection&&"desc"!=this.dataview.sortfielddirection||this.sortby(this.dataview.sortfield,null);this.groupable&&f.groups&&(this.dataview.groups=f.groups,this.groups=f.groups),this.loadingstate=!0,this.virtualsizeinfo&&this._loadselectionandcolumnwidths(f),this.loadingstate=!1,(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&(1==c?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(b){this.loadingstate=!0;var c="";if(void 0!=b&&void 0!=b.width)c=b;else if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id])var c=a.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var c=this._savedstate;if(null!=c&&""!=c){var d=this._loading;this._loading=!1;var e=c,f=this,g=!1,h=[];h.length=0;if(a.each(this.columns.records,function(){var a=e.columns[this.datafield];if(void 0!=a){if(this.text!=a.text&&(g=!0),this.hidden!=a.hidden&&(g=!0),void 0!==a.width&&(this.width=a.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),void 0!==a.hidden&&(this.hidden=a.hidden),void 0!==a.pinned&&(this.pinned=a.pinned),void 0!==a.groupable&&(this.groupable=a.groupable),void 0!==a.resizable&&(this.resizable=a.resizable),this.draggable=a.draggable,void 0!==a.text&&(this.text=a.text),void 0!==a.align&&(this.align=a.align),void 0!==a.cellsalign&&(this.cellsalign=a.cellsalign),f._columns)for(var b=0;b<f._columns.length;b++)f._columns[b].datafield==this.datafield&&(void 0!==a.hidden&&(f._columns[b].hidden=a.hidden),void 0!==a.width&&void 0!=f._columns[b].width&&(f._columns[b].width=a.width));void 0!==a.index&&(h[this.datafield]=a.index,h.length++)}}),h.length>0){if(this.setcolumnindex){var i=this.rowdetails?1:0;i+=this.groupable?this.groups.length:0;for(var j=new Array,k=0;k<this.columns.records.length;k++)j.push(this.columns.records[k]);for(var l=0,k=0;k<j.length;k++){var m=j[k],n=h[m.datafield];this.groupable&&m.grouped?l++:0==k&&this.rowdetails?l++:(k!==n||this.groupable||this.rowdetails)&&f.setcolumnindex(m.datafield,l+n,!1)}}this.prerenderrequired=!0,this.groupable&&this._refreshdataview(),this.rendergridcontent(!0),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._renderrows(this.virtualsizeinfo)}if(this.filterable&&void 0!==e.filters){this.clearfilters&&(this._loading=!1,this.clearfilters(!1));for(var o="",p=new a.jqx.filter,k=0;k<e.filters.filterscount;k++){var q=e.filters["filtercondition"+k],r=e.filters["filterdatafield"+k],m=this.getcolumn(r);if(r!=o&&(p=new a.jqx.filter),o=r,m&&m.filterable){var s=e.filters["filtervalue"+k],t=e.filters["filteroperator"+k],u=e.filters["filtertype"+k];if("datefilter"==u)var v=p.createfilter(u,s,q,null,m.cellsformat,this.gridlocalization);else var v=p.createfilter(u,s,q);if(p.addfilter(t,v),this.showfilterrow){var w=m._filterwidget,x=m._filterwidget.parent();if(null!=w)switch(m.filtertype){case"number":if(x.find("input").val(s),this.host.jqxDropDownList){var y=p.getoperatorsbyfiltertype("numericfilter");w.find(".filter").jqxDropDownList("selectIndex",y.indexOf(q))}break;case"date":if(this.host.jqxDateTimeInput){var z=e.filters["filtervalue"+(k+1)],u=e.filters["filtertype"+k],v=p.createfilter(u,z,"LESS_THAN_OR_EQUAL");p.addfilter(t,v);var A=new Date(s),B=new Date(z);isNaN(A)&&(A=a.jqx.dataFormat.tryparsedate(s)),isNaN(B)&&(B=a.jqx.dataFormat.tryparsedate(s)),a(x.children()[0]).jqxDateTimeInput("setRange",A,B),k++}else w.val(s);break;case"textbox":case"default":w.val(s),f["_oldWriteText"+w[0].id]=s;break;case"list":if(this.host.jqxDropDownList){var C=a(x.children()[0]).jqxDropDownList("getItems"),n=-1;a.each(C,function(a){return this.value==s?(n=a,!1):void 0}),a(x.children()[0]).jqxDropDownList("selectIndex",n)}else w.val(s);break;case"checkedlist":this.host.jqxDropDownList||w.val(s);break;case"bool":case"boolean":this.host.jqxCheckBox?a(x.children()[0]).jqxCheckBox({checked:s}):w.val(s)}}this.addfilter(r,p)}}e.filters&&e.filters.filterscount>0&&(this.applyfilters(),this.showfilterrow&&a.each(this.columns.records,function(){if("checkedlist"==this.filtertype&&this.filterable&&f.host.jqxDropDownList){var b=this,c=b._filterwidget,d=(c.jqxDropDownList("getItems"),c.jqxDropDownList("listBox"));if(d.checkAll(!1),b.filter){d.uncheckAll(!1);for(var e=b.filter.getfilters(),g=0;g<d.items.length;g++){var h=d.items[g].label;a.each(e,function(){return"NOT_EQUAL"==this.condition?!0:void(h==this.value&&d.checkIndex(g,!1,!1))})}d._updateCheckedItems();var i=d.getCheckedItems().length;d.items.length!=i&&i>0&&d.host.jqxListBox("indeterminateIndex",0,!0,!1)}}})),this.pageable&&void 0!==e.pagenum&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(e.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(e.pagenum))}if(e.selectedrowindexes&&e.selectedrowindexes&&e.selectedrowindexes.length>0&&(this.selectedrowindexes=e.selectedrowindexes,this.selectedrowindex=e.selectedrowindex,"checkbox"===this.selectionmode&&this._updatecheckboxselection()),e.selectedcells&&this._applycellselection&&a.each(e.selectedcells,function(){f._applycellselection(this.rowindex,this.datafield,!0,!1)}),this.groupable&&void 0!==e.groups)return this._refreshdataview(),this.render(),this._loading=d,void(this.loadingstate=!1);if(g){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=d,this.loadingstate=!1,this.updating())return!1}else this._loading=d,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1,this._loading=d,this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var b=this.getdatainformation(),c={};if(c.width=this.width,c.height=this.height,c.pagenum=b.paginginformation.pagenum,c.pagesize=b.paginginformation.pagesize,c.pagesizeoptions=this.pagesizeoptions,c.sortcolumn=b.sortinformation.sortcolumn,c.sortdirection=b.sortinformation.sortdirection,null!=this.selectionmode&&this.getselectedcells)if(-1!=this.selectionmode.toString().indexOf("cell")){var d=this.getselectedcells(),e=new Array;a.each(d,function(){e.push({datafield:this.datafield,rowindex:this.rowindex})}),c.selectedcells=e}else{var f=this.getselectedrowindexes();c.selectedrowindexes=f,c.selectedrowindex=this.selectedrowindex}var g={},h=0;if(this.dataview.filters)for(var i=0;i<this.dataview.filters.length;i++){var j=this.dataview.filters[i].datafield,k=this.dataview.filters[i].filter,l=k.getfilters();g[j+"operator"]=k.operator;for(var m=0;m<l.length;m++){if(l[m].datafield=j,"datefilter"==l[m].type)if(l[m].value&&l[m].value.toLocaleString){var n=this.getcolumn(l[m].datafield);if(n.cellsformat){var o=this.source.formatDate(l[m].value,n.cellsformat,this.gridlocalization);g["filtervalue"+h]=o?o:l[m].value.toLocaleString()}else g["filtervalue"+h]=l[m].value.toLocaleString()}else g["filtervalue"+h]=l[m].value;else g["filtervalue"+h]=l[m].value;g["filtercondition"+h]=l[m].condition,g["filteroperator"+h]=l[m].operator,g["filterdatafield"+h]=j,g["filtertype"+h]=l[m].type,h++}}g.filterscount=h,c.filters=g,c.groups=this.groups,c.columns={};var p=0;return this.columns.records&&a.each(this.columns.records,function(){if(!this.datafield)return!0;var a={};a.width=this.width,a.hidden=this.hidden,a.pinned=this.pinned,a.groupable=this.groupable,a.resizable=this.resizable,a.draggable=this.draggable,a.text=this.text,a.align=this.align,a.cellsalign=this.cellsalign,a.index=p++,c.columns[this.datafield]=a}),c},_stringify:function(a){if(window.JSON&&"function"==typeof window.JSON.stringify){var b=this,c="";try{c=window.JSON.stringify(a)}catch(d){return b._str("",{"":a})}return c}var c=this._str("",{"":a});return c},_quote:function(a){var b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+a.replace(b,function(a){var b=c[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(a){for(var b,c=a.length,d=[],b=0;c>b;b++)d.push(this._str(b,a)||"null");return"["+d.join(",")+"]"},_stringifyObject:function(a){var b,c,d=[],e=this;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c=e._str(b,a),c&&d.push(e._quote(b)+":"+c));return"{"+d.join(",")+"}"},_stringifyReference:function(a){switch(Object.prototype.toString.call(a)){case"[object Array]":return this._stringifyArray(a)}return this._stringifyObject(a)},_stringifyPrimitive:function(a,b){switch(b){case"string":return this._quote(a);case"number":return isFinite(a)?a:"null";case"boolean":return a}return"null"},_str:function(a,b){var c=b[a],d=typeof c;return c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(a),d=typeof c),/(number|string|boolean)/.test(d)||!c&&"object"===d?this._stringifyPrimitive(c,d):this._stringifyReference(c)}})}(jQuery),function(a){a.jqx.jqxWidget("jqxDraw","",{}),a.extend(a.jqx._jqxDraw.prototype,{defineInstance:function(){var b={renderEngine:""};a.extend(!0,this,b);var c=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var d in c)this._addFn(a.jqx._jqxDraw.prototype,c[d])},_addFn:function(a,b){a[b]||(a[b]=function(){return this.renderer[b].apply(this.renderer,arguments)})},createInstance:function(){},_initRenderer:function(b){return a.jqx.createRenderer(this,b)},_internalRefresh:function(){var b=this;if(!a.jqx.isHidden(b.host)){b.renderer||(b.host.empty(),b._initRenderer(b.host));var c=b.renderer;if(c){var d=c.getRect();b._render({x:1,y:1,width:d.width,height:d.height}),c instanceof a.jqx.HTML5Renderer&&c.refresh()}}},_saveAsImage:function(b,c,d,e){return a.jqx._widgetToImage(this,b,c,d,e)},_render:function(a){{var b=this;b.renderer}b._plotRect=a},refresh:function(){this._internalRefresh()},getSize:function(){var a=this._plotRect;return{width:a.width,height:a.height}},saveAsPNG:function(a,b,c){return this._saveAsImage("png",a,b,c)},saveAsJPEG:function(a,b,c){return this._saveAsImage("jpeg",a,b,c)}})}(jQuery),function(a){a.jqx.toGreyScale=function(b){if(-1==b.indexOf("#"))return b;var c=a.jqx.cssToRgb(b);c[0]=c[1]=c[2]=Math.round(.3*c[0]+.59*c[1]+.11*c[2]);var d=a.jqx.rgbToHex(c[0],c[1],c[2]);return"#"+d[0]+d[1]+d[2]},a.jqx.adjustColor=function(b,c){if("string"!=typeof b)return"#000000";if(-1==b.indexOf("#"))return b;var d=a.jqx.cssToRgb(b),e=a.jqx.rgbToHsl(d);e[2]=Math.min(1,e[2]*c),e[1]=Math.min(1,e[1]*c*1.1),d=a.jqx.hslToRgb(e);for(var b="#",f=0;3>f;f++){var g=Math.round(d[f]);g=a.jqx.decToHex(g),1==g.toString().length&&(b+="0"),b+=g}return b.toUpperCase()},a.jqx.decToHex=function(a){return a.toString(16)},a.jqx.hexToDec=function(a){return parseInt(a,16)},a.jqx.rgbToHex=function(b,c,d){return[a.jqx.decToHex(b),a.jqx.decToHex(c),a.jqx.decToHex(d)]},a.jqx.hexToRgb=function(b,c,d){return[a.jqx.hexToDec(b),a.jqx.hexToDec(c),a.jqx.hexToDec(d)]},a.jqx.cssToRgb=function(b){return b.indexOf("rgb")<=-1?a.jqx.hexToRgb(b.substring(1,3),b.substring(3,5),b.substring(5,7)):b.substring(4,b.length-1).split(",")},a.jqx.hslToRgb=function(c){var d=parseFloat(c[0]),e=parseFloat(c[1]),f=parseFloat(c[2]);if(0==e)r=g=b=f;else{var h=.5>f?f*(1+e):f+e-f*e,i=2*f-h;r=a.jqx.hueToRgb(i,h,d+1/3),g=a.jqx.hueToRgb(i,h,d),b=a.jqx.hueToRgb(i,h,d-1/3)}return[255*r,255*g,255*b]},a.jqx.hueToRgb=function(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a},a.jqx.rgbToHsl=function(a){var b,c,d=parseFloat(a[0])/255,e=parseFloat(a[1])/255,f=parseFloat(a[2])/255,g=Math.max(d,e,f),h=Math.min(d,e,f),i=(g+h)/2;if(g==h)b=c=0;else{var j=g-h;switch(c=i>.5?j/(2-g-h):j/(g+h),g){case d:b=(e-f)/j+(f>e?6:0);break;case e:b=(f-d)/j+2;break;case f:b=(d-e)/j+4}b/=6}return[b,c,i]},a.jqx.swap=function(a,b){var c=a;a=b,b=c},a.jqx.getNum=function(b){if(a.isArray(b)){for(var c=0;c<b.length;c++)if(!isNaN(b[c]))return b[c]}else if(isNaN(b))return 0;return 0},a.jqx._ptdist=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))},a.jqx._ptrnd=function(b){if(!document.createElementNS)return Math.round(b)==b?b:a.jqx._rnd(b,1,!1,!0);var c=a.jqx._rnd(b,.5,!1,!0);return.5!=Math.abs(c-Math.round(c))?c>b?c-.5:c+.5:c},a.jqx._rup=function(a){var b=Math.round(a);return a>b&&b++,b},a.jqx.log=function(a,b){return Math.log(a)/(b?Math.log(b):1)},a.jqx._mod=function(a,b){var c=Math.abs(a>b?b:a),d=1;if(0!=c)for(;100>c*d;)d*=10;return a*=d,b*=d,a%b/d},a.jqx._rnd=function(b,c,d,e){if(isNaN(b))return b;var f=b-(1==e?b%c:a.jqx._mod(b,c));return b==f?f:(d?b>f&&(f+=c):f>b&&(f-=c),f)},a.jqx.commonRenderer={pieSlicePath:function(a,b,c,d,e,f,g){d||(d=1);var h=Math.abs(e-f),i=h>180?1:0;h>=360&&(f=e+359.99);var j=e*Math.PI*2/360,k=f*Math.PI*2/360,l=a,m=a,n=b,o=b,p=!isNaN(c)&&c>0;if(p&&(g=0),g+c>0){if(g>0){var q=h/2+e,r=q*Math.PI*2/360;a+=g*Math.cos(r),b-=g*Math.sin(r)}if(p){var s=c;l=a+s*Math.cos(j),n=b-s*Math.sin(j),m=a+s*Math.cos(k),o=b-s*Math.sin(k)}}var t=a+d*Math.cos(j),u=a+d*Math.cos(k),v=b-d*Math.sin(j),w=b-d*Math.sin(k),x="";return p?(x="M "+m+","+o,x+=" a"+c+","+c,x+=" 0 "+i+",1 "+(l-m)+","+(n-o),x+=" L"+t+","+v,x+=" a"+d+","+d,x+=" 0 "+i+",0 "+(u-t)+","+(w-v)):(x="M "+u+","+w,x+=" a"+d+","+d,x+=" 0 "+i+",1 "+(t-u)+","+(v-w),x+=" L"+a+","+b+" Z"),x},measureText:function(b,c,d,e,f){var g=f._getTextParts(b,c,d),h=g.width,i=g.height;0==e&&(i/=.6);var j={};if(isNaN(c)&&(c=0),0==c)j={width:a.jqx._rup(h),height:a.jqx._rup(i)};else{var k=c*Math.PI*2/360,l=Math.abs(Math.sin(k)),m=Math.abs(Math.cos(k)),n=Math.abs(h*l+i*m),o=Math.abs(h*m+i*l);j={width:a.jqx._rup(o),height:a.jqx._rup(n)}}return e&&(j.textPartsInfo=g),j},alignTextInRect:function(b,c,d,e,f,g,h,i,j,k){var l=j*Math.PI*2/360,m=Math.sin(l),n=Math.cos(l),o=f*m,p=f*n;"center"==h||""==h||"undefined"==h?b+=d/2:"right"==h&&(b+=d),"center"==i||"middle"==i||""==i||"undefined"==i?c+=e/2:"bottom"==i?c+=e-g/2:"top"==i&&(c+=g/2),k=k||"";var q="middle";-1!=k.indexOf("top")?q="top":-1!=k.indexOf("bottom")&&(q="bottom");var r="center";return-1!=k.indexOf("left")?r="left":-1!=k.indexOf("right")&&(r="right"),"center"==r?(b-=p/2,c-=o/2):"right"==r&&(b-=p,c-=o),"top"==q?(b-=g*m,c+=g*n):"middle"==q&&(b-=g*m/2,c+=g*n/2),b=a.jqx._rup(b),c=a.jqx._rup(c),{x:b,y:c}}},a.jqx.svgRenderer=function(){},a.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(a){var b="<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td><div class='chartContainer' onselectstart='return false;'></div></td></tr></table>";a.append(b),this.host=a;var c=a.find(".chartContainer");c[0].style.width=a.width()+"px",c[0].style.height=a.height()+"px";try{var d=document.createElementNS(this._svgns,"svg");d.setAttribute("id","svgChart"),d.setAttribute("version","1.1"),d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("overflow","hidden"),c[0].appendChild(d),this.canvas=d}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var b=a(this.canvas).position(),c=parseFloat(b.left)==parseInt(b.left),d=parseFloat(b.top)==parseInt(b.top);if(a.jqx.browser.msie){for(var c=!0,d=!0,e=this.host,f=0,g=0;e&&e.position&&e[0].parentNode;){var h=e.position();f+=parseFloat(h.left)-parseInt(h.left),g+=parseFloat(h.top)-parseInt(h.top),e=e.parent()}c=parseFloat(f)==parseInt(f),d=parseFloat(g)==parseInt(g)}c||(this.host.find("#tdLeft")[0].style.width="0.5px"),d||(this.host.find("#tdTop")[0].style.height="0.5px")},_layout:function(){var b=(a(this.canvas).offset(),this.host.find(".chartContainer"));this._width=Math.max(a.jqx._rup(this.host.width())-1,0),this._height=Math.max(a.jqx._rup(this.host.height())-1,0),b[0].style.width=this._width,b[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(a){if(void 0!=a){this.removeHandler(a);try{for(;a.firstChild;)this.removeElement(a.firstChild);a.parentNode?a.parentNode.removeChild(a):this.canvas.removeChild(a)}catch(b){}}},_openGroups:[],beginGroup:function(){var a=this._activeParent(),b=document.createElementNS(this._svgns,"g");return a.appendChild(b),this._openGroups.push(b),b},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(a){var b=document.createElementNS(this._svgns,"clipPath"),c=document.createElementNS(this._svgns,"rect");return this.attr(c,{x:a.x,y:a.y,width:a.width,height:a.height,fill:"none"}),this._clipId=this._clipId||0,b.id="cl"+this._id+"_"+(++this._clipId).toString(),b.appendChild(c),this._defs.appendChild(b),b},setClip:function(a,b){return this.attr(a,{"clip-path":"url(#"+b.id+")"})},_clipId:0,addHandler:function(b,c,d){a(b).on?a(b).on(c,d):a(b).bind(c,d)},removeHandler:function(b,c,d){a(b).off?a(b).off(c,d):a(b).unbind(c,d)},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},shape:function(a,b){var c=document.createElementNS(this._svgns,a);if(!c)return void 0;for(var d in b)c.setAttribute(d,b[d]);return this._activeParent().appendChild(c),c},_getTextParts:function(b,c,d){var e={width:0,height:0,parts:[]},f=.6,g=b.toString().split("<br>"),h=this._activeParent(),i=document.createElementNS(this._svgns,"text");this.attr(i,d);for(var j=0;j<g.length;j++){var k=g[j],l=i.ownerDocument.createTextNode(k);i.appendChild(l),h.appendChild(i);var m;try{m=i.getBBox()}catch(n){}var o=a.jqx._rup(m.width),p=a.jqx._rup(m.height*f);i.removeChild(l),e.width=Math.max(e.width,o),e.height+=p+(j>0?4:0),e.parts.push({width:o,height:p,text:k})}return h.removeChild(i),e},_measureText:function(b,c,d,e){return a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(b,c,d,e,f,g,h,i,j,k,l){var m,n=this._measureText(b,g,h,!0),o=n.textPartsInfo,p=o.parts;if(j||(j="center"),k||(k="center"),(p.length>1||i)&&(m=this.beginGroup()),i){var q=this.createClipRect({x:a.jqx._rup(c)-1,y:a.jqx._rup(d)-1,width:a.jqx._rup(e)+2,height:a.jqx._rup(f)+2});this.setClip(m,q)}var r=this._activeParent(),s=0,t=0;s=o.width,t=o.height,(isNaN(e)||0>=e)&&(e=s),(isNaN(f)||0>=f)&&(f=t);var u=e||0,v=f||0;if(!g||0==g){d+=t,"center"==k||"middle"==k?d+=(v-t)/2:"bottom"==k&&(d+=v-t),e||(e=s),f||(f=t);for(var r=this._activeParent(),w=0,x=p.length-1;x>=0;x--){var y=document.createElementNS(this._svgns,"text");this.attr(y,h),this.attr(y,{cursor:"default"});var z=y.ownerDocument.createTextNode(p[x].text);y.appendChild(z);var A=c,B=p[x].width,C=p[x].height;"center"==j?A+=(u-B)/2:"right"==j&&(A+=u-B),this.attr(y,{x:a.jqx._rup(A),y:a.jqx._rup(d+w),width:a.jqx._rup(B),height:a.jqx._rup(C)}),r.appendChild(y),w-=p[x].height+4}return m?(this.endGroup(),m):y}var D=a.jqx.commonRenderer.alignTextInRect(c,d,e,f,s,t,j,k,g,l);c=D.x,d=D.y;var E=this.shape("g",{transform:"translate("+c+","+d+")"}),F=this.shape("g",{transform:"rotate("+g+")"});E.appendChild(F);for(var w=0,x=p.length-1;x>=0;x--){var G=document.createElementNS(this._svgns,"text");this.attr(G,h),this.attr(G,{cursor:"default"});var z=G.ownerDocument.createTextNode(p[x].text);G.appendChild(z);var A=0,B=p[x].width,C=p[x].height;"center"==j?A+=(o.width-B)/2:"right"==j&&(A+=o.width-B),this.attr(G,{x:a.jqx._rup(A),y:a.jqx._rup(w),width:a.jqx._rup(B),height:a.jqx._rup(C)}),F.appendChild(G),w-=C+4}return r.appendChild(E),m&&this.endGroup(),E},line:function(a,b,c,d,e){var f=this.shape("line",{x1:a,y1:b,x2:c,y2:d});return this.attr(f,e),f},path:function(a,b){var c=this.shape("path");return c.setAttribute("d",a),b&&this.attr(c,b),c},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=a.jqx._rup(d),e=a.jqx._rup(e);var g=this.shape("rect",{x:b,y:c,width:d,height:e});return f&&this.attr(g,f),g},circle:function(a,b,c,d){var e=this.shape("circle",{cx:a,cy:b,r:c});return d&&this.attr(e,d),e},pieSlicePath:function(b,c,d,e,f,g,h){return a.jqx.commonRenderer.pieSlicePath(b,c,d,e,f,g,h)},pieslice:function(a,b,c,d,e,f,g,h){var i=this.pieSlicePath(a,b,c,d,e,f,g),j=this.shape("path");return j.setAttribute("d",i),h&&this.attr(j,h),j},attr:function(a,b){if(a&&b)for(var c in b)"textContent"==c?a.textContent=b[c]:a.setAttribute(c,b[c])},getAttr:function(a,b){return a.getAttribute(b)},_gradients:{},_toLinearGradient:function(b,c,d){var e="grd"+this._id+b.replace("#","")+(c?"v":"h"),f="url(#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"linearGradient");this.attr(g,{x1:"0%",y1:"0%",x2:c?"0%":"100%",y2:c?"100%":"0%",id:e});for(var h in d){var i=document.createElementNS(this._svgns,"stop"),j="stop-color:"+a.jqx.adjustColor(b,d[h][1]);this.attr(i,{offset:d[h][0]+"%",style:j}),g.appendChild(i)}return this._defs.appendChild(g),this._gradients[f]=!0,f},_toRadialGradient:function(b,c,d){var e="grd"+this._id+b.replace("#","")+"r"+(void 0!=d?d.key:""),f="url(#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"radialGradient");void 0==d?this.attr(g,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:e}):this.attr(g,{cx:d.x,cy:d.y,r:d.outerRadius,id:e,gradientUnits:"userSpaceOnUse"});for(var h in c){var i=document.createElementNS(this._svgns,"stop"),j="stop-color:"+a.jqx.adjustColor(b,c[h][1]);this.attr(i,{offset:c[h][0]+"%",style:j}),g.appendChild(i)}return this._defs.appendChild(g),this._gradients[f]=!0,f}},a.jqx.vmlRenderer=function(){},a.jqx.vmlRenderer.prototype={init:function(b){var c="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";b.append(c),this.host=b;var d=b.find(".chartContainer");d[0].style.width=b.width()+"px",d[0].style.height=b.height()+"px";var e=!0;try{for(var f=0;f<document.namespaces.length;f++)if("v"==document.namespaces[f].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[f].urn){e=!1;break}}catch(g){return!1}return a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(e&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):e&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=d[0],this._width=Math.max(a.jqx._rup(d.width()),0),this._height=Math.max(a.jqx._rup(d.height()),0),d[0].style.width=this._width+2,d[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(a){null!=a&&(this.removeHandler(a),a.parentNode.removeChild(a))},_openGroups:[],beginGroup:function(){var a=this._activeParent(),b=document.createElement("v:group");return b.style.position="absolute",b.coordorigin="0,0",b.coordsize=this._width+","+this._height,b.style.left=0,b.style.top=0,b.style.width=this._width,b.style.height=this._height,a.appendChild(b),this._openGroups.push(b),b},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(a){var b=document.createElement("div");return b.style.height=a.height+1+"px",b.style.width=a.width+1+"px",b.style.position="absolute",b.style.left=a.x+"px",b.style.top=a.y+"px",b.style.overflow="hidden",this._clipId=this._clipId||0,b.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(b),b},setClip:function(){},_clipId:0,addHandler:function(b,c,d){a(b).on?a(b).on(c,d):a(b).bind(c,d)},removeHandler:function(b,c,d){a(b).off?a(b).off(c,d):a(b).unbind(c,d)},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},_getTextParts:function(b,c,d){var e={width:0,height:0,parts:[]},f=.6,g=b.toString().split("<br>"),h=this._activeParent(),i=document.createElement("v:textbox");this.attr(i,d),h.appendChild(i);for(var j=0;j<g.length;j++){var k=g[j],l=document.createElement("span");l.appendChild(document.createTextNode(k)),i.appendChild(l),d&&d["class"]&&(l.className=d["class"]);var m=a(i),n=a.jqx._rup(m.width()),o=a.jqx._rup(m.height()*f);if(0==o&&a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9){var p=m.css("font-size");p&&(o=parseInt(p),isNaN(o)&&(o=0))}i.removeChild(l),e.width=Math.max(e.width,n),e.height+=o+(j>0?2:0),e.parts.push({width:n,height:o,text:k})}return h.removeChild(i),e},_measureText:function(b,c,d,e){return c=Math.abs(c)>45?90:0,a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(b,c,d,e,f,g,h,i,j,k){var l;h&&h.stroke&&(l=h.stroke),void 0==l&&(l="black");var m=this._measureText(b,g,h,!0),n=m.textPartsInfo,o=n.parts,p=m.width,q=m.height;(isNaN(e)||0==e)&&(e=p),(isNaN(f)||0==f)&&(f=q);var r;if(j||(j="center"),k||(k="center"),(o.length>0||i)&&(r=this.beginGroup()),i){var s=this.createClipRect({x:a.jqx._rup(c),y:a.jqx._rup(d),width:a.jqx._rup(e),height:a.jqx._rup(f)});this.setClip(r,s)}var t=this._activeParent(),u=e||0,v=f||0;g=Math.abs(g)>45?90:0;var w=0,x=0;"center"==j?w+=(u-p)/2:"right"==j&&(w+=u-p),"center"==k?x=(v-q)/2:"bottom"==k&&(x=v-q),0==g?(d+=q+x,c+=w):(c+=p+w,d+=x);for(var y,z=0,A=o.length-1;A>=0;A--){var B=o[A],C=(p-B.width)/2;0==g&&"left"==j?C=0:0==g&&"right"==j?C=p-B.width:90==g&&(C=(q-B.width)/2);var D=z-B.height;x=90==g?C:D,w=90==g?D:C,y=document.createElement("v:textbox"),y.style.position="absolute",y.style.left=a.jqx._rup(c+w),y.style.top=a.jqx._rup(d+x),y.style.width=a.jqx._rup(B.width),y.style.height=a.jqx._rup(B.height),90==g&&(y.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)");var E=document.createElement("span");E.appendChild(document.createTextNode(B.text)),h&&h["class"]&&(E.className=h["class"]),y.appendChild(E),t.appendChild(y),z-=B.height+(A>0?2:0)}return r?(this.endGroup(),t):y},shape:function(a,b){var c=document.createElement(this._createElementMarkup(a));if(!c)return void 0;for(var d in b)c.setAttribute(d,b[d]);return this._activeParent().appendChild(c),c},line:function(a,b,c,d,e){var f="M "+a+","+b+" L "+c+","+d+" X E",g=this.path(f);return this.attr(g,e),g},_createElementMarkup:function(a){var b="<v:"+a+' style=""></v:'+a+">";return this._ie8mode&&(b=b.replace('style=""','style="behavior: url(#default#VML);"')),b},path:function(a,b){var c=document.createElement(this._createElementMarkup("shape"));return c.style.position="absolute",c.coordsize=this._width+" "+this._height,c.coordorigin="0 0",c.style.width=parseInt(this._width),c.style.height=parseInt(this._height),c.style.left="0px",c.style.top="0px",c.setAttribute("path",a),this._activeParent().appendChild(c),b&&this.attr(c,b),c},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=a.jqx._rup(d),e=a.jqx._rup(e);var g=this.shape("rect",f);return g.style.position="absolute",g.style.left=b,g.style.top=c,g.style.width=d,g.style.height=e,g.strokeweight=0,f&&this.attr(g,f),g},circle:function(b,c,d,e){var f=this.shape("oval");return b=a.jqx._ptrnd(b-d),c=a.jqx._ptrnd(c-d),d=a.jqx._rup(d),f.style.position="absolute",f.style.left=b,f.style.top=c,f.style.width=2*d,f.style.height=2*d,e&&this.attr(f,e),f},updateCircle:function(b,c,d,e){void 0==c&&(c=parseFloat(b.style.left)+parseFloat(b.style.width)/2),void 0==d&&(d=parseFloat(b.style.top)+parseFloat(b.style.height)/2),void 0==e&&(e=parseFloat(b.width)/2),c=a.jqx._ptrnd(c-e),d=a.jqx._ptrnd(d-e),e=a.jqx._rup(e),b.style.left=c,b.style.top=d,b.style.width=2*e,b.style.height=2*e},pieSlicePath:function(b,c,d,e,f,g,h){e||(e=1);var i=Math.abs(f-g);i>360&&(f=0,g=360);var j=f*Math.PI*2/360,k=g*Math.PI*2/360,l=b,m=b,n=c,o=c,p=!isNaN(d)&&d>0;if(p&&(h=0),h>0){var q=i/2+f,r=q*Math.PI*2/360;b+=h*Math.cos(r),c-=h*Math.sin(r)}if(p){var s=d;l=a.jqx._ptrnd(b+s*Math.cos(j)),n=a.jqx._ptrnd(c-s*Math.sin(j)),m=a.jqx._ptrnd(b+s*Math.cos(k)),o=a.jqx._ptrnd(c-s*Math.sin(k))}var t=(a.jqx._ptrnd(b+e*Math.cos(j)),a.jqx._ptrnd(b+e*Math.cos(k))),u=(a.jqx._ptrnd(c-e*Math.sin(j)),a.jqx._ptrnd(c-e*Math.sin(k)));e=a.jqx._ptrnd(e),d=a.jqx._ptrnd(d),b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c);var v=Math.round(65535*f),w=Math.round(65536*(g-f));0>d&&(d=1);var x="";return p?(x="M"+l+" "+n,x+=" AE "+b+" "+c+" "+d+" "+d+" "+v+" "+w,x+=" L "+t+" "+u,v=Math.round(65535*(f-g)),w=Math.round(65536*g),x+=" AE "+b+" "+c+" "+e+" "+e+" "+w+" "+v,x+=" L "+l+" "+n):(x="M"+b+" "+c,x+=" AE "+b+" "+c+" "+e+" "+e+" "+v+" "+w),x+=" X E"},pieslice:function(a,b,c,d,e,f,g,h){var i=this.pieSlicePath(a,b,c,d,e,f,g),j=this.path(i,h);return h&&this.attr(j,h),j},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(a){for(var b in this._keymap)if(this._keymap[b].svg==a)return this._keymap[b].vml;return a},attr:function(a,b){if(a&&b)for(var c in b){var d=this._translateParam(c);"fillcolor"==d&&-1!=b[c].indexOf("grd")?a.type=b[c]:"fillcolor"==d&&"transparent"==b[c]?(a.style.filter="alpha(opacity=0)",a["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==d||"fillopacity"==d?a.fill&&(a.fill.opacity=b[c]):"textContent"==d?a.children[0].innerText=b[c]:"dashstyle"==d?a.dashstyle=b[c].replace(","," "):-1==d.indexOf("style.")?a[d]=b[c]:a.style[d.replace("style.","")]=b[c]
}},getAttr:function(a,b){var c=this._translateParam(b);return"opacity"==c||"fillopacity"==c?a.fill?a.fill.opacity:1:-1==c.indexOf("style.")?a[c]:a.style[c.replace("style.","")]},_gradients:{},_toRadialGradient:function(a){return a},_toLinearGradient:function(b,c,d){if(this._ie8mode)return b;var e="grd"+b.replace("#","")+(c?"v":"h"),f="#"+e;if(this._gradients[f])return f;var g=document.createElement(this._createElementMarkup("fill"));g.type="gradient",g.method="linear",g.angle=c?0:90;var h="";for(var i in d)i>0&&(h+=", "),h+=d[i][0]+"% "+a.jqx.adjustColor(b,d[i][1]);g.colors=h;var j=document.createElement(this._createElementMarkup("shapetype"));return j.appendChild(g),j.id=e,this.canvas.appendChild(j),f}},a.jqx.HTML5Renderer=function(){},a.jqx.ptrnd=function(a){if(.5==Math.abs(Math.round(a)-a))return a;var b=Math.round(a);return a>b&&(b-=1),b+.5},a.jqx.HTML5Renderer.prototype={_elements:{},init:function(a){try{this.host=a,this.host.append("<canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/>"),this.canvas=a.find("#__jqxCanvasWrap"),this.canvas[0].width=a.width(),this.canvas[0].height=a.height(),this.ctx=this.canvas[0].getContext("2d")}catch(b){return!1}return!0},getContainer:function(){return this.canvas&&1==this.canvas.length?this.canvas:void 0},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(){},addHandler:function(){},removeHandler:function(){},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(a){void 0!=a&&this._elements[a.id]&&delete this._elements[a.id]},_maxId:0,shape:function(a,b){var c={type:a,id:this._maxId++};for(var d in b)c[d]=b[d];return this._elements[c.id]=c,c},attr:function(a,b){for(var c in b)a[c]=b[c]},rect:function(a,b,c,d,e){if(isNaN(a))throw'Invalid value for "x"';if(isNaN(b))throw'Invalid value for "y"';if(isNaN(c))throw'Invalid value for "width"';if(isNaN(d))throw'Invalid value for "height"';var f=this.shape("rect",{x:a,y:b,width:c,height:d});return e&&this.attr(f,e),f},path:function(a,b){var c=this.shape("path",b);return this.attr(c,{d:a}),c},line:function(a,b,c,d,e){return this.path("M "+a+","+b+" L "+c+","+d,e)},circle:function(a,b,c,d){var e=this.shape("circle",{x:a,y:b,r:c});return d&&this.attr(e,d),e},pieSlicePath:function(b,c,d,e,f,g,h){return a.jqx.commonRenderer.pieSlicePath(b,c,d,e,f,g,h)},pieslice:function(a,b,c,d,e,f,g,h){var i=this.path(this.pieSlicePath(a,b,c,d,e,f,g),h);return this.attr(i,{x:a,y:b,innerRadius:c,outerRadius:d,angleFrom:e,angleTo:f}),i},_getCSSStyle:function(a){var b=document.styleSheets;try{for(var c=0;c<b.length;c++)for(var d=0;b[c].cssRules&&d<b[c].cssRules.length;d++)if(-1!=b[c].cssRules[d].selectorText.indexOf(a))return b[c].cssRules[d].style}catch(e){}return{}},_getTextParts:function(b,c,d){var e="Arial",f="10pt",g="";if(d&&d["class"]){var h=this._getCSSStyle(d["class"]);h.fontSize&&(f=h.fontSize),h.fontFamily&&(e=h.fontFamily),h.fontWeight&&(g=h.fontWeight)}this.ctx.font=g+" "+f+" "+e;for(var i={width:0,height:0,parts:[]},j=.6,k=b.toString().split("<br>"),l=0;l<k.length;l++){var m=k[l],n=this.ctx.measureText(m).width,o=document.createElement("span");o.font=this.ctx.font,o.textContent=m,document.body.appendChild(o);var p=o.offsetHeight*j;document.body.removeChild(o),i.width=Math.max(i.width,a.jqx._rup(n)),i.height+=p+(l>0?4:0),i.parts.push({width:n,height:p,text:m})}return i},_measureText:function(b,c,d,e){return a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(a,b,c,d,e,f,g,h,i,j,k){var l=this.shape("text",{text:a,x:b,y:c,width:d,height:e,angle:f,clip:h,halign:i,valign:j,rotateAround:k});if(g&&this.attr(l,g),l.fontFamily="Arial",l.fontSize="10pt",l.fontWeight="",l.color="#000000",g&&g["class"]){var m=this._getCSSStyle(g["class"]);l.fontFamily=m.fontFamily||l.fontFamily,l.fontSize=m.fontSize||l.fontSize,l.fontWeight=m.fontWeight||l.fontWeight,l.color=m.color||l.color}var n=this._measureText(a,0,g,!0);return this.attr(l,{textPartsInfo:n.textPartsInfo,textWidth:n.width,textHeight:n.height}),(0>=d||isNaN(d))&&this.attr(l,{width:n.width}),(0>=e||isNaN(e))&&this.attr(l,{height:n.height}),l},_toLinearGradient:function(b,c,d){if(this._renderers._gradients[b])return b;for(var e=[],f=0;f<d.length;f++)e.push({percent:d[f][0]/100,color:a.jqx.adjustColor(b,d[f][1])});var g="gr"+this._gradientId++;return this.createGradient(g,c?"vertical":"horizontal",e),g},_toRadialGradient:function(b,c){if(this._renderers._gradients[b])return b;for(var d=[],e=0;e<c.length;e++)d.push({percent:c[e][0]/100,color:a.jqx.adjustColor(b,c[e][1])});var f="gr"+this._gradientId++;return this.createGradient(f,"radial",d),f},_gradientId:0,createGradient:function(a,b,c){this._renderers.createGradient(a,b,c)},_renderers:{_gradients:{},createGradient:function(a,b,c){this._gradients[a]={orientation:b,colorStops:c}},setStroke:function(a,b){a.strokeStyle=b.stroke||"transparent",a.lineWidth=b["stroke-width"]||1,a.globalAlpha=b["fill-opacity"]?b["fill-opacity"]:1,a.setLineDash&&a.setLineDash(b["stroke-dasharray"]?b["stroke-dasharray"].split(","):[])},setFillStyle:function(b,c){if(b.fillStyle="transparent",b.globalAlpha=c["fill-opacity"]?c["fill-opacity"]:1,c.fill&&-1==c.fill.indexOf("#")&&this._gradients[c.fill]){var d,e="horizontal"!=this._gradients[c.fill].orientation,f="radial"==this._gradients[c.fill].orientation,g=a.jqx.ptrnd(c.x),h=a.jqx.ptrnd(c.y),i=a.jqx.ptrnd(c.x+(e?0:c.width)),j=a.jqx.ptrnd(c.y+(e?c.height:0));"circle"!=c.type&&"path"!=c.type||!f||(x=a.jqx.ptrnd(c.x),y=a.jqx.ptrnd(c.y),r1=c.innerRadius||0,r2=c.outerRadius||c.r||0,d=b.createRadialGradient(x,y,r1,x,y,r2)),f||((isNaN(g)||isNaN(i)||isNaN(h)||isNaN(j))&&(g=0,h=0,i=e?0:b.canvas.width,j=e?b.canvas.height:0),d=b.createLinearGradient(g,h,i,j));for(var k=this._gradients[c.fill].colorStops,l=0;l<k.length;l++)d.addColorStop(k[l].percent,k[l].color);b.fillStyle=d}else c.fill&&(b.fillStyle=c.fill)},rect:function(b,c){0!=c.width&&0!=c.height&&(b.fillRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height),b.strokeRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height))},circle:function(b,c){0!=c.r&&(b.beginPath(),b.arc(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.r,0,2*Math.PI,!1),b.closePath(),b.fill(),b.stroke())},_parsePoint:function(a){var b=this._parseNumber(a),c=this._parseNumber(a);return{x:b,y:c}},_parseNumber:function(a){for(var b=!1,c=this._pos;c<a.length;c++)if(a[c]>="0"&&a[c]<="9"||"."==a[c]||"-"==a[c]&&!b)b=!0;else{if(b||" "!=a[c]&&","!=a[c])break;this._pos++}var d=parseFloat(a.substring(this._pos,c));return isNaN(d)?void 0:(this._pos=c,d)},_pos:0,_cmds:"mlcaz",_lastCmd:"",_isRelativeCmd:function(b){return a.jqx.string.contains(this._cmds,b)},_parseCmd:function(b){for(var c=this._pos;c<b.length;c++){if(a.jqx.string.containsIgnoreCase(this._cmds,b[c]))return this._pos=c+1,this._lastCmd=b[c],this._lastCmd;if(" "!=b[c]){if(b[c]>="0"&&b[c]<="9"){if(this._pos=c,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}return void 0},_toAbsolutePoint:function(a){return{x:this._currentPoint.x+a.x,y:this._currentPoint.y+a.y}},_currentPoint:{x:0,y:0},path:function(a,b){var c=b.d;this._pos=0,this._lastCmd="";var d=void 0;this._currentPoint={x:0,y:0},a.beginPath();for(;this._pos<c.length;){var e=this._parseCmd(c);if(void 0==e)break;if("M"!=e&&"m"!=e)if("L"!=e&&"l"!=e)if("A"!=e&&"a"!=e)if("Z"!=e&&"z"!=e||void 0==d)if("C"!=e&&"c"!=e);else{var f=this._parsePoint(c),g=this._parsePoint(c),h=this._parsePoint(c);a.bezierCurveTo(f.x,f.y,g.x,g.y,h.x,h.y),this._currentPoint=h}else a.lineTo(d.x,d.y),this._currentPoint=d;else{var i=this._parseNumber(c),j=this._parseNumber(c),k=this._parseNumber(c)*(Math.PI/180),l=this._parseNumber(c),m=this._parseNumber(c),n=this._parsePoint(c);if(this._isRelativeCmd(e)&&(n=this._toAbsolutePoint(n)),0==i||0==j)continue;var o=this._currentPoint,p={x:Math.cos(k)*(o.x-n.x)/2+Math.sin(k)*(o.y-n.y)/2,y:-Math.sin(k)*(o.x-n.x)/2+Math.cos(k)*(o.y-n.y)/2},q=Math.pow(p.x,2)/Math.pow(i,2)+Math.pow(p.y,2)/Math.pow(j,2);q>1&&(i*=Math.sqrt(q),j*=Math.sqrt(q));var r=(l==m?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(j,2)-Math.pow(i,2)*Math.pow(p.y,2)-Math.pow(j,2)*Math.pow(p.x,2))/(Math.pow(i,2)*Math.pow(p.y,2)+Math.pow(j,2)*Math.pow(p.x,2)));isNaN(r)&&(r=0);var s={x:r*i*p.y/j,y:r*-j*p.x/i},t={x:(o.x+n.x)/2+Math.cos(k)*s.x-Math.sin(k)*s.y,y:(o.y+n.y)/2+Math.sin(k)*s.x+Math.cos(k)*s.y},u=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},v=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(u(a)*u(b))},w=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(v(a,b))},x=w([1,0],[(p.x-s.x)/i,(p.y-s.y)/j]),y=[(p.x-s.x)/i,(p.y-s.y)/j],z=[(-p.x-s.x)/i,(-p.y-s.y)/j],A=w(y,z);v(y,z)<=-1&&(A=Math.PI),v(y,z)>=1&&(A=0),0==m&&A>0&&(A-=2*Math.PI),1==m&&0>A&&(A+=2*Math.PI);var v=i>j?i:j,B=i>j?1:i/j,C=i>j?j/i:1;a.translate(t.x,t.y),a.rotate(k),a.scale(B,C),a.arc(0,0,v,x,x+A,1-m),a.scale(1/B,1/C),a.rotate(-k),a.translate(-t.x,-t.y)}else{var D=this._parsePoint(c);if(void 0==D)break;a.lineTo(D.x,D.y),this._currentPoint=D}else{var D=this._parsePoint(c);if(void 0==D)break;a.moveTo(D.x,D.y),this._currentPoint=D,void 0==d&&(d=D)}}a.fill(),a.stroke(),a.closePath()},text:function(b,c){var d=a.jqx.ptrnd(c.x),e=a.jqx.ptrnd(c.y),f=a.jqx.ptrnd(c.width),g=a.jqx.ptrnd(c.height),h=c.halign,i=c.valign,j=c.angle,k=c.rotateAround,l=c.textPartsInfo,m=l.parts,n=c.clip;void 0==n&&(n=!0),b.save(),h||(h="center"),i||(i="center"),n&&(b.rect(d,e,f,g),b.clip());var o=c.textWidth,p=c.textHeight,q=f||0,r=g||0;if(b.fillStyle=c.color,b.font=c.fontWeight+" "+c.fontSize+" "+c.fontFamily,!j||0==j){e+=p,"center"==i||"middle"==i?e+=(r-p)/2:"bottom"==i&&(e+=r-p),f||(f=o),g||(g=p);for(var s=0,t=m.length-1;t>=0;t--){{var u=m[t],v=d,w=m[t].width;m[t].height}"center"==h?v+=(q-w)/2:"right"==h&&(v+=q-w),b.fillText(u.text,v,e+s),s-=u.height+(t>0?4:0)}return void b.restore()}var x=a.jqx.commonRenderer.alignTextInRect(d,e,f,g,o,p,h,i,j,k);d=x.x,e=x.y;var y=j*Math.PI*2/360;b.translate(d,e),b.rotate(y);for(var s=0,z=l.width,t=m.length-1;t>=0;t--){var v=0;"center"==h?v+=(z-m[t].width)/2:"right"==h&&(v+=z-m[t].width),b.fillText(m[t].text,v,s),s-=m[t].height+4}b.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var a in this._elements){var b=this._elements[a];this._renderers.setFillStyle(this.ctx,b),this._renderers.setStroke(this.ctx,b),this._renderers[this._elements[a].type](this.ctx,b)}}},a.jqx.createRenderer=function(b,c){var d=b,e=d.renderer=null;if(document.createElementNS&&"HTML5"!=d.renderEngine&&"VML"!=d.renderEngine&&(e=new a.jqx.svgRenderer,!e.init(c))){if("SVG"==d.renderEngine)throw"Your browser does not support SVG";return null}if(null==e&&"HTML5"!=d.renderEngine){if(e=new a.jqx.vmlRenderer,!e.init(c)){if("VML"==d.renderEngine)throw"Your browser does not support VML";return null}d._isVML=!0}if(null==e&&("HTML5"==d.renderEngine||void 0==d.renderEngine)&&(e=new a.jqx.HTML5Renderer,!e.init(c)))throw"Your browser does not support HTML5 Canvas";return d.renderer=e,e},a.jqx._widgetToImage=function(b,c,d,e,f){var g=b;if(!g)return!1;(void 0==d||""==d)&&(d="image."+c);var h=g.renderEngine,i=g.enableAnimations;if(g.enableAnimations=!1,g.renderEngine="HTML5",g.renderEngine!=h)try{g.refresh()}catch(j){return g.renderEngine=h,g.refresh(),g.enableAnimations=i,!1}var k=g.renderer.getContainer()[0],l=a.jqx.exportImage(k,c,d,e,f);return g.renderEngine!=h&&(g.renderEngine=h,g.refresh(),g.enableAnimations=i),l},a.jqx.exportImage=function(b,c,d,e,f){if(!b)return!1;if((void 0==d||""==d)&&(d="image."+c),void 0==e||""==e)throw"Please specifiy export server";var g=!0;try{if(b){var h=b.toDataURL("image/"+c);if(h=h.replace("data:image/"+c+";base64,",""),f)a.ajax({dataType:"string",url:e,type:"POST",data:{content:h,fname:d},async:!1,success:function(){g=!0},error:function(){g=!1}});else{var i=document.createElement("form");i.method="POST",i.action=e,i.style.display="none",document.body.appendChild(i);var j=document.createElement("input");j.name="fname",j.value=d,j.style.display="none";var k=document.createElement("input");k.name="content",k.value=h,k.style.display="none",i.appendChild(j),i.appendChild(k),i.submit(),document.body.removeChild(i),g=!0}}}catch(l){g=!1}return g}}(jQuery),function(a){a.jqx.jqxWidget("jqxChart","",{}),a.extend(a.jqx._jqxChart.prototype,{defineInstance:function(){var b={title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4e3,toolTipFormatFunction:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#888888",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,drawBefore:null,draw:null};a.extend(!0,this,b)},_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},createInstance:function(){if(!a.jqx.dataAdapter)throw"jqxdata.js is not loaded";var b=this;b._refreshOnDownloadComlete(),b._isTouchDevice=a.jqx.mobile.isTouchDevice(),b.host.on(b._getEvent("mousemove"),function(c){if(0!=b.enabled){c.preventDefault();var d=c.pageX||c.clientX||c.screenX,e=c.pageY||c.clientY||c.screenY;if(b._isTouchDevice){var f=a.jqx.position(c);d=f.left,e=f.top}var f=b.host.offset();d-=f.left,e-=f.top,b.onmousemove(d,e)}}),b.addHandler(b.host,b._getEvent("mouseleave"),function(){if(0!=b.enabled){var a=b._mouseX,c=b._mouseY,d=b._plotRect;d&&a>=d.x&&a<=d.x+d.width&&c>=d.y&&c<=d.y+d.height||(b._cancelTooltipTimer(),b._hideToolTip(0),b._unselect())}}),b.addHandler(b.host,"click",function(){0!=b.enabled&&(!isNaN(b._lastClickTs)&&(new Date).valueOf()-b._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(b._isTouchDevice||(b._cancelTooltipTimer(),b._hideToolTip(),b._unselect()),b._pointMarker&&b._pointMarker.element){var a=b.seriesGroups[b._pointMarker.gidx],c=a.series[b._pointMarker.sidx];b._raiseItemEvent("click",a,c,b._pointMarker.iidx)}},100)))});var c=b.element.style;if(c){var d=!1;null!=c.width&&(d|=-1!=c.width.toString().indexOf("%")),null!=c.height&&(d|=-1!=c.height.toString().indexOf("%")),d&&a(window).resize(function(){b.timer&&clearTimeout(b.timer);var c=a.jqx.browser.msie?200:1;b.timer=setTimeout(function(){var a=b.enableAnimations;b.enableAnimations=!1,b.refresh(),b.enableAnimations=a},c)})}},_refreshOnDownloadComlete:function(){var b=this,c=this.source;if(c instanceof a.jqx.dataAdapter){var d=c._options;(void 0==d||void 0!=d&&!d.autoBind)&&(c.autoSync=!1,c.dataBind());var e=this.element.id;if(0==c.records.length){var f=function(){b.ready&&b.ready(),b.refresh()};c.unbindDownloadComplete(e),c.bindDownloadComplete(e,f)}else b.ready&&b.ready();c.unbindBindingUpdate(e),c.bindBindingUpdate(e,function(){b.refresh()})}},propertyChangedHandler:function(a,b){void 0!=this.isInitialized&&0!=this.isInitialized&&("source"==b&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(b){if(!a.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return a.jqx.createRenderer(this,b)},_internalRefresh:function(){var b=this;if(!a.jqx.isHidden(b.host)){b._stopAnimations(),b.renderer&&(b._isToggleRefresh||b._isUpdate)||(b.host.empty(),b._ttEl=void 0,b._initRenderer(b.host));var c=b.renderer;if(c){var d=c.getRect();b._render({x:1,y:1,width:d.width,height:d.height}),c instanceof a.jqx.HTML5Renderer&&c.refresh(),b._isUpdate=!1}}},saveAsPNG:function(a,b,c){return this._saveAsImage("png",a,b,c)},saveAsJPEG:function(a,b,c){return this._saveAsImage("jpeg",a,b,c)},_saveAsImage:function(b,c,d,e){return a.jqx._widgetToImage(this,b,c,d,e)},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut"],_render:function(b){var c=this,d=c.renderer;c._colorsCache.clear(),!c._isToggleRefresh&&c._isUpdate&&c._renderData&&c._renderDataClone(),c._renderData=[],d.clear(),c._unselect(),c._hideToolTip(0);var e=c.backgroundImage;c.host.css(void 0==e||""==e?{"background-image":""}:{"background-image":-1!=e.indexOf("(")?e:"url('"+e+"')"}),c._rect=b;var f=c.padding||{left:5,top:5,right:5,bottom:5},g=d.createClipRect(b),h=d.beginGroup();d.setClip(h,g);var i=d.rect(b.x,b.y,b.width-2,b.height-2);if(void 0==e||""==e?d.attr(i,{fill:c.backgroundColor||c.background||"white"}):d.attr(i,{fill:"transparent"}),0!=c.showBorderLine){var j=void 0==c.borderLineColor?c.borderColor:c.borderLineColor;void 0==j&&(j="#888888");var k=this.borderLineWidth;(isNaN(k)||0>k||k>10)&&(k=1),d.attr(i,{"stroke-width":k,stroke:j})}a.isFunction(c.drawBefore)&&c.drawBefore(d,b);var l={x:f.left,y:f.top,width:b.width-f.left-f.right,height:b.height-f.top-f.bottom};c._paddedRect=l;var m=c.titlePadding||{left:2,top:2,right:2,bottom:2};if(c.title&&c.title.length>0){var n=c.toThemeProperty("jqx-chart-title-text",null),o=d.measureText(c.title,0,{"class":n});d.text(c.title,l.x+m.left,l.y+m.top,l.width-(m.left+m.right),o.height,0,{"class":n},!0,"center","center"),l.y+=o.height,l.height-=o.height}if(c.description&&c.description.length>0){var p=c.toThemeProperty("jqx-chart-title-description",null),o=d.measureText(c.description,0,{"class":p});d.text(c.description,l.x+m.left,l.y+m.top,l.width-(m.left+m.right),o.height,0,{"class":p},!0,"center","center"),l.y+=o.height,l.height-=o.height}(c.title||c.description)&&(l.y+=m.bottom+m.top,l.height-=m.bottom+m.top);var q={x:l.x,y:l.y,width:l.width,height:l.height};c._buildStats(q);for(var r=c._isPieOnlySeries(),s=c.seriesGroups,t={},u=0;u<s.length&&!r;u++)if("pie"!=s[u].type&&"donut"!=s[u].type){var v="horizontal"==s[u].orientation,w=s[u].valueAxis;w||(w=s[u].valueAxis={});var x=c._getCategoryAxis(u);if(!x)throw"seriesGroup["+u+"] is missing "+(v?"valueAxis":"xAxis")+" definition";var y=x==c._getCategoryAxis()?-1:u;t[y]=0}var z=c.axisPadding;isNaN(z)&&(z=5);for(var A={left:0,right:0,leftCount:0,rightCount:0},B=[],u=0;u<s.length;u++){var C=s[u];if("pie"!=C.type&&"donut"!=C.type&&1!=C.spider&&1!=C.polar){var v="horizontal"==C.orientation,y=c._getCategoryAxis(u)==c._getCategoryAxis()?-1:u,D=w.axisSize,E={x:0,y:q.y,width:q.width,height:q.height},F=void 0;D&&"auto"!=D||(v?(D=this._renderCategoryAxis(u,E,!0,q).width,1==(1&t[y])?D=0:D>0&&(t[y]|=1),F=c._getCategoryAxis(u).position):(D=c._renderValueAxis(u,E,!0,q).width,C.valueAxis&&(F=C.valueAxis.position))),"left"!=F&&1==c.rtl&&(F="right"),"right"!=F&&(F="left"),A[F+"Count"]>0&&A[F]>0&&D>0&&(A[F]+=z),B.push({width:D,position:F,xRel:A[F]}),A[F]+=D,A[F+"Count"]++}else B.push({width:0,position:0,xRel:0})}for(var G={top:0,bottom:0,topCount:0,bottomCount:0},H=[],u=0;u<s.length;u++){var C=s[u];if("pie"!=C.type&&"donut"!=C.type&&1!=C.spider&&1!=C.polar){var v="horizontal"==C.orientation,x=c._getCategoryAxis(u),y=x==c._getCategoryAxis()?-1:u;F=void 0;var I=x.axisSize;I&&"auto"!=I||(v?(I=c._renderValueAxis(u,{x:0,y:0,width:1e7,height:0},!0,q).height,c.seriesGroups[u].valueAxis&&(F=C.valueAxis.position)):(I=c._renderCategoryAxis(u,{x:0,y:0,width:1e7,height:0},!0).height,2==(2&t[y])?I=0:I>0&&(t[y]|=2),F=c._getCategoryAxis(u).position)),"top"!=F&&(F="bottom"),G[F+"Count"]>0&&G[F]>0&&I>0&&(G[F]+=z),H.push({height:I,position:F,yRel:G[F]}),G[F]+=I,G[F+"Count"]++}else H.push({height:0,position:0,yRel:0})}c._createAnimationGroup("series"),c._plotRect=q;var J=0!=c.showLegend,K=J?c._renderLegend(c.legendLayout?c._rect:l,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(K={width:0,height:0}),l.height<G.top+G.bottom+K.height||l.width<A.left+A.right)return void d.endGroup();q.height-=G.top+G.bottom+K.height,q.x+=A.left,q.width-=A.left+A.right,q.y+=G.top;var L=[];if(!r)for(var u=(c._getCategoryAxis().tickMarksColor||"#888888",0);u<s.length;u++){var C=s[u];if(1!=C.polar&&1!=C.spider){var v="horizontal"==C.orientation,y=c._getCategoryAxis(u)==c._getCategoryAxis()?-1:u,E={x:q.x,y:0,width:q.width,height:H[u].height};if(E.y="top"!=H[u].position?q.y+q.height+H[u].yRel:q.y-H[u].yRel-H[u].height,v)c._renderValueAxis(u,E,!1,q);else{if(4==(4&t[y]))continue;if(!c._isGroupVisible(u))continue;L.push(E),c._renderCategoryAxis(u,E,!1,q),t[y]|=4}}}if(J){var M=c.legendLayout?c._rect:l,N=l.x+a.jqx._ptrnd((l.width-K.width)/2),O=q.y+q.height+G.bottom,D=l.width,I=K.height;c.legendLayout&&(isNaN(c.legendLayout.left)||(N=c.legendLayout.left),isNaN(c.legendLayout.top)||(O=c.legendLayout.top),isNaN(c.legendLayout.width)||(D=c.legendLayout.width),isNaN(c.legendLayout.height)||(I=c.legendLayout.height)),N+D>M.x+M.width&&(D=M.x+M.width-N),O+I>M.y+M.height&&(I=M.y+M.height-O),c._renderLegend({x:N,y:O,width:D,height:I})}if(c._hasHorizontalLines=!1,!r)for(var u=0;u<s.length;u++){var C=s[u];if(1!=C.polar&&1!=C.spider){var v="horizontal"==s[u].orientation,E={x:q.x-B[u].xRel-B[u].width,y:q.y,width:B[u].width,height:q.height};if("left"!=B[u].position&&(E.x=q.x+q.width+B[u].xRel),v){if(8==(8&t[c._getCategoryAxis(u)]))continue;if(!c._isGroupVisible(u))continue;L.push(E),c._renderCategoryAxis(u,E,!1,q),t[c._getCategoryAxis(u)]|=8}else c._renderValueAxis(u,E,!1,q)}}if(!(q.width<=0||q.height<=0)){c._plotRect={x:q.x,y:q.y,width:q.width,height:q.height};var P=d.createClipRect({x:q.x,y:q.y,width:q.width,height:q.height}),Q=d.beginGroup();d.setClip(Q,P);for(var u=0;u<s.length;u++){var C=s[u],R=!1;for(var S in c._seriesTypes)if(c._seriesTypes[S]==C.type){R=!0;break}if(!R)throw'jqxChart: invalid series type "'+C.type+'"';if(a.isFunction(C.drawBefore)&&C.drawBefore(d,b,u),(1==C.polar||1==C.spider)&&-1==C.type.indexOf("pie")&&-1==C.type.indexOf("donut")&&c._renderSpiderAxis(u,q),C.bands)for(var T=0;T<C.bands.length;T++)c._renderBand(u,T,q);-1!=C.type.indexOf("column")?c._renderColumnSeries(u,q):-1!=C.type.indexOf("pie")||-1!=C.type.indexOf("donut")?c._renderPieSeries(u,q):-1!=C.type.indexOf("line")||-1!=C.type.indexOf("area")?c._renderLineSeries(u,q):(-1!=C.type.indexOf("scatter")||-1!=C.type.indexOf("bubble"))&&c._renderScatterSeries(u,q),a.isFunction(C.draw)&&c.draw(d,b,u)}if(d.endGroup(),0==c.enabled){var U=d.rect(b.x,b.y,b.width,b.height);d.attr(U,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}if(a.isFunction(c.draw)&&c.draw(d,b),d.endGroup(),c._startAnimation("series"),this._renderCategoryAxisRangeSelector)for(var V=[],u=0;u<c.seriesGroups.length;u++){var W=this._getCategoryAxis(u);-1==V.indexOf(W)&&(this._renderCategoryAxisRangeSelector(u,L[u]),V.push(W))}}},_isPieOnlySeries:function(){var a=this.seriesGroups;if(0==a.length)return!1;for(var b=0;b<a.length;b++)if("pie"!=a[b].type&&"donut"!=a[b].type)return!1;return!0},_renderChartLegend:function(b,c,d,e){for(var f=this,g=f.renderer,h={x:c.x+3,y:c.y+3,width:c.width-6,height:c.height-6},i={width:h.width,height:0},j=0,k=0,l=20,m=0,n=10,o=10,p=0,q=0;q<b.length;q++){var r=b[q].css;r||(r=f.toThemeProperty("jqx-chart-legend-text",null)),l=20;var s=b[q].text,t=g.measureText(s,0,{"class":r});t.height>l&&(l=t.height),t.width>p&&(p=t.width),e?(0!=q&&(k+=l),k>h.height&&(k=0,j+=p+o,p=t.width,i.width=j+p)):(0!=j&&(j+=o),j+2*n+t.width>h.width&&t.width<h.width&&(j=0,k+=l,l=20,m=h.width,i.height=k+l));var u=!1;if(t.width>c.width){u=!0;for(var v=c.width,w=s,x=w.split(/\s+/).reverse(),y=[],z="",A=new Array;word=x.pop();){y.push(word),z=y.join(" ");var B=f.renderer.measureText(z,0,{"class":r});B.width>v&&A.length>0&&(y.pop(),y=[word],z=y.join(" ")),A.push({text:z})}t.width=0;for(var C=0,D=0;D<A.length;D++){var E=A[D].text,B=f.renderer.measureText(E,0,{"class":r});t.width=Math.max(t.width,B.width),C+=t.height}t.height=C}var F=h.x+j+t.width<c.x+c.width&&h.y+k+t.height<c.y+c.height;if(f.legendLayout)var F=h.x+j+t.width<f._rect.x+f._rect.width&&h.y+k+t.height<f._rect.y+f._rect.height;if(!d&&F){var G=b[q].seriesIndex,H=b[q].groupIndex,I=b[q].itemIndex,J=b[q].color,K=f._isSerieVisible(H,G,I),L=g.beginGroup(),M=K?b[q].opacity:.1;if(u){for(var w=s,v=c.width,x=w.split(/\s+/).reverse(),y=[],z="",N=0,A=new Array;word=x.pop();){y.push(word),z=y.join(" ");var B=f.renderer.measureText(z,0,{"class":r});B.width>v&&A.length>0&&(y.pop(),N+=B.height,y=[word],z=y.join(" ")),A.push({text:z,dy:N})}for(var D=0;D<A.length;D++){var E=A[D].text;N=A[D].dy;var B=f.renderer.measureText(E,0,{"class":r});e?f.renderer.text(E,h.x+j+1.5*n,h.y+k+N,t.width,l,0,{"class":r},!1,"left","center"):f.renderer.text(E,h.x+j+1.5*n,h.y+k+N,t.width,l,0,{"class":r},!1,"center","center")}var O=g.rect(h.x+j,h.y+k+n/2+N/2,n,n);e&&(k+=N),f.renderer.attr(O,{fill:J,"fill-opacity":M,stroke:J,"stroke-width":1,"stroke-opacity":b[q].opacity})}else{var O=g.rect(h.x+j,h.y+k+n/2,n,n);f.renderer.attr(O,{fill:J,"fill-opacity":M,stroke:J,"stroke-width":1,"stroke-opacity":b[q].opacity}),e?f.renderer.text(s,h.x+j+1.5*n,h.y+k,t.width,t.height+n/2,0,{"class":r},!1,"left","center"):f.renderer.text(s,h.x+j+1.5*n,h.y+k,t.width,l,0,{"class":r},!1,"center","center")}f.renderer.endGroup(),f._setLegendToggleHandler(H,G,I,L)}e||(j+=t.width+2*n,j>m&&(m=j))}return d?(i.height=a.jqx._ptrnd(k+l+5),i.width=a.jqx._ptrnd(m),i):void 0},_isSerieVisible:function(b,c,d){for(;this._itemsToggleState.length<b+1;)this._itemsToggleState.push([]);for(var e=this._itemsToggleState[b];e.length<c+1;)e.push(isNaN(d)?!0:[]);var f=e[c];if(isNaN(d))return f;for(a.isArray(f)||(e[c]=f=[]);f.length<d+1;)f.push(!0);return f[d]},_isGroupVisible:function(a){var b=!1,c=this.seriesGroups[a].series;if(!c)return b;for(var d=0;d<c.length;d++)if(this._isSerieVisible(a,d)){b=!0;break}return b},_toggleSerie:function(b,c,d,e){var f=!this._isSerieVisible(b,c,d);void 0!=e&&(f=e);var g=this.seriesGroups[b],h=g.series[c];if(this._raiseEvent("toggle",{state:f,seriesGroup:g,serie:h,elementIndex:d}),isNaN(d))this._itemsToggleState[b][c]=f;else{var i=this._itemsToggleState[b][c];for(a.isArray(i)||(i=[]);i.length<d;)i.push(!0);i[d]=f}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(a,b,c){this._toggleSerie(a,b,c,!0)},hideSerie:function(a,b,c){this._toggleSerie(a,b,c,!1)},_setLegendToggleHandler:function(a,b,c,d){var e=this.seriesGroups[a],f=e.series[b],g=f.enableSeriesToggle;if(void 0==g&&(g=0!=e.enableSeriesToggle),g){var h=this;this.renderer.addHandler(d,"click",function(d){d.preventDefault(),h._toggleSerie(a,b,c)})}},_renderLegend:function(a,b){for(var c=this,d=[],e=0;e<c.seriesGroups.length;e++){var f=c.seriesGroups[e];if(0!=f.showLegend)for(var g=0;g<f.series.length;g++){var h=f.series[g];if(0!=h.showLegend){var i,j=c._getSerieSettings(e,g);if("pie"!=f.type&&"donut"!=f.type){var k=h.legendFormatSettings||f.legendFormatSettings,l=h.legendFormatFunction||f.legendFormatFunction;i=c._formatValue(h.displayText||h.dataField||"",k,l,e,g,p);var m=c._getSeriesColors(e,g);d.push({groupIndex:e,seriesIndex:g,text:i,css:h.displayTextClass,color:m.fillColor,opacity:j.opacity})}else for(var n=c._getCategoryAxis(e),k=h.legendFormatSettings||f.legendFormatSettings||n.formatSettings||h.formatSettings||f.formatSettings,l=h.legendFormatFunction||f.legendFormatFunction||n.formatFunction||h.formatFunction||f.formatFunction,o=c._getDataLen(e),p=0;o>p;p++){i=c._getDataValue(p,h.displayText,e),i=c._formatValue(i,k,l,e,g,p);var m=c._getColors(e,g,p);d.push({groupIndex:e,seriesIndex:g,itemIndex:p,text:i,css:h.displayTextClass,color:m.fillColor,opacity:j.opacity})}}}}return c._renderChartLegend(d,a,b,c.legendLayout&&"vertical"==c.legendLayout.flow)},_renderCategoryAxis:function(a,b,c,d){var e=this,f=e._getCategoryAxis(a),g=e.seriesGroups[a],h="horizontal"==g.orientation,i={width:0,height:0};if(!f||0==f.visible||"spider"==g.type)return i;if(!e._isGroupVisible(a))return i;var j=e._alignValuesWithTicks(a);e.rtl&&(f.flip=!0);var k=h?b.height:b.width,l=f.text,m=e._calculateXOffsets(a,k),n=m.axisStats,o=f.rangeSelector,p=0;if(o){if(!this._selectorGetSize)throw new Error("jqxChart: Missing reference to jqxchart.rangeselector.js");p=this._selectorGetSize(f)}var q=n.interval;if(!isNaN(q)){var r,s={visible:0!=f.showGridLines,color:f.gridLinesColor||"#888888",unitInterval:f.gridLinesInterval||q,dashStyle:f.gridLinesDashStyle,offsets:[]},t={visible:0!=f.showTickMarks,color:f.tickMarksColor||"#888888",unitInterval:f.tickMarksInterval||q,dashStyle:f.tickMarksDashStyle,offsets:[]},u=f.textRotationAngle||0,v=n.min,w=n.max,x=m.padding,y=1==f.flip||e.rtl;"date"==f.type?(s.offsets=this._generateDTOffsets(v,w,k,x,s.unitInterval,q,n.dateTimeUnit,j,0/0,!1,y),t.offsets=this._generateDTOffsets(v,w,k,x,t.unitInterval,q,n.dateTimeUnit,j,0/0,!1,y),r=this._generateDTOffsets(v,w,k,x,q,q,n.dateTimeUnit,j,0/0,!0,y)):(s.offsets=this._generateOffsets(v,w,k,x,s.unitInterval,q,j,0/0,!1,y),t.offsets=this._generateOffsets(v,w,k,x,t.unitInterval,q,j,0/0,!1,y),r=this._generateOffsets(v,w,k,x,q,q,j,0/0,!0,y)),0==m.length&&(r=[]);{var z,A=f.horizontalTextAlignment,B=e.renderer.getRect();B.width-b.x-b.width,e._getDataLen(a)}e._elementRenderInfo&&e._elementRenderInfo.length>a&&(z=e._elementRenderInfo[a].xAxis);var C=[],D=f.formatFunction,E=f.formatSettings;"date"!=f.type||E||D||(D=this._getDefaultDTFormatFn(f.baseUnit||"day"));for(var F=0;F<r.length;F++){var G=r[F].value,H=r[F].offset;if("date"!=f.type&&n.useIndeces&&f.dataField){var I=Math.round(G);G=e._getDataValue(I,f.dataField),void 0==G&&(G="")}var l=e._formatValue(G,E,D,a,void 0,F);(void 0==l||""==l)&&(l=n.useIndeces?(n.min+F).toString():void 0==G?"":G.toString());var J={key:G,text:l,targetX:H,x:H};z&&z.itemOffsets[G]&&(J.x=z.itemOffsets[G].x,J.y=z.itemOffsets[G].y),C.push(J)}var K=f.descriptionClass;K||(K=e.toThemeProperty("jqx-chart-axis-description",null));var L=f["class"];L||(L=e.toThemeProperty("jqx-chart-axis-text",null)),h&&(u-=90);for(var M={text:f.description,style:K,halign:f.horizontalDescriptionAlignment||"center",valign:f.verticalDescriptionAlignment||"center",textRotationAngle:h?-90:0},N={textRotationAngle:u,style:L,halign:A,valign:f.verticalTextAlignment||"center",textRotationPoint:f.textRotationPoint||"auto",textOffset:f.textOffset},O=h&&"right"==f.position||!h&&"top"==f.position,P={rangeLength:m.rangeLength,itemWidth:m.itemWidth,intervalWidth:m.intervalWidth,data:m,rect:b},Q={items:C,renderData:P};e._renderData.length<a+1;)e._renderData.push({});e._renderData[a].xAxis=P;var R=e._getAnimProps(a),S=R.enabled&&C.length<500?R.duration:0;0==e.enableAxisTextAnimation&&(S=0),!c&&o&&(h?(b.width-=p,"right"!=f.position&&(b.x+=p)):(b.height-=p,"top"==f.position&&(b.y+=p)));var T=e._renderAxis(h,O,M,N,{x:b.x,y:b.y,width:b.width,height:b.height},d,q,!1,!0,Q,s,t,c,S);return h?T.width+=p:T.height+=p,T}},_animateAxisText:function(a,b){for(var c=a.items,d=a.textSettings,e=0;e<c.length;e++){var f=c[e];if(f.visible){var g=f.targetX,h=f.targetY;isNaN(f.x)||isNaN(f.y)||(g=f.x+(g-f.x)*b,h=f.y+(h-f.y)*b),f.element&&(this.renderer.removeElement(f.element),f.element=void 0),f.element=this.renderer.text(f.text,g,h,f.width,f.height,d.textRotationAngle,{"class":d.style},!1,d.halign,d.valign,d.textRotationPoint)
}}},_getPolarAxisCoords:function(b,c){var d=this.seriesGroups[b],e=this._calcGroupOffsets(b,c).xoffsets;if(e){var f=c.x+a.jqx.getNum([d.offsetX,c.width/2]),g=c.y+a.jqx.getNum([d.offsetY,c.height/2]),h=d.radius;isNaN(h)&&(h=Math.min(c.width,c.height)/2*.6);var i=this._alignValuesWithTicks(b),j=d.startAngle;return isNaN(j)?j=0:(j=(0>j?-1:1)*(Math.abs(j)%360),j=2*Math.PI*j/360),{x:f,y:g,r:h,itemWidth:e.itemWidth,rangeLength:e.rangeLength,valuesOnTicks:i,startAngle:j}}},_toPolarCoord:function(b,c,d,e){var f=2*(d-c.x)*Math.PI/Math.max(1,c.width)+b.startAngle,g=(c.height+c.y-e)*b.r/Math.max(1,c.height),h=b.x+g*Math.cos(f),i=b.y+g*Math.sin(f);return{x:a.jqx._ptrnd(h),y:a.jqx._ptrnd(i)}},_renderSpiderAxis:function(b,c){var d=this,e=d._getCategoryAxis(b);if(e&&0!=e.visible){var f=(d.seriesGroups[b],d._getPolarAxisCoords(b,c));if(f){var g=a.jqx._ptrnd(f.x),h=a.jqx._ptrnd(f.y),i=f.r,j=f.startAngle;if(!(1>i)){i=a.jqx._ptrnd(i);var k=2*Math.PI*i,l=d._calculateXOffsets(b,k);if(l.rangeLength){var m=e.unitInterval;(isNaN(m)||1>m)&&(m=1);var n,o={visible:0!=e.showGridLines,color:e.gridLinesColor||"#888888",unitInterval:e.gridLinesInterval||e.unitInterval||m,dashStyle:e.gridLinesDashStyle,offsets:[]},p={visible:0!=e.showTickMarks,color:e.tickMarksColor||"#888888",unitInterval:e.tickMarksInterval||e.unitInterval||m,dashStyle:e.tickMarksDashStyle,offsets:[]},q=e.horizontalTextAlignment,r=d._alignValuesWithTicks(b),s=d.renderer,t=l.axisStats,u=t.min,v=t.max,w=this._getPaddingSize(l.axisStats,e,r,k,!0,!1),x=1==e.flip||d.rtl;"date"==e.type?(o.offsets=this._generateDTOffsets(u,v,k,w,o.unitInterval,m,e.baseUnit,!1,0,!1,x),p.offsets=this._generateDTOffsets(u,v,k,w,p.unitInterval,m,e.baseUnit,!1,0,!1,x),n=this._generateDTOffsets(u,v,k,w,m,m,e.baseUnit,!1,0,!0,x)):(o.offsets=this._generateOffsets(u,v,k,w,o.unitInterval,m,!0,0,!1,x),p.offsets=this._generateOffsets(u,v,k,w,p.unitInterval,m,!0,0,!1,x),n=this._generateOffsets(u,v,k,w,m,m,!0,0,!1,x));{var y,q=e.horizontalTextAlignment,z=d.renderer.getRect();z.width-c.x-c.width,d._getDataLen(b)}d._elementRenderInfo&&d._elementRenderInfo.length>b&&(y=d._elementRenderInfo[b].xAxis);for(var A=[],B=0;B<n.length;B++){var C=n[B].offset,D=n[B].value;if("date"!=e.type&&t.useIndeces&&e.dataField){var E=Math.round(D);D=d._getDataValue(E,e.dataField),void 0==D&&(D="")}var F=d._formatValue(D,e.formatSettings,e.formatFunction,b,void 0,B);(void 0==F||""==F)&&(F=t.useIndeces?(t.min+B).toString():void 0==D?"":D.toString());var G={key:D,text:F,targetX:C,x:C};y&&y.itemOffsets[D]&&(G.x=y.itemOffsets[D].x,G.y=y.itemOffsets[D].y),A.push(G)}var H=e.descriptionClass;H||(H=d.toThemeProperty("jqx-chart-axis-description",null));var I=e["class"];I||(I=d.toThemeProperty("jqx-chart-axis-text",null));var F=e.text,J=e.textRotationAngle||0,K="horizontal"==d.seriesGroups[b].orientation;K&&(J-=90);for(var L=({text:e.description,style:H,halign:e.horizontalDescriptionAlignment||"center",valign:e.verticalDescriptionAlignment||"center",textRotationAngle:K?-90:0},{textRotationAngle:J,style:I,halign:q,valign:e.verticalTextAlignment||"center",textRotationPoint:e.textRotationPoint||"auto",textOffset:e.textOffset},K&&"right"==e.position||!K&&"top"==e.position,{rangeLength:l.rangeLength,itemWidth:l.itemWidth});d._renderData.length<b+1;)d._renderData.push({});d._renderData[b].xAxis=L;for(var M={stroke:o.color,fill:"none","stroke-width":1,"stroke-dasharray":o.dashStyle||""},N=(s.circle(g,h,i,M),A.length),O=(2*Math.PI/N,j),B=0;B<A.length;B++){var P=A[B].x,Q=O+2*P*Math.PI/Math.max(1,k);Q=(360-Q/(2*Math.PI)*360)%360,0>Q&&(Q=360+Q);var R=s.measureText(A[B].text,0,{"class":I}),S=this._adjustTextBoxPosition(g,h,R,i+(p.visible?7:2),Q,!1,!1,!0);s.text(A[B].text,S.x,S.y,R.width,R.height,0,{"class":I},!1,"center","center")}if(o.visible)for(var B=0;B<o.offsets.length;B++){var P=o.offsets[B].offset;r||(P-=w.right/2);var Q=O+2*P*Math.PI/Math.max(1,k),T=g+i*Math.cos(Q),U=h+i*Math.sin(Q);s.line(g,h,a.jqx._ptrnd(T),a.jqx._ptrnd(U),M)}if(p.visible)for(var V=5,M={stroke:p.color,fill:"none","stroke-width":1,"stroke-dasharray":p.dashStyle||""},B=0;B<p.offsets.length;B++){var P=p.offsets[B].offset;r||(P-=w.right/2);var Q=O+2*P*Math.PI/Math.max(1,k),W={x:g+i*Math.cos(Q),y:h+i*Math.sin(Q)},X={x:g+(i+V)*Math.cos(Q),y:h+(i+V)*Math.sin(Q)};s.line(a.jqx._ptrnd(W.x),a.jqx._ptrnd(W.y),a.jqx._ptrnd(X.x),a.jqx._ptrnd(X.y),M)}d._renderSpiderValueAxis(b,c)}}}}},_renderSpiderValueAxis:function(b,c){var d=this.seriesGroups[b],e=this._getPolarAxisCoords(b,c);if(e){{var f=a.jqx._ptrnd(e.x),g=a.jqx._ptrnd(e.y),h=e.r;e.startAngle}if(!(1>h)){h=a.jqx._ptrnd(h);var i=this.seriesGroups[b].valueAxis;if(i&&0!=i.displayValueAxis&&0!=i.visible){var j=i["class"];j||(j=this.toThemeProperty("jqx-chart-axis-text",null));var k=i.formatSettings,l=-1!=d.type.indexOf("stacked")&&-1!=d.type.indexOf("100");l&&!k&&(k={sufix:"%"}),this._calcValueAxisItems(b,h);var m=this._stats.seriesGroups[b].mu,n={visible:0!=i.showGridLines,color:i.gridLinesColor||"#888888",unitInterval:i.gridLinesInterval||m||1,dashStyle:i.gridLinesDashStyle},o={stroke:n.color,fill:"none","stroke-width":1,"stroke-dasharray":n.dashStyle||""},p=this._renderData[b].valueAxis,q=p.items;q.length&&this.renderer.line(f,g,f,a.jqx._ptrnd(g-h),o),q=q.reverse();for(var r=this.renderer,s=0;s<q.length-1;s++){var t=q[s],u=i.formatFunction?i.formatFunction(t):this._formatNumber(t,k),v=r.measureText(u,0,{"class":j}),w=f+(0!=i.showTickMarks?3:2),x=g-p.itemWidth*s-v.height;r.text(u,w,x,v.width,v.height,0,{"class":j},!1,"center","center")}var y=1==i.logarithmicScale,z=y?q.length:p.rangeLength;if(aIncrement=2*Math.PI/z,n.visible)for(var o={stroke:n.color,fill:"none","stroke-width":1,"stroke-dasharray":n.dashStyle||""},s=0;z>s;s+=n.unitInterval){var x=a.jqx._ptrnd(h*s/z);r.circle(f,g,x,o)}var A={visible:0!=i.showTickMarks,color:i.tickMarksColor||"#888888",unitInterval:i.tickMarksInterval||m,dashStyle:i.tickMarksDashStyle};if(A.visible){tickMarkSize=5;for(var o={stroke:A.color,fill:"none","stroke-width":1,"stroke-dasharray":A.dashStyle||""},B=f-Math.round(tickMarkSize/2),C=B+tickMarkSize,s=0;z>s;s+=A.unitInterval)if(!n.visible||s%n.unitInterval!=0){var x=a.jqx._ptrnd(g-h*s/z);r.line(a.jqx._ptrnd(B),x,a.jqx._ptrnd(C),x,o)}}}}}},_renderAxis:function(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=m.visible?4:0,q=2,r={width:0,height:0},s={width:0,height:0};b?r.height=s.height=f.height:r.width=s.width=f.width,!n&&c&&b&&(f.x-=f.width);var t=k.renderData,u=t.itemWidth;if(void 0!=d.text&&""!=d){var v=d.textRotationAngle,w=this.renderer.measureText(d.text,v,{"class":d.style});s.width=w.width,s.height=w.height,n||this.renderer.text(d.text,f.x+(b?c?-q+2*f.width-s.width:q:0),f.y+(b?0:c?q:f.height-q-s.height),b?s.width:f.width,b?f.height:s.height,v,{"class":d.style},!0,d.halign,d.valign)}var x=0,y=j?-u/2:0;j&&!b&&(e.halign="center");var z=f.x,A=f.y,B=e.textOffset;B&&(isNaN(B.x)||(z+=B.x),isNaN(B.y)||(A+=B.y)),b?(z+=q+(s.width>0?s.width+q:0)+(c?f.width-s.width:0),A+=y):(z+=y,c?(A+=s.height>0?s.height+3*q:2*q,A+=p-(j?p:p/4)):A+=j?p:p/4);var C=0,D=0,E=k.items;t.itemOffsets={},(this._isToggleRefresh||!this._isUpdate)&&(o=0);for(var F=!1,G=0,H=0;H<E.length;H++,x+=u){var I=E[H].text;isNaN(E[H].targetX)||(x=E[H].targetX);var w=this.renderer.measureText(I,e.textRotationAngle,{"class":e.style});if(w.width>D&&(D=w.width),w.height>C&&(C=w.height),G+=b?C:D,!n){if(b&&x>f.height+2||!b&&x>f.width+2)break;var J=b?z+(c?0==s.width?p:p-q:0):z+x,K=b?A+x:A;t.itemOffsets[E[H].key]={x:J,y:K},F||(!isNaN(E[H].x)||!isNaN(E[H].y)&&o)&&(F=!0),E[H].targetX=J,E[H].targetY=K,E[H].width=b?f.width-2*q-p-(s.width>0?s.width+q:0):u,E[H].height=b?u:f.height-2*q-p-(s.height>0?s.height+q:0),E[H].visible=!i||i&&H%h==0}}if(t.avgWidth=0==E.length?0:G/E.length,!n){var L={items:E,textSettings:e};if((isNaN(o)||!F)&&(o=0),this._animateAxisText(L,0==o?1:0),0!=o){var M=this;this._enqueueAnimation("series",void 0,void 0,o,function(a,b,c){M._animateAxisText(b,c)},L)}}r.width+=2*q+p+s.width+D+(b&&s.width>0?q:0),r.height+=2*q+p+s.height+C+(!b&&s.height>0?q:0);var N={},O={stroke:l.color,"stroke-width":1,"stroke-dasharray":l.dashStyle||""};if(!n){var K=a.jqx._ptrnd(f.y+(c?f.height:0));b?this.renderer.line(a.jqx._ptrnd(f.x+f.width),f.y,a.jqx._ptrnd(f.x+f.width),f.y+f.height,O):this.renderer.line(a.jqx._ptrnd(f.x),K,a.jqx._ptrnd(f.x+f.width+1),K,O)}var P=.5;if(!n&&0!=l.visible)for(var Q=l.offsets,H=0;H<Q.length;H++){if(b){if(R=a.jqx._ptrnd(f.y+Q[H].offset),R<f.y-P)break}else if(R=a.jqx._ptrnd(f.x+Q[H].offset),R>f.x+f.width+P)break;b?this.renderer.line(a.jqx._ptrnd(g.x),R,a.jqx._ptrnd(g.x+g.width),R,O):this.renderer.line(R,a.jqx._ptrnd(g.y),R,a.jqx._ptrnd(g.y+g.height),O),N[R]=!0}var O={stroke:m.color,"stroke-width":1,"stroke-dasharray":m.dashStyle||""};if(!n&&m.visible)for(var Q=m.offsets,H=0;H<Q.length;H++){var R=a.jqx._ptrnd(b?f.y+Q[H].offset:f.x+Q[H].offset);if(N[R-1]?R--:N[R+1]&&R++,b){if(R>f.y+f.height+P)break}else if(R>f.x+f.width+P)break;var S=c?p:-p;if(b)this.renderer.line(f.x+f.width,R,f.x+f.width+S,R,O);else{var K=a.jqx._ptrnd(f.y+(c?f.height:0));this.renderer.line(R,K,R,K-S,O)}}return r.width=a.jqx._rup(r.width),r.height=a.jqx._rup(r.height),r},_calcValueAxisItems:function(a,b){var c=this._stats.seriesGroups[a];if(!c||!c.isValid)return!1;var d=this.seriesGroups[a],e=("horizontal"==d.orientation,d.valueAxis),f=0!=e.valuesOnTicks,g=(e.dataField,c.intervals),h=b/g,i=c.min,j=c.mu,k=1==e.logarithmicScale,l=e.logarithmicScaleBase||10,m=-1!=d.type.indexOf("stacked")&&-1!=d.type.indexOf("100");for(k&&(j=isNaN(e.unitInterval)?1:e.unitInterval),f||(g=Math.max(g-1,1));this._renderData.length<a+1;)this._renderData.push({});this._renderData[a].valueAxis={};var n=this._renderData[a].valueAxis;n.itemWidth=n.intervalWidth=h,n.items=[];for(var o=n.items,p=0;g>=p;p++){var q=0;q=k?m?c.max/Math.pow(l,g-p):i*Math.pow(l,p):f?i+p*j:i+(p+.5)*j,o.push(q)}return n.rangeLength=k&&!m?c.intervals:c.intervals*j,1!=d.valueAxis.flip&&(o=o.reverse()),!0},_renderValueAxis:function(a,b,c,d){var e=this.seriesGroups[a],f="horizontal"==e.orientation,g=e.valueAxis;if(!g)throw"SeriesGroup "+a+" is missing valueAxis definition";var h={width:0,height:0};if(!this._isGroupVisible(a)||this._isPieOnlySeries()||"spider"==e.type)return h;if(!this._calcValueAxisItems(a,f?b.width:b.height)||0==g.displayValueAxis||0==g.visible)return h;var i=g.descriptionClass;i||(i=this.toThemeProperty("jqx-chart-axis-description",null));var j={text:g.description,style:i,halign:g.horizontalDescriptionAlignment||"center",valign:g.verticalDescriptionAlignment||"center",textRotationAngle:f?0:this.rtl?90:-90},k=g.itemsClass;k||(k=this.toThemeProperty("jqx-chart-axis-text",null));var l={style:k,halign:g.horizontalTextAlignment||"center",valign:g.verticalTextAlignment||"center",textRotationAngle:g.textRotationAngle||0,textRotationPoint:g.textRotationPoint||"auto",textOffset:g.textOffset},m=0!=g.valuesOnTicks,n=this._stats.seriesGroups[a],o=n.mu,p=g.formatSettings,q=-1!=e.type.indexOf("stacked")&&-1!=e.type.indexOf("100");q&&!p&&(p={sufix:"%"});{var r=1==g.logarithmicScale;g.logarithmicScaleBase||10}r&&(o=isNaN(g.unitInterval)?1:g.unitInterval);var s,t=[],u=this._renderData[a].valueAxis;this._elementRenderInfo&&this._elementRenderInfo.length>a&&(s=this._elementRenderInfo[a].valueAxis);for(var v=0;v<u.items.length;v++){var w=u.items[v],x=g.formatFunction?g.formatFunction(w):this._formatNumber(w,p),y={key:w,text:x};s&&s.itemOffsets[w]&&(y.x=s.itemOffsets[w].x,y.y=s.itemOffsets[w].y),t.push(y)}var z=g.gridLinesInterval||g.unitInterval;(isNaN(z)||r&&o>z)&&(z=o);var A=f?b.width:b.height,B={visible:0!=g.showGridLines,color:g.gridLinesColor||"#888888",unitInterval:z,dashStyle:g.gridLinesDashStyle},C=n.logarithmic?n.minPow:n.min,D=n.logarithmic?n.maxPow:n.max,E=!1;B.visible&&(B.offsets=this._generateOffsets(C,D,A,{left:0,right:0},B.unitInterval,o,!0,0,!1,E));var F=g.tickMarksInterval||g.unitInterval;(isNaN(F)||r&&o>F)&&(F=o);var G={visible:0!=g.showTickMarks,color:g.tickMarksColor||"#888888",unitInterval:F,dashStyle:g.tickMarksDashStyle};G.visible&&(G.offsets=this._generateOffsets(C,D,A,{left:0,right:0},G.unitInterval,o,!0,0,!1,E));var H=f&&"top"==g.position||!f&&"right"==g.position||!f&&this.rtl&&"left"!=g.position,I={items:t,renderData:u},J=this._getAnimProps(a),K=J.enabled&&t.length<500?J.duration:0;return 0==this.enableAxisTextAnimation&&(K=0),this._renderAxis(!f,H,j,l,b,d,o,r,m,I,B,G,c,K)},_generateOffsets:function(a,b,c,d,e,f,g,h,i,j){var k=[],l=b-a,m=c-d.left-d.right;if(0==l)return k.push(i||g?{offset:d.left+m/2,value:a}:{offset:0,value:a}),k;var n=m/l,o=n*f,p=d.left;g||i||(b+=f);for(var q=a;b>=q;q+=f,p+=o)k.push({offset:p,value:q});if(!g&&k.length>1){isNaN(h)&&(h=i?0:o/2);for(var q=0;q<k.length;q++)k[q].offset-=h,k[q].offset<=2&&(k[q].offset=0),k[q].offset>=c-2&&(k[q].offset=c)}if(e>f){for(var r=[],s=Math.round(e/f),q=0;q<k.length;q++)q%s==0&&r.push({offset:k[q].offset,value:k[q].value});k=r}if(j)for(var q=0;q<k.length;q++)k[q].offset=c-k[q].offset;return k},_generateDTOffsets:function(b,c,d,e,f,g,h,i,j,k,l){h||(h="day");var m=[];if(b>c)return m;if(b==c)return k?m.push({offset:i?d/2:e.left,value:b}):i&&m.push({offset:d/2,value:b}),m;var n=d-e.left-e.right,o=b,p=e.left,q=p;g=Math.max(g,1);var r=g,s=Math.min(1,g);for(g>1&&(g=1);a.jqx._ptrnd(q)<=a.jqx._ptrnd(e.left+n+(i?0:e.right));){m.push({offset:q,value:o});var t=new Date(o.valueOf());"millisecond"==h?t.setMilliseconds(o.getMilliseconds()+g):"second"==h?t.setSeconds(o.getSeconds()+g):"minute"==h?t.setMinutes(o.getMinutes()+g):"hour"==h?t.setHours(o.getHours()+g):"day"==h?t.setDate(o.getDate()+g):"month"==h?t.setMonth(o.getMonth()+g):"year"==h&&t.setFullYear(o.getFullYear()+g),o=t,q=p+(o.valueOf()-b.valueOf())*s/(c.valueOf()-b.valueOf())*n}if(l)for(var u=0;u<m.length;u++)m[u].offset=d-m[u].offset;if(r>1){for(var v=[],u=0;u<m.length;u+=r)v.push({offset:m[u].offset,value:m[u].value});m=v}if(!i&&!k&&m.length>1){var v=[];v.push({offset:0,value:void 0});for(var u=1;u<m.length;u++)v.push({offset:m[u-1].offset+(m[u].offset-m[u-1].offset)/2,value:void 0});var w=v.length;v.push(w>1?{offset:v[w-1].offset+(v[w-1].offset-v[w-2].offset)}:{offset:d,value:void 0}),m=v}if(f>g){for(var v=[],x=Math.round(f/r),u=0;u<m.length;u++)u%x==0&&v.push({offset:m[u].offset,value:m[u].value});m=v}return m},_buildStats:function(b){var c={seriesGroups:new Array};this._stats=c;for(var d=0;d<this.seriesGroups.length;d++){var e=this.seriesGroups[d];c.seriesGroups[d]={};var f=c.seriesGroups[d];f.isValid=!0;var g=void 0!=e.valueAxis,h="horizontal"==e.orientation?b.width:b.height,i=!1,j=10;g&&(i=1==e.valueAxis.logarithmicScale,j=e.valueAxis.logarithmicScaleBase,isNaN(j)&&(j=10));var k=-1!=e.type.indexOf("stacked"),l=k&&-1!=e.type.indexOf("100"),m=-1!=e.type.indexOf("range");l&&(f.psums=new Array,f.nsums=new Array);var n=0/0,o=0/0,p=0/0,q=0/0,r=e.baselineValue;isNaN(r)&&(r=i&&!l?1:0);for(var s=this._getDataLen(d),t=0,u=0/0,v=0;s>v&&f.isValid;v++){for(var w=g?e.valueAxis.minValue:1/0,x=g?e.valueAxis.maxValue:-1/0,y=0,z=0,A=0;A<e.series.length;A++)if(this._isSerieVisible(d,A)){var B=void 0,C=void 0,D=void 0;if(m){var E=this._getDataValueAsNumber(v,e.series[A].dataFieldFrom,d),F=this._getDataValueAsNumber(v,e.series[A].dataFieldTo,d);C=Math.max(E,F),D=Math.min(E,F)}else{if(B=this._getDataValueAsNumber(v,e.series[A].dataField,d),isNaN(B)||i&&0>=B)continue;D=C=B}(isNaN(x)||C>x)&&(!g||isNaN(e.valueAxis.maxValue)?!0:C<=e.valueAxis.maxValue)&&(x=Math.max(C,r)),(isNaN(w)||w>D)&&(!g||isNaN(e.valueAxis.minValue)?!0:D>=e.valueAxis.minValue)&&(w=Math.min(D,r)),isNaN(B)||(B>r?y+=B:r>B&&(z+=B))}if(!l&&g&&(isNaN(e.valueAxis.maxValue)||(y=Math.min(e.valueAxis.maxValue,y)),isNaN(e.valueAxis.minValue)||(z=Math.max(e.valueAxis.minValue,z))),i&&l)for(var A=0;A<e.series.length;A++)if(this._isSerieVisible(d,A)){var B=this._getDataValueAsNumber(v,e.series[A].dataField,d);if(isNaN(B)||0>=B)u=.01;else{var G=0==y?0:B/y;(isNaN(u)||u>G)&&(u=G)}}else u=.01;var H=y-z;H>t&&(t=H),l&&(f.psums[v]=y,f.nsums[v]=z),(x>o||isNaN(o))&&(o=x),(n>w||isNaN(n))&&(n=w),(y>p||isNaN(p))&&(p=y),(q>z||isNaN(q))&&(q=z)}l&&(p=0==p?0:Math.max(p,-q),q=0==q?0:Math.min(q,-p));var I=g?e.valueAxis.unitInterval:0;I||(I=g?this._calcInterval(k?q:n,k?p:o,Math.max(h/80,2)):k?(p-q)/10:(o-n)/10);var J=0/0,K=0,L=0;if(i){if(l){J=0;var G=1;for(K=L=a.jqx.log(100,j);G>u;)G/=j,K--,J++;n=Math.pow(j,K)}else k&&(o=Math.max(o,p)),L=a.jqx._rnd(a.jqx.log(o,j),1,!0),o=Math.pow(j,L),K=a.jqx._rnd(a.jqx.log(n,j),1,!1),n=Math.pow(j,K);I=j}q>n&&(q=n),o>p&&(p=o);var M=i?n:a.jqx._rnd(k?q:n,I,!1),N=i?o:a.jqx._rnd(k?p:o,I,!0);l&&N>100&&(N=100),l&&!i&&(N=N>0?100:0,M=0>M?-100:0,I=g?e.valueAxis.unitInterval:10,(isNaN(I)||0>=I||I>=100)&&(I=10)),isNaN(N)||isNaN(M)||isNaN(I)||(isNaN(J)&&(J=parseInt(((N-M)/(0==I?1:I)).toFixed())),i&&!l&&(J=L-K,t=Math.pow(j,J)),1>J||(f.min=M,f.max=N,f.logarithmic=i,f.logBase=j,f.base=r,f.minPow=K,f.maxPow=L,f.mu=I,f.maxRange=t,f.intervals=J))}},_getDataLen:function(b){var c=this.source;return void 0!=b&&-1!=b&&this.seriesGroups[b].source&&(c=this.seriesGroups[b].source),c instanceof a.jqx.dataAdapter&&(c=c.records),c?c.length:0},_getDataValue:function(b,c,d){var e=this.source;return void 0!=d&&-1!=d&&(e=this.seriesGroups[d].source||e),e instanceof a.jqx.dataAdapter&&(e=e.records),!e||0>b||b>e.length-1?void 0:a.isFunction(c)?c(b,e):c&&""!=c?e[b][c]:e[b]},_getDataValueAsNumber:function(a,b,c){var d=this._getDataValue(a,b,c);return this._isDate(d)?d.valueOf():("number"!=typeof d&&(d=parseFloat(d)),"number"!=typeof d&&(d=void 0),d)},_renderPieSeries:function(b,c){for(var d=this._getDataLen(b),e=this.seriesGroups[b],f=this._calcGroupOffsets(b,c).offsets,g=0;g<e.series.length;g++){var h=e.series[g],i=this._getSerieSettings(b,g),j=(h.colorScheme||e.colorScheme||this.colorScheme,this._getAnimProps(b,g)),k=j.enabled&&5e3>d&&!this._isToggleRefresh&&1!=this._isVML?j.duration:0;a.jqx.mobile.isMobileBrowser()&&this.renderer instanceof a.jqx.HTML5Renderer&&(k=0);for(var l={rect:c,groupIndex:b,serieIndex:g,settings:i,items:[]},m=0;d>m;m++){var n=f[g][m];if(n.visible){var o=n.fromAngle,p=n.toAngle,q=this.renderer.pieslice(n.x,n.y,n.innerRadius,n.outerRadius,o,0==k?p:o,n.centerOffset),r={element:q,displayValue:n.displayValue,itemIndex:m,visible:n.visible,x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:n.outerRadius,fromAngle:o,toAngle:p,centerOffset:n.centerOffset};l.items.push(r)}}this._animatePieSlices(l,0);var s=this;this._enqueueAnimation("series",q,void 0,k,function(a,b,c){s._animatePieSlices(b,c)},l)}},_sliceSortFunction:function(a,b){return a.fromAngle-b.fromAngle},_animatePieSlices:function(b,c){var d;this._elementRenderInfo&&this._elementRenderInfo.length>b.groupIndex&&this._elementRenderInfo[b.groupIndex].series&&this._elementRenderInfo[b.groupIndex].series.length>b.serieIndex&&(d=this._elementRenderInfo[b.groupIndex].series[b.serieIndex]);for(var e=[],f=0;f<b.items.length;f++){var g=b.items[f];if(g.visible){var h=g.fromAngle,i=g.fromAngle+c*(g.toAngle-g.fromAngle);if(d&&d[g.displayValue]){var j=d[g.displayValue].fromAngle,k=d[g.displayValue].toAngle;h=j+(h-j)*c,i=k+(i-k)*c}e.push({index:f,from:h,to:i})}}d&&e.sort(this._sliceSortFunction);for(var l=0/0,f=0;f<e.length;f++){var g=b.items[e[f].index];g.labelElement&&this.renderer.removeElement(g.labelElement);var h=e[f].from,i=e[f].to;d&&(!isNaN(l)&&h>l&&(h=l),l=i,f==e.length-1&&i!=e[0].from&&(i=360+e[0].from));var m=this.renderer.pieSlicePath(g.x,g.y,g.innerRadius,g.outerRadius,h,i,g.centerOffset);this.renderer.attr(g.element,{d:m});var n=this._getColors(b.groupIndex,b.serieIndex,g.itemIndex,"radialGradient",g.outerRadius),o=b.settings;this.renderer.attr(g.element,{fill:n.fillColor,stroke:n.lineColor,"stroke-width":o.stroke,"fill-opacity":o.opacity,"stroke-opacity":o.opacity,"stroke-dasharray":"none"});var p=this.seriesGroups[b.groupIndex],q=p.series[b.serieIndex];if(1==q.showLabels||!q.showLabels&&1==p.showLabels){var r=h,s=i,t=Math.abs(r-s);t>360&&(r=0,s=360);var u=(r*Math.PI*2/360,s*Math.PI*2/360,t/2+r);u%=360;var v,w=u*Math.PI*2/360;1==q.labelsAutoRotate&&(v=90>u||u>270?360-u:180-u);var x=this._showLabel(b.groupIndex,b.serieIndex,g.itemIndex,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,v),y=q.labelRadius||g.outerRadius+Math.max(x.width,x.height);y+=g.centerOffset;var z=a.jqx.getNum([q.offsetX,p.offsetX,b.rect.width/2]),A=a.jqx.getNum([q.offsetY,p.offsetY,b.rect.height/2]),B=b.rect.x+z,C=b.rect.y+A,D=this._adjustTextBoxPosition(B,C,x,y,u,g.outerRadius>y,0!=q.labelLinesAngles,1==q.labelsAutoRotate);g.labelElement=this._showLabel(b.groupIndex,b.serieIndex,g.itemIndex,{x:D.x,y:D.y,width:x.width,height:x.height},"left","top",!1,!1,!1,v),y>g.outerRadius+5&&0!=q.labelLinesEnabled&&(g.labelArrowPath=this._updateLebelArrowPath(g.labelArrowPath,B,C,y,g.outerRadius,w,0!=q.labelLinesAngles,n,o))}1==c&&this._installHandlers(g.element,"pieslice",b.groupIndex,b.serieIndex,g.itemIndex)}},_updateLebelArrowPath:function(b,c,d,e,f,g,h,i,j){var k=a.jqx._ptrnd(c+(e-0)*Math.cos(g)),l=a.jqx._ptrnd(d-(e-0)*Math.sin(g)),m=a.jqx._ptrnd(c+(f+2)*Math.cos(g)),n=a.jqx._ptrnd(d-(f+2)*Math.sin(g)),o="M "+k+","+l+" L"+m+","+n;return h&&(o="M "+k+","+l+" L"+m+","+l+" L"+m+","+n),b?this.renderer.attr(b,{d:o}):b=this.renderer.path(o,{}),this.renderer.attr(b,{fill:"none",stroke:i.lineColor,"stroke-width":j.stroke,"stroke-opacity":j.opacity,"stroke-dasharray":"none"}),b},_adjustTextBoxPosition:function(b,c,d,e,f,g,h,i){var j=f*Math.PI*2/360,k=a.jqx._ptrnd(b+e*Math.cos(j)),l=a.jqx._ptrnd(c-e*Math.sin(j));if(i){var m=d.width,n=d.height,o=Math.atan(n/m)%(2*Math.PI),p=j%(2*Math.PI),q=0,r=0,s=0;o>=p?(s=m/2*Math.cos(j),r=s*Math.sin(j),q=-m/2):p>=o&&p<Math.PI-o?(s=n/2*Math.sin(j),r=n/2,q=-Math.cos(j)*s):p>=Math.PI-o&&p<Math.PI+o?(s=m/2*Math.cos(j),r=-s*Math.sin(j),q=m/2):p>=Math.PI+o&&p<2*Math.PI-o?(s=n/2*Math.sin(j),r=-n/2,q=Math.cos(j)*s):p>=2*Math.PI-o&&p<2*Math.PI&&(s=m/2*Math.cos(j),r=s*Math.sin(j),q=-m/2),e+=Math.abs(s)+3;var k=a.jqx._ptrnd(b+e*Math.cos(j)),l=a.jqx._ptrnd(c-e*Math.sin(j));return k-=d.width/2,l-=d.height/2,{x:k,y:l}}return g?(k-=d.width/2,l-=d.height/2):h?f>=90&&270>f?(l-=d.height/2,k-=d.width):l-=d.height/2:f>=0&&45>f||f>=315&&360>f?l-=d.height/2:f>=45&&135>f?(l-=d.height,k-=d.width/2):f>=135&&225>f?(l-=d.height/2,k-=d.width):f>=225&&315>f&&(k-=d.width/2),{x:k,y:l}},_getColumnGroupsCount:function(a){var b=0;a=a||"vertical";for(var c=this.seriesGroups,d=0;d<c.length;d++){var e=c[d].orientation||"vertical";-1!=c[d].type.indexOf("column")&&e==a&&b++}return b},_getColumnGroupIndex:function(a){for(var b=0,c=this.seriesGroups[a].orientation||"vertical",d=0;a>d;d++){var e=this.seriesGroups[d],f=e.orientation||"vertical";-1!=e.type.indexOf("column")&&f==c&&b++}return b},_renderBand:function(a,b,c){var d=this.seriesGroups[a];if(d.bands&&!(d.bands.length<=b)){var e=c;"horizontal"==d.orientation&&(e={x:c.y,y:c.x,width:c.height,height:c.width});var f=this._calcGroupOffsets(a,e);if(f&&!(f.length<=a)){var g=d.bands[b],h=f.bands[b],i=h.from,j=h.to,k=Math.abs(i-j),l={x:e.x,y:Math.min(i,j),width:e.width,height:k};if("horizontal"==d.orientation){var m=l.x;l.x=l.y,l.y=m,m=l.width,l.width=l.height,l.height=m}var n=this.renderer.rect(l.x,l.y,l.width,l.height),o=g.color||"#AAAAAA",p=g.opacity;(isNaN(p)||0>p||p>1)&&(p=.5),this.renderer.attr(n,{fill:o,"fill-opacity":p,stroke:o,"stroke-opacity":p,"stroke-width":0})}}},_renderColumnSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=-1!=d.type.indexOf("stacked"),f=(e&&-1!=d.type.indexOf("100"),-1!=d.type.indexOf("range"),this._getDataLen(b),d.columnsGapPercent);(isNaN(f)||0>f||f>100)&&(f=25);var g=d.seriesGapPercent;(isNaN(g)||0>g||g>100)&&(g=10);var h="horizontal"==d.orientation,i=c;h&&(i={x:c.y,y:c.x,width:c.height,height:c.width});var j=this._calcGroupOffsets(b,i);if(j&&0!=j.xoffsets.length){var k=this._getColumnGroupsCount(d.orientation),l=this._getColumnGroupIndex(b);1==this.columnSeriesOverlap&&(k=1,l=0);var m,n=!0;(1==d.polar||1==d.spider)&&(m=this._getPolarAxisCoords(b,i),f=0,g=0);for(var o={groupIndex:b,rect:c,vertical:!h,seriesCtx:[],renderData:j,polarAxisCoords:m},p=this._getGroupGradientType(b),q=0;q<d.series.length;q++){var r=d.series[q],s=r.columnsMaxWidth||d.columnsMaxWidth,t=(r.dataField,this._getAnimProps(b,q)),u=t.enabled&&!this._isToggleRefresh&&j.xoffsets.length<100?t.duration:0,v=0,w=j.xoffsets.itemWidth;n&&(v-=w/2),v+=w*(l/k),w/=k;var y=v+w,z=y-v,A=(y-v)/(1+f/100),B=!e&&d.series.length>1?A*g/100/(d.series.length-1):0,C=A-B*(d.series.length-1);1>A&&(A=1);var D=0;!e&&d.series.length>1&&(C/=d.series.length,D=q);var E=v+(z-A)/2+D*(B+C);if(D==d.series.length&&(C=z-v+A-x),!isNaN(s)){var F=Math.min(C,s);E+=(C-F)/2,C=F}var G=this._isSerieVisible(b,q),H=this._getSerieSettings(b,q),I=this._getColors(b,q,0/0,this._getGroupGradientType(b),4),J=[];if(a.isFunction(r.colorFunction)&&!m)for(var K=j.xoffsets.first;K<=j.xoffsets.last;K++)J.push(this._getColors(b,q,K,p,4));var L={seriesIndex:q,serieColors:I,itemsColors:J,settings:H,columnWidth:C,xAdjust:E,isVisible:G};o.seriesCtx.push(L)}this._animateColumns(o,0==u?1:0);var M=this;this._enqueueAnimation("series",void 0,void 0,u,function(a,b,c){M._animateColumns(b,c)},o)}}},_getColumnOffsets:function(a,b,c,d,e,f){for(var g=this.seriesGroups[b],h=[],i=0;i<c.length;i++){var j=c[i],k=j.seriesIndex,l=(g.series[k],a.offsets[k][d].from),m=a.offsets[k][d].to,n=a.xoffsets.data[d],o=void 0,p=j.isVisible;if(p||(m=l),p&&this._elementRenderInfo&&this._elementRenderInfo.length>b){var q=a.xoffsets.xvalues[d];o=this._elementRenderInfo[b].series[k][q],!o||isNaN(o.from)||isNaN(o.to)||(l=o.from+(l-o.from)*f,m=o.to+(m-o.to)*f,n=o.xoffset+(n-o.xoffset)*f)}o||(m=l+(m-l)*(e?1:f)),isNaN(l)&&(l=0),isNaN(m)&&(m=isNaN(l)?0:l),h.push({from:l,to:m,xOffset:n})}if(e&&h.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>b)){for(var r=0,s=0,t=0;t<h.length;t++)h[t].to>=h[t].from?s+=h[t].to-h[t].from:r+=h[t].from-h[t].to;r*=f,s*=f;for(var u=0,v=0,t=0;t<h.length;t++)if(h[t].to>=h[t].from){var w=h[t].to-h[t].from;w+v>s&&(w=Math.max(0,s-v),h[t].to=h[t].from+w),v+=w}else{var w=h[t].from-h[t].to;w+u>r&&(w=Math.max(0,r-u),h[t].to=h[t].from-w),u+=w}}return h},_columnAsPieSlice:function(b,c,d,e,f){var g=this._toPolarCoord(e,d,f.x,f.y),h=this._toPolarCoord(e,d,f.x,f.y+f.height),i=(this._toPolarCoord(e,d,f.x+f.width,f.y),a.jqx._ptdist(e.x,e.y,h.x,h.y)),j=a.jqx._ptdist(e.x,e.y,g.x,g.y),k=d.width,l=-(360*(f.x-d.x))/k,m=-(360*(f.x+f.width-d.x))/k,n=e.startAngle;if(n=360*n/(2*Math.PI),l-=n,m-=n,void 0!=b[c]){var o=this.renderer.pieSlicePath(e.x,e.y,i,j,m,l,0);this.renderer.attr(b[c],{d:o})}else b[c]=this.renderer.pieslice(e.x,e.y,i,j,m,l,0);return{fromAngle:m,toAngle:l,innerRadius:i,outerRadius:j}},_animateColumns:function(b,c){for(var d=b.groupIndex,e=this.seriesGroups[d],f=b.renderData,g=-1!=e.type.indexOf("stacked"),h=b.polarAxisCoords,i=(this._getGroupGradientType(d),f.xoffsets.first);i<=f.xoffsets.last;i++)for(var j=this._getColumnOffsets(f,d,b.seriesCtx,i,g,c),k=0;k<b.seriesCtx.length;k++){var l=b.seriesCtx[k],m=l.seriesIndex,n=(e.series[m],j[k].from),o=j[k].to,p=j[k].xOffset;l.elements||(l.elements={}),l.labelElements||(l.labelElements={});var q=l.elements,r=l.labelElements,s=(b.vertical?b.rect.x:b.rect.y)+l.xAdjust,t=l.settings,u=0!=l.itemsColors.length?l.itemsColors[i-f.xoffsets.first]:l.serieColors,v=this._isSerieVisible(d,m);if(v||g){var w=a.jqx._ptrnd(s+p),x={x:w,width:l.columnWidth},y=!0;b.vertical?(x.y=n,x.height=o-n,x.height<0&&(x.y+=x.height,x.height=-x.height,y=!1)):(x.x=o>n?n:o,x.width=Math.abs(n-o),x.y=w,x.height=l.columnWidth);var z=n-o;if(!isNaN(z)){if(z=Math.abs(z),void 0==q[i]&&(h?this._columnAsPieSlice(q,i,b.rect,h,x):q[i]=this.renderer.rect(x.x,x.y,b.vertical?x.width:0,b.vertical?0:x.height),this.renderer.attr(q[i],{fill:u.fillColor,"fill-opacity":t.opacity,"stroke-opacity":t.opacity,stroke:u.lineColor,"stroke-width":t.stroke,"stroke-dasharray":t.dashStyle})),1>z&&1!=c?this.renderer.attr(q[i],{display:"none"}):this.renderer.attr(q[i],{display:"block"}),h){var A=this._columnAsPieSlice(q,i,b.rect,h,x),u=this._getColors(d,m,void 0,"radialGradient",A.outerRadius);this.renderer.attr(q[i],{fill:u.fillColor,"fill-opacity":t.opacity,"stroke-opacity":t.opacity,stroke:u.lineColor,"stroke-width":t.stroke,"stroke-dasharray":t.dashStyle})}else 1==b.vertical?this.renderer.attr(q[i],{x:x.x,y:x.y,height:z}):this.renderer.attr(q[i],{x:x.x,y:x.y,width:z});this.renderer.removeElement(r[i]),!v||0==z&&1>c||(r[i]=this._showLabel(d,m,i,x,void 0,void 0,!1,!1,y),1==c&&this._installHandlers(q[i],"column",d,m,i))}}}},_renderScatterSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=-1!=d.type.indexOf("bubble"),f="horizontal"==d.orientation,g=c;f&&(g={x:c.y,y:c.x,width:c.height,height:c.width});var h=this._calcGroupOffsets(b,g);if(h&&0!=h.xoffsets.length){var i,j=g.width;(d.polar||d.spider)&&(i=this._getPolarAxisCoords(b,g),j=2*i.r);for(var k=(this._alignValuesWithTicks(b),this._getGroupGradientType(b)),l=0;l<d.series.length;l++){var m=this._getSerieSettings(b,l),n=d.series[l],o=n.dataField,p=a.isFunction(n.colorFunction),q=this._getColors(b,l,0/0,k),r=0/0,s=0/0;if(e)for(var t=h.xoffsets.first;t<=h.xoffsets.last;t++){var u=this._getDataValueAsNumber(t,n.radiusDataField,b);if("number"!=typeof u)throw"Invalid radiusDataField value at ["+t+"]";isNaN(u)||((isNaN(r)||r>u)&&(r=u),(isNaN(s)||u>s)&&(s=u))}var v=n.minRadius;isNaN(v)&&(v=j/50);var w=n.maxRadius;isNaN(w)&&(w=j/25),v>w&&(w=v);for(var x=n.radius||5,y=this._getAnimProps(b,l),z=y.enabled&&!this._isToggleRefresh&&h.xoffsets.length<5e3?y.duration:0,A={groupIndex:b,seriesIndex:l,"fill-opacity":m.opacity,"stroke-opacity":m.opacity,"stroke-width":m.stroke,"stroke-dasharray":m.dashStyle,items:[],polarAxisCoords:i},t=h.xoffsets.first;t<=h.xoffsets.last;t++){var u=this._getDataValueAsNumber(t,o,b);if("number"==typeof u){var B=h.xoffsets.data[t],C=h.offsets[l][t].to,D=h.xoffsets.xvalues[t];if(!isNaN(B)&&!isNaN(C)){if(f){var E=B;B=C,C=E+c.y}else B+=c.x;var F=x;if(e){var G=this._getDataValueAsNumber(t,n.radiusDataField,b);if("number"!=typeof G)continue;F=v+(w-v)*(G-r)/Math.max(1,s-r),isNaN(F)&&(F=v)}var H=0/0,I=0/0,J=0;if(void 0!=D&&this._elementRenderInfo&&this._elementRenderInfo.length>b){var K=this._elementRenderInfo[b].series[l][D];if(K&&!isNaN(K.to)){if(H=K.to,I=K.xoffset,J=x,f){var E=I;I=H,H=E+c.y}else I+=c.x;e&&(J=v+(w-v)*(K.valueRadius-r)/Math.max(1,s-r),isNaN(J)&&(J=v))}}p&&(q=this._getColors(b,l,t,k)),A.items.push({from:J,to:F,itemIndex:t,fill:q.fillColor,stroke:q.lineColor,x:B,y:C,xFrom:I,yFrom:H})}}}this._animR(A,0);var L=this;this._enqueueAnimation("series",void 0,void 0,z,function(a,b,c){L._animR(b,c)},A)}}}},_animR:function(b,c){for(var d=b.items,e=0;e<d.length;e++){var f=d[e],g=f.x,h=f.y,i=Math.round((f.to-f.from)*c+f.from);if(isNaN(f.yFrom)||(h=f.yFrom+(h-f.yFrom)*c),isNaN(f.xFrom)||(g=f.xFrom+(g-f.xFrom)*c),b.polarAxisCoords){var j=this._toPolarCoord(b.polarAxisCoords,this._plotRect,g,h);g=j.x,h=j.y}g=a.jqx._ptrnd(g),h=a.jqx._ptrnd(h),i=a.jqx._ptrnd(i);var k=f.element;k||(k=this.renderer.circle(g,h,i),this.renderer.attr(k,{fill:f.fill,"fill-opacity":b["fill-opacity"],"stroke-opacity":b["fill-opacity"],stroke:f.stroke,"stroke-width":b["stroke-width"],"stroke-dasharray":b["stroke-dasharray"]}),f.element=k),this._isVML?this.renderer.updateCircle(k,void 0,void 0,i):this.renderer.attr(k,{r:i,cy:h,cx:g}),f.labelElement&&this.renderer.removeElement(f.labelElement),f.labelElement=this._showLabel(b.groupIndex,b.seriesIndex,f.itemIndex,{x:g-i,y:h-i,width:2*i,height:2*i}),c>=1&&this._installHandlers(k,"circle",b.groupIndex,b.seriesIndex,f.itemIndex)}},_showToolTip:function(b,c,d,e,f){var g=this,h=g._getCategoryAxis(d);if(!g._ttEl||d!=g._ttEl.gidx||e!=g._ttEl.sidx||f!=g._ttEl.iidx){var i=g.seriesGroups[d],j=i.series[e],k=g.enableCrosshairs&&!(i.polar||i.spider);g._pointMarker?(b=parseInt(g._pointMarker.x+5),c=parseInt(g._pointMarker.y-5)):k=!1;var l=k&&0==g.showToolTips;b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c);var m=void 0==g._ttEl;if(0!=i.showToolTips&&0!=j.showToolTips){var n=j.toolTipFormatSettings||i.toolTipFormatSettings,o=j.toolTipFormatFunction||i.toolTipFormatFunction||g.toolTipFormatFunction,p=g._getColors(d,e,f),q=g._getDataValue(f,h.dataField,d);
(void 0==h.dataField||""==h.dataField)&&(q=f),"date"==h.type&&(q=g._castAsDate(q));var r="";if(a.isFunction(o)){var s={};-1==i.type.indexOf("range")?s=g._getDataValue(f,j.dataField,d):(s.from=g._getDataValue(f,j.dataFieldFrom,d),s.to=g._getDataValue(f,j.dataFieldTo,d)),r=o(s,f,j,i,q,h)}else{r=g._getFormattedValue(d,e,f,n,o);var t=h.toolTipFormatSettings||h.formatSettings,u=h.toolTipFormatFunction||h.formatFunction;u||t||"date"!=h.type||(u=this._getDefaultDTFormatFn(h.baseUnit||"day"));var v=g._formatValue(q,t,u);"pie"!=i.type&&"donut"!=i.type?r=(j.displayText||j.dataField||"")+", "+v+": "+r:(q=g._getDataValue(f,j.displayText||j.dataField,d),v=g._formatValue(q,t,u),r=v+": "+r)}var w=j.toolTipClass||i.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),x=j.toolTipBackground||i.toolTipBackground||"#FFFFFF",y=j.toolTipLineColor||i.toolTipLineColor||p.lineColor;if(g._ttEl||(g._ttEl={}),g._ttEl.sidx=e,g._ttEl.gidx=d,g._ttEl.iidx=f,rect=g.renderer.getRect(),k){var z=a.jqx._ptrnd(g._pointMarker.x),A=a.jqx._ptrnd(g._pointMarker.y);if(g._ttEl.vLine&&g._ttEl.hLine)g.renderer.attr(g._ttEl.vLine,{x1:z,x2:z}),g.renderer.attr(g._ttEl.hLine,{y1:A,y2:A});else{var B=g.crosshairsColor||"#888888";g._ttEl.vLine=g.renderer.line(z,g._plotRect.y,z,g._plotRect.y+g._plotRect.height,{stroke:B,"stroke-width":g.crosshairsLineWidth||1,"stroke-dasharray":g.crosshairsDashStyle||""}),g._ttEl.hLine=g.renderer.line(g._plotRect.x,A,g._plotRect.x+g._plotRect.width,A,{stroke:B,"stroke-width":g.crosshairsLineWidth||1,"stroke-dasharray":g.crosshairsDashStyle||""})}}if(!l&&0!=g.showToolTips){var C=m?document.createElement("div"):g._ttEl.box,D={left:0,top:0};m&&(C.style.position="absolute",C.style.cursor="default",C.style.overflow="hidden",a(C).addClass("jqx-rc-all jqx-button"),a(C).css("z-index",9999999),a(document.body).append(C)),C.style.backgroundColor=x,C.style.borderColor=y,g._ttEl.box=C,g._ttEl.txt=r;var E="<span class='"+w+"'>"+r+"</span>",F=g._ttEl.tmp;if(m&&(g._ttEl.tmp=F=document.createElement("div"),F.style.position="absolute",F.style.cursor="default",F.style.overflow="hidden",F.style.display="none",F.style.zIndex=999999,F.style.backgroundColor=x,F.style.borderColor=y,a(F).addClass("jqx-rc-all jqx-button"),g.host.append(F)),a(F).html(E),!r||0==r.length)return void a(C).fadeTo(0,0);var G={width:a(F).width(),height:a(F).height()};if(G.width=G.width+5,G.height=G.height+6,b=Math.max(b,rect.x),c=Math.max(c-G.height,rect.y),G.width>rect.width||G.height>rect.height)return;b+D.left+G.width>rect.x+rect.width-5&&(b=rect.x+rect.width-G.width-D.left-5),c+D.top+G.height>rect.y+rect.height-5&&(c=rect.y+rect.height-G.height-5);var H=g.host.coord();m&&(a(C).fadeOut(0,0),C.style.left=D.left+b+H.left+"px",C.style.top=D.top+c+H.top+"px"),a(C).html(E),a(C).clearQueue(),a(C).animate({left:D.left+b+H.left,top:D.top+c+H.top,opacity:1},300,"easeInOutCirc"),a(C).fadeTo(400,1)}}}},_hideToolTip:function(b){this._ttEl&&(this._ttEl.box&&(0==b?a(this._ttEl.box).hide():a(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_showLabel:function(a,b,c,d,e,f,g,h,i,j){var k=this.seriesGroups[a],l=k.series[b],m={width:0,height:0};if(0==l.showLabels||!l.showLabels&&!k.showLabels)return g?m:void 0;if(d.width<0||d.height<0)return g?m:void 0;var n=l.labelClass||k.labelClass||this.toThemeProperty("jqx-chart-label-text",null),o=l.labelAngle||l.labelsAngle||k.labelAngle||k.labelsAngle||0;isNaN(j)||(o=j);var p=l.labelOffset||l.labelsOffset||k.labelOffset||k.labelsOffset||{},q={x:p.x,y:p.y};isNaN(q.x)&&(q.x=0),isNaN(q.y)&&(q.y=0),e=e||l.labelsHorizontalAlignment||k.labelsHorizontalAlignment||"center",f=f||l.labelsVerticalAlignment||k.labelsVerticalAlignment||"center";var r=this._getFormattedValue(a,b,c),s=d.width,t=d.height;if(1==h&&"center"!=e&&(e="right"==e?"left":"right"),1==i&&"center"!=f&&"middle"!=f&&(f="top"==f?"bottom":"top",q.y*=-1),m=this.renderer.measureText(r,o,{"class":n}),g)return m;var u=0;s>0&&(""==e||"center"==e?u+=(s-m.width)/2:"right"==e&&(u+=s-m.width));var v=0;t>0&&(""==f||"center"==f?v+=(t-m.height)/2:"bottom"==f&&(v+=t-m.height)),u+=d.x+q.x,v+=d.y+q.y;var w=this._plotRect;u<=w.x&&(u=w.x+2),v<=w.y&&(v=w.y+2);var x={width:Math.max(m.width,1),height:Math.max(m.height,1)};v+x.height>=w.y+w.height&&(v=w.y+w.height-x.height-2),u+x.width>=w.x+w.width&&(u=w.x+w.width-x.width-2);var y=this.renderer.text(r,u,v,m.width,m.height,o,{"class":n},!1,"center","center");return this.renderer.attr(y,{"class":n}),this._isVML&&(this.renderer.removeElement(y),this.renderer.getContainer()[0].appendChild(y)),y},_getAnimProps:function(a,b){var c=this.seriesGroups[a],d=isNaN(b)?void 0:c.series[b],e=1==this.enableAnimations;c.enableAnimations&&(e=1==c.enableAnimations),d&&d.enableAnimations&&(e=1==d.enableAnimations);var f=this.animationDuration;isNaN(f)&&(f=1e3);var g=c.animationDuration;if(isNaN(g)||(f=g),d){var h=d.animationDuration;isNaN(h)||(f=h)}return f>5e3&&(f=1e3),{enabled:e,duration:f}},_isColorTransition:function(a,b,c,d){if(d-1<c.xoffsets.first)return!1;var e=this._getColors(a,b,d,this._getGroupGradientType(a)),f=this._getColors(a,b,d-1,this._getGroupGradientType(a));return e.fillColor!=f.fillColor},_renderLineSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=-1!=d.type.indexOf("area"),f=-1!=d.type.indexOf("stacked"),g=f&&-1!=d.type.indexOf("100"),h=-1!=d.type.indexOf("spline"),i=-1!=d.type.indexOf("step"),j=-1!=d.type.indexOf("range"),k=1==d.polar||1==d.spider;if(k&&(i=!1),!i||!h){var l=this._getDataLen(b),m=(c.width/l,"horizontal"==d.orientation),n=1==this._getCategoryAxis(b).flip,o=c;m&&(o={x:c.y,y:c.x,width:c.height,height:c.width});var p=this._calcGroupOffsets(b,o);if(p&&0!=p.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[b]={};for(var q=d.series.length-1;q>=0;q--){var r=this._getSerieSettings(b,q),s={groupIndex:b,serieIndex:q,swapXY:m,isArea:e,isSpline:h,isRange:j,isPolar:k,settings:r,segments:[],pointsLength:0},t=this._isSerieVisible(b,q);if(t){var u=d.series[q],v=a.isFunction(u.colorFunction),w=p.xoffsets.first,x=w,y=this._getColors(b,q,0/0,this._getGroupGradientType(b));do{var z=[],A=[],B=[],C=0,D=0/0,E=0/0,F=0/0;if(!(p.xoffsets.length<1)){for(var G=this._getAnimProps(b,q),H=G.enabled&&!this._isToggleRefresh&&p.xoffsets.length<1e4&&1!=this._isVML?G.duration:0,I=w,J=!1,K=(this._getColors(b,q,w,this._getGroupGradientType(b)),w);K<=p.xoffsets.last;K++){w=K;var L=p.xoffsets.data[K],M=p.xoffsets.xvalues[K];if(!isNaN(L)){L=Math.max(L,1),C=L;var N=p.offsets[q][K].to,O=p.offsets[q][K].from;if(isNaN(N)||isNaN(O)){if("connect"==u.emptyPointsDisplay)continue;if("zero"!=u.emptyPointsDisplay){J=!0;break}isNaN(N)&&(N=p.baseOffset),isNaN(O)&&(O=p.baseOffset)}if(v&&this._isColorTransition(b,q,p,w)&&z.length>1){w--;break}if(this._elementRenderInfo&&this._elementRenderInfo.length>b&&this._elementRenderInfo[b].series.length>q){var P=this._elementRenderInfo[b].series[q][M],F=a.jqx._ptrnd(P?P.to:void 0),Q=a.jqx._ptrnd(o.x+(P?P.xoffset:void 0));B.push(m?{y:Q,x:F,index:K}:{x:Q,y:F,index:K})}x=K,r.stroke<2&&(N-o.y<=1&&(N=o.y+1),O-o.y<=1&&(O=o.y+1),o.y+o.height-N<=1&&(N=o.y+o.height-1),o.y+o.height-N<=1&&(O=o.y+o.height-1)),!e&&g&&(N<=o.y&&(N=o.y+1),N>=o.y+o.height&&(N=o.y+o.height-1),O<=o.y&&(O=o.y+1),O>=o.y+o.height&&(O=o.y+o.height-1)),L=Math.max(L,1),C=L+o.x,!i||isNaN(D)||isNaN(E)||E!=N&&z.push(m?{y:C,x:a.jqx._ptrnd(E)}:{x:C,y:a.jqx._ptrnd(E)}),z.push(m?{y:C,x:a.jqx._ptrnd(N),index:K}:{x:C,y:a.jqx._ptrnd(N),index:K}),A.push(m?{y:C,x:a.jqx._ptrnd(O),index:K}:{x:C,y:a.jqx._ptrnd(O),index:K}),D=C,E=N,isNaN(F)&&(F=N)}}if(0!=z.length){var R=z[z.length-1].index;v&&(y=this._getColors(b,q,R,this._getGroupGradientType(b)));var S=o.x+p.xoffsets.data[I],T=o.x+p.xoffsets.data[x];if(e&&1==d.alignEndPointsWithIntervals){if(S>o.x&&(S=o.x),T<o.x+o.width&&(T=o.x+o.width),n){var U=S;S=T,T=U}}T=a.jqx._ptrnd(T),S=a.jqx._ptrnd(S);var V=p.baseOffset;F=a.jqx._ptrnd(F);var W=a.jqx._ptrnd(N)||V;j&&(z=z.concat(A.reverse())),s.pointsLength+=z.length;var X={lastItemIndex:R,colorSettings:y,pointsArray:z,pointsStart:B,left:S,right:T,pyStart:F,pyEnd:W,yBase:V,labelElements:[],symbolElements:[]};s.segments.push(X)}else w++}}while(w<p.xoffsets.length-1||J);this._linesRenderInfo[b][q]=s}else this._linesRenderInfo[b][q]=s}var Y=this._linesRenderInfo[b],Z=[];for(var K in Y)Z.push(Y[K]);Z=Z.sort(function(a,b){return a.serieIndex-b.serieIndex}),e&&f&&Z.reverse();for(var K=0;K<Z.length;K++){var s=Z[K];this._animateLine(s,0==H?1:0);var $=this;this._enqueueAnimation("series",void 0,void 0,H,function(a,b,c){$._animateLine(b,c)},s)}}}}},_animateLine:function(a,b){for(var c=a.settings,d=a.groupIndex,e=a.serieIndex,f=this.seriesGroups[d],g=f.series[e],h=this._getSymbol(d,e),i=1==g.showLabels||f.showLabels&&0!=g.showLabels,j=0,k=0;k<a.segments.length;k++){var l=a.segments[k],m=this._calculateLine(d,a.pointsLength,j,l.pointsArray,l.pointsStart,l.yBase,b,a.isArea,a.swapXY);if(j+=l.pointsArray.length,""!=m){var n=m.split(" "),o=(n.length,m);o=""!=o?this._buildLineCmd(m,a.isRange,l.left,l.right,l.pyStart,l.pyEnd,l.yBase,a.isArea,a.isPolar,a.isSpline,a.swapXY):"M 0 0";var p=l.colorSettings;if(l.pathElement?this.renderer.attr(l.pathElement,{d:o}):(l.pathElement=this.renderer.path(o,{"stroke-width":c.stroke,stroke:p.lineColor,"stroke-opacity":c.opacity,"fill-opacity":c.opacity,"stroke-dasharray":c.dashStyle,fill:a.isArea?p.fillColor:"none"}),this._installHandlers(l.pathElement,"path",d,e,l.lastItemIndex)),l.labelElements){for(var q=0;q<l.labelElements.length;q++)this.renderer.removeElement(l.labelElements[q]);l.labelElements=[]}if(l.symbolElements){for(var q=0;q<l.symbolElements.length;q++)this.renderer.removeElement(l.symbolElements[q]);l.symbolElements=[]}if(l.pointsArray.length==n.length&&("none"!=h||i))for(var r=g.symbolSize,q=0;q<n.length;q++){var s=n[q].split(",");if(s={x:parseFloat(s[0]),y:parseFloat(s[1])},"none"!=h){var t=this._getColors(d,e,l.pointsArray[q].index,this._getGroupGradientType(d)),u=this._drawSymbol(h,s.x,s.y,t.fillColorSymbol,t.lineColorSymbol,1,c.opacity,r);l.symbolElements.push(u)}if(i){var v=(q>0?n[q-1]:n[q]).split(",");v={x:parseFloat(v[0]),y:parseFloat(v[1])};var w=(q<n.length-1?n[q+1]:n[q]).split(",");w={x:parseFloat(w[0]),y:parseFloat(w[1])},s=this._adjustLineLabelPosition(d,e,l.pointsArray[q].index,s,v,w);var x=this._showLabel(d,e,l.pointsArray[q].index,{x:s.x,y:s.y,width:0,height:0});l.labelElements.push(x)}}if(1==b&&"none"!=h)for(var q=0;q<l.symbolElements.length;q++)this._installHandlers(l.symbolElements[q],"symbol",d,e,l.pointsArray[q].index)}}},_adjustLineLabelPosition:function(a,b,c,d,e,f){var g=this._showLabel(a,b,c,{width:0,height:0},"","",!0),h={x:0,y:0};return d.y==e.y&&d.x==e.x?h=f.y<d.y?{x:d.x,y:d.y+g.height}:{x:d.x,y:d.y-g.height}:d.y==f.y&&d.x==f.x&&(h=e.y<d.y?{x:d.x,y:d.y+g.height}:{x:d.x,y:d.y-g.height}),h=d.y>e.y&&d.y>f.y?{x:d.x,y:d.y+g.height}:{x:d.x,y:d.y-g.height}},_calculateLine:function(b,c,d,e,f,g,h,i,j){var k=this.seriesGroups[b],l=void 0;(1==k.polar||1==k.spider)&&(l=this._getPolarAxisCoords(b,this._plotRect));var m="",n=e.length;if(!i&&0==f.length){var o=c*h;n=o-d}for(var p=0/0,q=0;n+1>q&&q<e.length;q++){q>0&&(m+=" ");var r=e[q].y,s=e[q].x,t=i?g:r,u=s;if(f&&f.length>q&&(t=f[q].y,u=f[q].x,(isNaN(t)||isNaN(u))&&(t=r,u=s)),p=u,n<=e.length&&q>0&&q==n&&(u=e[q-1].x,t=e[q-1].y),j?(s=a.jqx._ptrnd((s-t)*(i?h:1)+t),r=a.jqx._ptrnd(r)):(s=a.jqx._ptrnd((s-u)*h+u),r=a.jqx._ptrnd((r-t)*h+t)),l){var v=this._toPolarCoord(l,this._plotRect,s,r);s=v.x,r=v.y}m+=s+","+r,1!=e.length||i||(m+=" "+(s+2)+","+(r+2))}return m},_buildLineCmd:function(a,b,c,d,e,f,g,h,i,j,k){var l=a;if(h&&!i&&!b){var m=k?g+","+c:c+","+g,n=k?g+","+d:d+","+g;l=m+" "+a+" "+n}j&&(l=this._getBezierPoints(l));var o=l.split(" "),p=o[0].replace("C","");return l=h&&!i?b?"M "+p+" L "+p+(j?"":" L "+p+" ")+l:"M "+m+" L "+p+" "+l:j?"M "+p+" "+l:"M "+p+" L "+p+" "+l,i&&(l+=" Z"),l},_getSerieSettings:function(a,b){var c=this.seriesGroups[a],d=-1!=c.type.indexOf("area"),e=-1!=c.type.indexOf("line"),f=c.series[b],g=f.dashStyle||c.dashStyle||"",h=f.opacity||c.opacity;(isNaN(h)||0>h||h>1)&&(h=1);var i=f.lineWidth;return isNaN(i)&&"auto"!=i&&(i=c.lineWidth),("auto"==i||isNaN(i)||0>i||i>15)&&(i=d?2:e?3:1),{stroke:i,opacity:h,dashStyle:g}},_getColors:function(b,c,d,e,f){var g=this.seriesGroups[b],h=g.series[c],i=h.useGradient;void 0==i&&(i=h.useGradientColors),void 0==i&&(i=g.useGradient),void 0==i&&(i=g.useGradientColors),void 0==i&&(i=!0);var j=this._getSeriesColors(b,c,d);j.fillColor||(j.fillColor=color,j.fillColorSelected=a.jqx.adjustColor(color,1.1),j.lineColor=j.symbolColor=a.jqx.adjustColor(color,.9),j.lineColorSelected=j.symbolColorSelected=a.jqx.adjustColor(color,.9));var k=[[0,1.4],[100,1]],l=[[0,1],[25,1.1],[50,1.4],[100,1]],m=[[0,1.3],[90,1.2],[100,1]],n=0/0;if(isNaN(f)||(n=2==f?k:l),i)if("verticalLinearGradient"==e)j.fillColor=this.renderer._toLinearGradient(j.fillColor,!0,n||k),j.fillColorSelected=this.renderer._toLinearGradient(j.fillColorSelected,!0,n||k);else if("horizontalLinearGradient"==e)j.fillColor=this.renderer._toLinearGradient(j.fillColor,!1,n||l),j.fillColorSelected=this.renderer._toLinearGradient(j.fillColorSelected,!1,n||l);else if("radialGradient"==e){var o=void 0,n=k;("pie"==g.type||"donut"==g.type||g.polar)&&void 0!=d&&this._renderData[b]&&this._renderData[b].offsets[c]&&(o=this._renderData[b].offsets[c][d],n=m),j.fillColor=this.renderer._toRadialGradient(j.fillColor,n,o),j.fillColorSelected=this.renderer._toRadialGradient(j.fillColorSelected,n,o)}return j},_installHandlers:function(a,b,c,d,e){if(!this.enableEvents)return!1;var f=this,g=this.seriesGroups[c],h=this.seriesGroups[c].series[d],i=-1!=g.type.indexOf("line")||-1!=g.type.indexOf("area");i||(this.renderer.addHandler(a,"mousemove",function(a){a.preventDefault();var b=a.pageX||a.clientX||a.screenX,g=a.pageY||a.clientY||a.screenY,h=f.host.offset();b-=h.left,g-=h.top,(f._mouseX!=b||f._mouseY!=g)&&(f._ttEl&&f._ttEl.gidx==c&&f._ttEl.sidx==d&&f._ttEl.iidx==e||f._startTooltipTimer(c,d,e))}),this.renderer.addHandler(a,"mouseout",function(a){!isNaN(f._lastClickTs)&&(new Date).valueOf()-f._lastClickTs<100||(a.preventDefault(),void 0!=e&&f._cancelTooltipTimer(),i||f._unselect())})),this.renderer.addHandler(a,"mouseover",function(g){g.preventDefault(),f._select(a,b,c,d,e,e)}),this.renderer.addHandler(a,"click",function(){clearTimeout(f._hostClickTimer),f._lastClickTs=(new Date).valueOf(),i&&"symbol"!=b&&"pointMarker"!=b||(-1!=g.type.indexOf("column")&&f._unselect(),isNaN(e)||f._raiseItemEvent("click",g,h,e))})},_getHorizontalOffset:function(b,c,d,e){var f=this._plotRect,g=this._getDataLen(b);if(0==g)return{index:void 0,value:d};var h=this._calcGroupOffsets(b,this._plotRect);if(0==h.xoffsets.length)return{index:void 0,value:void 0};var i,j=d,k=e,l=this.seriesGroups[b];if((l.polar||l.spider)&&(i=this._getPolarAxisCoords(b,f)),"horizontal"==l.orientation&&!i){var m=j;j=k,k=m}for(var n,o,p,q,r=(1==this._getCategoryAxis(b).flip,h.xoffsets.first);r<=h.xoffsets.last;r++){var s=h.xoffsets.data[r],t=h.offsets[c][r].to,u=0;if(i){var v=this._toPolarCoord(i,f,s+f.x,t);s=v.x,t=v.y,u=a.jqx._ptdist(j,k,s,t)}else s+=f.x,t+=f.y,u=Math.abs(j-s);(isNaN(n)||n>u)&&(n=u,o=r,p=s,q=t)}return{index:o,value:h.xoffsets.data[o],polarAxisCoords:i,x:p,y:q}},onmousemove:function(b,c){if((this._mouseX!=b||this._mouseY!=c)&&(this._mouseX=b,this._mouseY=c,this._selected)){var d=this._selected.group,e=this._selected.series,f=this.seriesGroups[d],g=f.series[e],h=this._plotRect;if(this.renderer&&(h=this.renderer.getRect(),h.x+=5,h.y+=5,h.width-=10,h.height-=10),b<h.x||b>h.x+h.width||c<h.y||c>h.y+h.height)return this._hideToolTip(),void this._unselect();var i="horizontal"==f.orientation,h=this._plotRect;if(-1!=f.type.indexOf("line")||-1!=f.type.indexOf("area")){var j=this._getHorizontalOffset(d,this._selected.series,b,c),k=j.index;if(void 0==k)return;if(this._selected.item==k)return;for(var l=this._linesRenderInfo[d][e].segments,m=0;k>l[m].lastItemIndex;)if(m++,m>=l.length)return;var n=l[m].pathElement,o=l[m].lastItemIndex;this._unselect(!1),this._select(n,"path",d,e,k,o);var p=this._getSymbol(this._selected.group,this._selected.series);"none"==p&&(p="circle");var q=this._calcGroupOffsets(d,h),r=q.offsets[this._selected.series][k].to,s=r;-1!=f.type.indexOf("range")&&(s=q.offsets[this._selected.series][k].from);var t=i?b:c;if(c=!isNaN(s)&&Math.abs(t-s)<Math.abs(t-r)?s:r,isNaN(c))return;if(b=j.value,i){var u=b;b=c,c=u+h.y}else b+=h.x;if(j.polarAxisCoords&&(b=j.x,c=j.y),c=a.jqx._ptrnd(c),b=a.jqx._ptrnd(b),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(b)||isNaN(c))return;var v=this._getSeriesColors(d,e,k),w=g.opacity;(isNaN(w)||0>w||w>1)&&(w=f.opacity),(isNaN(w)||0>w||w>1)&&(w=1);var x=g.symbolSizeSelected;isNaN(x)&&(x=g.symbolSize),(isNaN(x)||x>50||0>x)&&(x=f.symbolSize),(isNaN(x)||x>50||0>x)&&(x=6),this._pointMarker={type:p,x:b,y:c,gidx:d,sidx:e,iidx:k},this._pointMarker.element=this._drawSymbol(p,b,c,v.fillColorSymbolSelected,v.lineColorSymbolSelected,1,w,x),this._installHandlers(this._pointMarker.element,"pointMarker",d,e,k),this._startTooltipTimer(d,this._selected.series,k)}}},_drawSymbol:function(a,b,c,d,e,f,g,h){var i,j=h||6,k=j/2;switch(a){case"none":return void 0;case"circle":i=this.renderer.circle(b,c,j/2);break;case"square":j-=1,k=j/2,i=this.renderer.rect(b-k,c-k,j,j);break;case"diamond":var l="M "+(b-k)+","+c+" L"+b+","+(c-k)+" L"+(b+k)+","+c+" L"+b+","+(c+k)+" Z";i=this.renderer.path(l);break;case"triangle_up":var l="M "+(b-k)+","+(c+k)+" L "+(b+k)+","+(c+k)+" L "+b+","+(c-k)+" Z";i=this.renderer.path(l);break;case"triangle_down":var l="M "+(b-k)+","+(c-k)+" L "+b+","+(c+k)+" L "+(b+k)+","+(c-k)+" Z";i=this.renderer.path(l);break;case"triangle_left":var l="M "+(b-k)+","+c+" L "+(b+k)+","+(c+k)+" L "+(b+k)+","+(c-k)+" Z";i=this.renderer.path(l);break;case"triangle_right":var l="M "+(b-k)+","+(c-k)+" L "+(b-k)+","+(c+k)+" L "+(b+k)+","+c+" Z";i=this.renderer.path(l);break;default:i=this.renderer.circle(b,c,j)}return this.renderer.attr(i,{fill:d,stroke:e,"stroke-width":f,"stroke-opacity":g,"fill-opacity":g}),i},_getSymbol:function(a,b){var c=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],d=this.seriesGroups[a],e=d.series[b],f=void 0;return void 0!=e.symbolType&&(f=e.symbolType),void 0==f&&(f=d.symbolType),"default"==f?c[b%c.length]:void 0!=f?f:"none"},_startTooltipTimer:function(a,b,c){this._cancelTooltipTimer();var d=this,e=(d.seriesGroups[a],this.toolTipShowDelay||this.toolTipDelay);(isNaN(e)||e>1e4||0>e)&&(e=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(e=0),clearTimeout(this._tttimerHide),0==e&&d._showToolTip(d._mouseX,d._mouseY-3,a,b,c),this._tttimer=setTimeout(function(){0!=e&&d._showToolTip(d._mouseX,d._mouseY-3,a,b,c);var f=d.toolTipHideDelay;isNaN(f)&&(f=4e3),d._tttimerHide=setTimeout(function(){d._hideToolTip(),d._unselect()},f)},e)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(a){var b=this.seriesGroups[a];return-1!=b.type.indexOf("area")?"horizontal"==b.orientation?"horizontalLinearGradient":"verticalLinearGradient":-1!=b.type.indexOf("column")?b.polar?"radialGradient":"horizontal"==b.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=b.type.indexOf("scatter")||-1!=b.type.indexOf("bubble")||-1!=b.type.indexOf("pie")||-1!=b.type.indexOf("donut")?"radialGradient":void 0},_select:function(a,b,c,d,e,f){if(this._selected){if(this._selected.item==e&&this._selected.series==d&&this._selected.group==c)return;this._unselect()}this._selected={element:a,type:b,group:c,series:d,item:e,iidxBase:f};var g=this.seriesGroups[c],h=g.series[d],i=-1!=g.type.indexOf("line")&&-1==g.type.indexOf("area"),j=this._getColors(c,d,f||e,this._getGroupGradientType(c)),k=j.fillColorSelected;i&&(k="none");var l=this._getSerieSettings(c,d),m="symbol"==b?j.lineColorSymbolSelected:j.lineColorSelected;k="symbol"==b?j.fillColorSymbolSelected:k;var n=l.stroke;this.renderer.attr(a,{stroke:m,fill:k,"stroke-width":n}),this._raiseItemEvent("mouseover",g,h,e)},_unselect:function(){var a=this;if(a._selected){var b=a._selected.group,c=a._selected.series,d=a._selected.item,e=a._selected.iidxBase,f=a._selected.type,g=a.seriesGroups[b],h=g.series[c],i=-1!=g.type.indexOf("line")&&-1==g.type.indexOf("area"),j=a._getColors(b,c,e||d,a._getGroupGradientType(b)),k=j.fillColor;i&&(k="none");var l=a._getSerieSettings(b,c),m="symbol"==f?j.lineColorSymbol:j.lineColor;k="symbol"==f?j.fillColorSymbol:k;var n=l.stroke;this.renderer.attr(a._selected.element,{stroke:m,fill:k,"stroke-width":n}),a._selected=void 0,isNaN(d)||a._raiseItemEvent("mouseout",g,h,d)}a._pointMarker&&(a._pointMarker.element&&(a.renderer.removeElement(a._pointMarker.element),a._pointMarker.element=void 0),a._pointMarker=void 0,a._hideCrosshairs())},_raiseItemEvent:function(b,c,d,e){for(var f=d[b]||c[b],g=0;g<this.seriesGroups.length&&this.seriesGroups[g]!=c;g++);if(g!=this.seriesGroups.length){var h={event:b,seriesGroup:c,serie:d,elementIndex:e,elementValue:this._getDataValue(e,d.dataField,g)};f&&a.isFunction(f)&&f(h),this._raiseEvent(b,h)}},_raiseEvent:function(b,c){var d=new a.Event(b);d.owner=this,d.args=c;var e=this.host.trigger(d);return e},_calcInterval:function(a,b,c){var d=Math.abs(b-a),e=d/c,f=[1,2,3,4,5,10,15,20,25,50,100],g=[.5,.25,.125,.1],h=.1,i=f;1>e&&(i=g,h=10);var j=0;do{j=0,e>=1?h*=10:h/=10;for(var k=1;k<i.length&&Math.abs(i[j]*h-e)>Math.abs(i[k]*h-e);k++)j=k}while(j==i.length-1);return i[j]*h},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh)for(var a=this._elementRenderInfo=[],b=0;b<this._renderData.length;b++){for(this._getCategoryAxis(b).dataField;a.length<=b;)a.push({});var c=a[b],d=this._renderData[b];if(d.offsets){if(d.valueAxis){c.valueAxis={itemOffsets:{}};for(var e in d.valueAxis.itemOffsets)c.valueAxis.itemOffsets[e]=d.valueAxis.itemOffsets[e]}if(d.xAxis){c.xAxis={itemOffsets:{}};for(var e in d.xAxis.itemOffsets)c.xAxis.itemOffsets[e]=d.xAxis.itemOffsets[e]}c.series=[];for(var f=c.series,g=this.seriesGroups[b].type,h=-1!=g.indexOf("pie")||-1!=g.indexOf("donut"),i=0;i<d.offsets.length;i++){f.push({});for(var j=0;j<d.offsets[i].length;j++)if(h){var k=d.offsets[i][j];f[i][k.displayValue]={value:k.value,x:k.x,y:k.y,fromAngle:k.fromAngle,toAngle:k.toAngle}}else f[i][d.xoffsets.xvalues[j]]={value:d.offsets[i][j].value,valueFrom:d.offsets[i][j].valueFrom,valueRadius:d.offsets[i][j].valueRadius,xoffset:d.xoffsets.data[j],from:d.offsets[i][j].from,to:d.offsets[i][j].to}}}}},_calcGroupOffsets:function(b,c){for(var d=this.seriesGroups[b];this._renderData.length<b+1;)this._renderData.push({});if(null!=this._renderData[b]&&void 0!=this._renderData[b].offsets)return this._renderData[b];if(-1!=d.type.indexOf("pie")||-1!=d.type.indexOf("donut"))return this._calcPieSeriesGroupOffsets(b,c);if(!d.valueAxis||!d.series||0==d.series.length)return this._renderData[b];var e=1==d.valueAxis.flip,f=1==d.valueAxis.logarithmicScale,g=d.valueAxis.logarithmicScaleBase||10,h=new Array,i=-1!=d.type.indexOf("stacked"),j=i&&-1!=d.type.indexOf("100"),k=-1!=d.type.indexOf("range"),l=-1!=d.type.indexOf("column"),m=this._getDataLen(b),n=d.baselineValue||d.valueAxis.baselineValue||0;(k||l&&i||j)&&(n=0);var o=this._stats.seriesGroups[b];if(o&&o.isValid){n>o.max&&(n=o.max),n<o.min&&(n=o.min);var p=j||f?o.maxRange:o.max-o.min,q=o.min,r=o.max,s=c.height/(f?o.intervals:p),t=0;j?0>q*r?(p/=2,t=-(p+n)*s):t=-n*s:t=-(n-q)*s,e?t=c.y-t:t+=c.y+c.height;var u,v,w=new Array,x=new Array,y=new Array;f&&(u=a.jqx.log(r,g)-a.jqx.log(n,g),i&&(u=o.intervals,n=j?0:q),v=o.intervals-u,e||(t=c.y+u/o.intervals*c.height)),t=a.jqx._ptrnd(t);var z=0>q*r?c.height/2:c.height,A=[],B=[];if(d.bands)for(var C=0;C<d.bands.length;C++){var D=d.bands[C].minValue,E=d.bands[C].maxValue;isNaN(D)&&(D=n),isNaN(E)&&(E=n);var F=0,G=0;f?(F=(a.jqx.log(D,g)-a.jqx.log(n,g))*s,G=(a.jqx.log(E,g)-a.jqx.log(n,g))*s):(F=(D-n)*s,G=(E-n)*s),this._isVML&&(F=Math.round(F),G=Math.round(G)),B.push(e?{from:t+G,to:t+F}:{from:t-G,to:t-F})}for(var H=[],I=l||!l&&!i||j||f,C=0;C<d.series.length;C++){!i&&f&&(A=[]);var J=d.series[C].dataField,K=d.series[C].dataFieldFrom,L=d.series[C].dataFieldTo,M=d.series[C].radiusDataField;h.push(new Array);for(var N=this._isSerieVisible(b,C),O=0;m>O;O++){for(;H.length<=O;)H.push(0);var P=0/0;k&&(P=this._getDataValueAsNumber(O,K,b),isNaN(P)&&(P=n));var Q=0/0;Q=k?this._getDataValueAsNumber(O,L,b):this._getDataValueAsNumber(O,J,b);var R=this._getDataValueAsNumber(O,M,b);if(N||(Q=0/0),isNaN(Q)||f&&0>=Q)h[C].push({from:void 0,to:void 0});else{var S;I?S=Q>=n?w:x:H[O]=Q=H[O]+Q;var T=s*(Q-n);if(k&&(T=s*(Q-P)),f){for(;A.length<=O;)A.push({p:{value:0,height:0},n:{value:0,height:0}});var U=k?P:n,V=Q>U?A[O].p:A[O].n;V.value+=Q,j?(Q=V.value/(o.psums[O]+o.nsums[O])*100,T=(a.jqx.log(Q,g)-o.minPow)*s):(T=a.jqx.log(V.value,g)-a.jqx.log(U,g),T*=s),T-=V.height,V.height+=T}var W=t;if(k){var X=0;X=f?(a.jqx.log(P,g)-a.jqx.log(n,g))*s:(P-n)*s,W+=e?X:-X}if(i){if(j&&!f){var Y=o.psums[O]-o.nsums[O];Q>n?(T=o.psums[O]/Y*z,0!=o.psums[O]&&(T*=Q/o.psums[O])):(T=o.nsums[O]/Y*z,0!=o.nsums[O]&&(T*=Q/o.nsums[O]))}I&&(isNaN(S[O])&&(S[O]=W),W=S[O])}isNaN(y[O])&&(y[O]=0);var Z=y[O];T=Math.abs(T);var $=T;if(h_new=this._isVML?Math.round(T):a.jqx._ptrnd(T)-1,T=Math.abs(T-h_new)>.5?Math.round(T):h_new,Z+=T-$,i||(Z=0),Math.abs(Z)>.5&&(Z>0?(T-=1,Z-=1):(T+=1,Z+=1)),y[O]=Z,C==d.series.length-1&&j){for(var _=0,ab=0;C>ab;ab++)_+=Math.abs(h[ab][O].to-h[ab][O].from);if(_+=T,z>_)if(T>.5)T=a.jqx._ptrnd(T+z-_);else for(var ab=C-1;ab>=0;){var bb=Math.abs(h[ab][O].to-h[ab][O].from);if(bb>1){h[ab][O].from>h[ab][O].to&&(h[ab][O].from+=z-_);break}ab--}}e&&(T*=-1);var cb=n>Q;k&&(cb=P>Q);var db=isNaN(P)?Q:{from:P,to:Q};cb?(I&&(S[O]+=T),h[C].push({from:W,to:W+T,value:db,valueFrom:P,valueRadius:R})):(I&&(S[O]-=T),h[C].push({from:W,to:W-T,value:db,valueFrom:P,valueRadius:R}))}}}var eb=this._renderData[b];return eb.baseOffset=t,eb.offsets=h,eb.bands=B,eb.xoffsets=this._calculateXOffsets(b,c.width),this._renderData[b]}},_calcPieSeriesGroupOffsets:function(b,c){for(var d=this._getDataLen(b),e=this.seriesGroups[b],f=this._renderData[b]={},g=f.offsets=[],h=0;h<e.series.length;h++){var i=e.series[h],j=i.minAngle;(isNaN(j)||0>j||j>360)&&(j=0);var k=i.maxAngle;(isNaN(k)||0>k||k>360)&&(k=360);var l=k-j,m=i.initialAngle||0;j>m&&(m=j),m>k&&(m=k);var n=m,o=i.radius||.4*Math.min(c.width,c.height);isNaN(o)&&(o=1);var p=i.innerRadius||0;(isNaN(p)||p>=o)&&(p=0);var q=i.centerOffset||0,r=a.jqx.getNum([i.offsetX,e.offsetX,c.width/2]),s=a.jqx.getNum([i.offsetY,e.offsetY,c.height/2]);g.push([]);for(var t=0,u=0,v=0;d>v;v++){var w=this._getDataValueAsNumber(v,i.dataField,b);isNaN(w)||(this._isSerieVisible(b,h,v)||1==i.hiddenPointsDisplay)&&(w>0?t+=w:u+=w)}var x=t-u;0==x&&(x=1);for(var v=0;d>v;v++){var w=this._getDataValueAsNumber(v,i.dataField,b);if(isNaN(w))g[h].push({});else{var y=i.displayText||i.displayField,z=this._getDataValue(v,y,b);void 0==z&&(z=v);var A=0,B=this._isSerieVisible(b,h,v);(B||1==i.hiddenPointsDisplay)&&(A=Math.abs(w)/x*l);var C=c.x+r,D=c.y+s,E=q;a.isFunction(q)&&(E=q({seriesIndex:h,seriesGroupIndex:b,itemIndex:v})),isNaN(E)&&(E=0);var F={key:b+"_"+h+"_"+v,value:w,displayValue:z,x:C,y:D,fromAngle:n,toAngle:n+A,centerOffset:E,innerRadius:p,outerRadius:o,visible:B};g[h].push(F),n+=A}}}return f},_isPointSeriesOnly:function(){for(var a=0;a<this.seriesGroups.length;a++){var b=this.seriesGroups[a];if(-1==b.type.indexOf("line")&&-1==b.type.indexOf("area")&&-1==b.type.indexOf("scatter")&&-1==b.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var a=0;a<this.seriesGroups.length;a++){var b=this.seriesGroups[a];if(-1!=b.type.indexOf("column"))return!0}return!1},_alignValuesWithTicks:function(a){var b=this._isPointSeriesOnly(),c=this.seriesGroups[a],d=this._getCategoryAxis(a),e=void 0==d.valuesOnTicks?b:0!=d.valuesOnTicks;return void 0==a?e:void 0==c.valuesOnTicks?e:c.valuesOnTicks},_getYearsDiff:function(a,b){return b.getFullYear()-a.getFullYear()},_getMonthsDiff:function(a,b){return 12*(b.getFullYear()-a.getFullYear())+b.getMonth()-a.getMonth()},_getDateDiff:function(b,c,d,e){var f=0;switch("year"!=d&&"month"!=d&&(f=c.valueOf()-b.valueOf()),d){case"year":f=this._getYearsDiff(b,c);break;case"month":f=this._getMonthsDiff(b,c);break;case"day":f/=864e5;break;case"hour":f/=36e5;break;case"minute":f/=6e4;break;case"second":f/=1e3;break;case"millisecond":}return"year"!=d&&"month"!=d&&0!=e&&(f=a.jqx._rnd(f,1,!0)),f},_getAsDate:function(a,b){return a=this._castAsDate(a),"month"==b?new Date(a.getFullYear(),a.getMonth(),1):"year"==b?new Date(a.getFullYear(),0,1):"day"==b?new Date(a.getFullYear(),a.getMonth(),a.getDate()):a},_getCategoryAxisStats:function(a,b,c){for(var d,e,f=this._getDataLen(a),g="date"==b.type||"time"==b.type,h=g?this._castAsDate(b.minValue):this._castAsNumber(b.minValue),i=g?this._castAsDate(b.maxValue):this._castAsNumber(b.maxValue),j=h,k=i,l=void 0==b.type||"auto"==b.type,m=l||"basic"==b.type,n=0,o=0,p=0;f>p&&b.dataField;p++){var q=this._getDataValue(p,b.dataField,a);q=g?this._castAsDate(q):this._castAsNumber(q),isNaN(q)||(g?n++:o++,(isNaN(d)||d>q)&&(d=q),(isNaN(e)||q>=e)&&(e=q))}l&&(!g&&o==f||g&&n==f)&&(m=!1),m&&(d=0,e=f-1),isNaN(j)&&(j=d),isNaN(k)&&(k=e),g?(j=new Date(j),k=new Date(k),this._isDate(j)||(j=this._isDate(k)?k:new Date),this._isDate(k)||(k=this._isDate(j)?j:new Date)):(isNaN(j)&&(j=0),isNaN(k)&&(k=m?f-1:j)),void 0==d&&(d=j),void 0==e&&(e=k);var r,s;if(g){if(r=b.baseUnit,!r){r="day";var t=k.valueOf()-j.valueOf();r=1e3>t?"second":36e5>t?"minute":864e5>t?"hour":2592e6>t?"day":31104e6>t?"month":"year"}s="hour"==r||"minute"==r||"second"==r||"millisecond"==r}var u=b.unitInterval;return(isNaN(u)||0>=u)&&(u=this._estAxisInterval(j,k,a,c,r)),{min:j,max:k,dsRange:{min:d,max:e},useIndeces:m,isDateTime:g,isTimeUnit:s,dateTimeUnit:r,interval:u}},_getDefaultDTFormatFn:function(a){var b,c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return b="year"==a||"month"==a||"day"==a?function(a){return a.getDate()+"-"+c[a.getMonth()]+"-"+a.getFullYear()}:function(a){return a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}},_estimateDTIntCnt:function(a,b,c,d){var e=0,f=new Date(a),g=new Date(b);if(0>=c)return 1;for(;f.valueOf()<g.valueOf();)"millisecond"==d?f.setMilliseconds(f.getMilliseconds()+c):"second"==d?f.setSeconds(f.getSeconds()+c):"minute"==d?f.setMinutes(f.getMinutes()+c):"hour"==d?f.setHours(f.getHours()+c):"day"==d?f.setDate(f.getDate()+c):"month"==d?f.setMonth(f.getMonth()+c):"year"==d&&f.setFullYear(f.getFullYear()+c),e++;return e},_estAxisInterval:function(a,b,c,d,e){var f=[1,2,5,10,15,20,50,100,200,500],g=0,h=d/50;if(this._renderData&&this._renderData.length>c&&this._renderData[c].xAxis&&!isNaN(this._renderData[c].xAxis.avgWidth)){var i=Math.max(1,this._renderData[c].xAxis.avgWidth);0!=i&&(h=.9*d/i)}if(1>=h)return 1;for(var j=0;;){var k=g>=f.length?Math.pow(10,3+g-f.length):f[g];if(j=this._isDate(a)&&this._isDate(b)?this._estimateDTIntCnt(a,b,k,e):(b-a)/k,h>=j)return k;g++}},_getPaddingSize:function(b,c,d,e,f,g){var h=b.min,i=b.max,j=b.interval,k=b.dateTimeUnit;if(f)return{left:0,right:e/Math.max(1,i-h+1)*j};if(d&&!g)return{left:0,right:0};if(this._isDate(h)&&this._isDate(i)){var l=this._estimateDTIntCnt(h,i,Math.min(j,i-h),k),m=e/Math.max(2,l);return{left:m/2,right:m/2}}var l=Math.max(1,i-h);if(1==l)return n=e/4,{left:n,right:n};var m=e/l,n=m*j/2;g&&(n=Math.max(n,m/2));{var o=e-2*n;a.jqx._rnd(o/Math.max(1,m*j),1,!1)}m=o/l;var p=n-m*j/2;return n-=p,{left:n,right:n}},_calculateXOffsets:function(b,c){var d=this.seriesGroups[b],e=this._getCategoryAxis(b),f=new Array,g=new Array,h=this._getDataLen(b),i=this._getCategoryAxisStats(b,e,c),j=i.min,k=i.max,l=i.isDateTime,m=i.isTimeUnit,n=this._hasColumnSeries(),o=d.polar||d.spider,p=this._alignValuesWithTicks(b),q=this._getPaddingSize(i,e,p,c,o,n),r=k-j;
0==r&&(r=1);var s=c-q.left-q.right;o&&p&&(q.left=q.right=0);for(var t=-1,u=-1,v=0;h>v;v++){var w=void 0===e.dataField?v:this._getDataValue(v,e.dataField,b);if(i.useIndeces){if(j>v||v>k){f.push(0/0),g.push(void 0);continue}f.push(a.jqx._ptrnd(q.left+(v-j)/r*s)),g.push(w),-1==t&&(t=v),(-1==u||v>u)&&(u=v)}else if(w=l?this._castAsDate(w):this._castAsNumber(w),isNaN(w)||j>w||w>k)f.push(0/0),g.push(void 0);else{var x=0;!l||l&&m?(diffFromMin=w-j,x=(w-j)*s/r):x=(w.valueOf()-j.valueOf())/(k.valueOf()-j.valueOf())*s,x=a.jqx._ptrnd(q.left+x),f.push(x),g.push(w),-1==t&&(t=v),(-1==u||v>u)&&(u=v)}}if(1==e.flip)for(var v=0;v<f.length;v++)isNaN(f[v])||(f[v]=c-f[v]);m&&(r=this._getDateDiff(j,k,e.baseUnit),r=a.jqx._rnd(r,1,!1));var y=Math.max(1,l?f.length:r),z=s/y;return t==u&&(f[t]=q.left+s/2),{axisStats:i,data:f,xvalues:g,first:t,last:u,length:-1==u?0:u-t+1,itemWidth:z,intervalWidth:z*i.interval,rangeLength:r,useIndeces:i.useIndeces,padding:q}},_getCategoryAxis:function(a){return void 0==a||this.seriesGroups.length<=a?this.categoryAxis||this.xAxis:this.seriesGroups[a].categoryAxis||this.seriesGroups[a].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(a,b){var c=this.seriesGroups[a],d=c.series[b];return 1==d.greyScale?!0:0==d.greyScale?!1:1==c.greyScale?!0:0==c.greyScale?!1:1==this.greyScale},_getSeriesColors:function(b,c,d){var e=this._getSeriesColorsInternal(b,c,d);if(this._isGreyScale(b,c))for(var f in e)e[f]=a.jqx.toGreyScale(e[f]);return e},_getColorFromScheme:function(a,b,c){var d="#000000",e=this.seriesGroups[a],f=e.series[b];if("pie"==e.type||"donut"==e.type){var g=this._getDataLen(a);d=this._getItemColorFromScheme(f.colorScheme||e.colorScheme||this.colorScheme,b*g+c,a,b)}else{for(var h=0,i=0;a>=i;i++)for(var j in this.seriesGroups[i].series){if(i==a&&j==b)break;h++}var k=this.colorScheme;if(e.colorScheme&&(k=e.colorScheme,sidex=seriesIndex),(void 0==k||""==k)&&(k=this.colorSchemes[0].name),!k)return d;for(var i=0;i<this.colorSchemes.length;i++){var l=this.colorSchemes[i];if(l.name==k){for(;h>l.colors.length;)h-=l.colors.length,++i>=this.colorSchemes.length&&(i=0),l=this.colorSchemes[i];d=l.colors[h%l.colors.length]}}}return d},_colorsCache:{get:function(a){return this._store[a]?this._store[a]:void 0},set:function(a){this._size<1e4&&(this._store[a],this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}},_getSeriesColorsInternal:function(b,c,d){var e=b+"_"+c+"_"+(isNaN(d)?"NaN":d);if(this._colorsCache.get(e))return this._colorsCache.get(e);var f=this.seriesGroups[b],g=f.series[c],h={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333"},i=void 0;if(a.isFunction(g.colorFunction)){var j=isNaN(d)?0/0:this._getDataValue(d,g.dataField,b);if(-1!=f.type.indexOf("range")){var k=this._getDataValue(d,g.dataFieldFrom,b),l=this._getDataValue(d,g.dataFieldTo,b);j={from:k,to:l}}if(i=g.colorFunction(j,d,g,f),"object"==typeof i)for(var m in i)h[m]=i[m];else h.fillColor=i}else{for(var m in h)g.key&&(h[m]=g[m]);g.fillColor||g.color?g.fillColor=g.fillColor||g.color:h.fillColor=this._getColorFromScheme(b,c,d)}var n={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},lineColor:{baseColor:"fillColor",adjust:.9},lineColorSelected:{baseColor:"lineColor",adjust:.8},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var m in h)"object"==typeof i&&i[m]||(h[m]=g[m]?g[m]:a.jqx.adjustColor(h[n[m].baseColor],n[m].adjust));return this._colorsCache.set(e,h),h},_getItemColorFromScheme:function(b,c,d,e){(void 0==b||""==b)&&(b=this.colorSchemes[0].name);for(var f=0;f<this.colorSchemes.length&&b!=this.colorSchemes[f].name;f++);for(var g=0;c>=g;){f==this.colorSchemes.length&&(f=0);var h=this.colorSchemes[f].colors.length;if(!(c>=g+h)){var i=this.colorSchemes[f].colors[c-g];return this._isGreyScale(d,e)&&0==i.indexOf("#")&&(i=a.jqx.toGreyScale(i)),i}g+=h,f++}},getColorScheme:function(a){for(var b in this.colorSchemes)if(this.colorSchemes[b].name==a)return this.colorSchemes[b].colors;return void 0},addColorScheme:function(a,b){for(var c in this.colorSchemes)if(this.colorSchemes[c].name==a)return void(this.colorSchemes[c].colors=b);this.colorSchemes.push({name:a,colors:b})},removeColorScheme:function(a){for(var b in this.colorSchemes)if(this.colorSchemes[b].name==a){this.colorSchemes.splice(b,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(b,c,d,e,f,g){if(void 0==b)return"";if(this._isObject(b)&&!d)return"";if(d){if(!a.isFunction(d))return b.toString();try{return d(b,g,f,e)}catch(h){return h.message}}return this._isNumber(b)?this._formatNumber(b,c):this._isDate(b)?this._formatDate(b,c):c?(c.prefix||"")+b.toString()+(c.sufix||""):b.toString()},_getFormattedValue:function(b,c,d,e,f){var g=this.seriesGroups[b],h=g.series[c],i="",j=e,k=f;if(k||(k=h.formatFunction||g.formatFunction),j||(j=h.formatSettings||g.formatSettings),!h.formatFunction&&h.formatSettings&&(k=void 0),-1!=g.type.indexOf("range")){var l=this._getDataValue(d,h.dataFieldFrom,b),m=this._getDataValue(d,h.dataFieldTo,b);if(k&&a.isFunction(k))try{return k({from:l,to:m},d,h,g)}catch(n){return n.message}void 0!=l&&(i=this._formatValue(l,j,k,b,c,d)),void 0!=m&&(i+=", "+this._formatValue(m,j,k,b,c,d))}else{var o=this._getDataValue(d,h.dataField,b);void 0!=o&&(i=this._formatValue(o,j,k,b,c,d))}return i||""},_isNumberAsString:function(b){if("string"!=typeof b)return!1;b=a.trim(b);for(var c=0;c<b.length;c++){var d=b.charAt(c);if(!(d>="0"&&"9">=d||","==d||"."==d||"-"==d&&0==c||"("==d&&0==c||")"==d&&c==b.length-1))return!1}return!0},_castAsDate:function(b){if(b instanceof Date&&!isNaN(b))return b;if("string"==typeof b){var c=new Date(b);if(isNaN(c))if(a.jqx.dataFormat){var d=a.jqx.dataFormat.tryparsedate(b);c=d?d:this._parseISO8601Date(b)}else c=this._parseISO8601Date(b);else-1==b.indexOf(":")&&c.setHours(0,0,0,0);if(void 0!=c&&!isNaN(c))return c}return void 0},_parseISO8601Date:function(a){var b=a.split(" ");if(b.length<0)return 0/0;var c=b[0].split("-"),d=2==b.length?b[1].split(":"):"",e=c[0],f=c.length>1?c[1]-1:0,g=c.length>2?c[2]:1,h=d[1],i=d.length>1?d[1]:0,h=d.length>2?d[2]:0,j=d.length>3?d[3]:0;return new Date(e,f,g,h,i,j)},_castAsNumber:function(a){if(a instanceof Date&&!isNaN(a))return a.valueOf();if("string"==typeof a)if(this._isNumber(a))a=parseFloat(a);else if(!/[a-zA-Z]/.test(a)){var b=new Date(a);void 0!=b&&(a=b.valueOf())}return a},_isNumber:function(a){return"string"==typeof a&&this._isNumberAsString(a)&&(a=parseFloat(a)),"number"==typeof a&&isFinite(a)},_isDate:function(a){return a instanceof Date&&!isNaN(a.getDate())},_isBoolean:function(a){return"boolean"==typeof a},_isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},_formatDate:function(a){return a.toString()},_formatNumber:function(a,b){if(!this._isNumber(a))return a;b=b||{};var c=b.decimalSeparator||".",d=b.thousandsSeparator||"",e=b.prefix||"",f=b.sufix||"",g=b.decimalPlaces;isNaN(g)&&(g=100*a!=100*parseInt(a)?2:0);var h=b.negativeWithBrackets||!1,i=0>a;i&&h&&(a*=-1);var j,k=a.toString(),l=Math.pow(10,g);if(k=(Math.round(a*l)/l).toString(),isNaN(k)&&(k=""),j=k.lastIndexOf("."),g>0)for(0>j?(k+=c,j=k.length-1):"."!==c&&(k=k.replace(".",c));k.length-1-j<g;)k+="0";j=k.lastIndexOf(c),j=j>-1?j:k.length;for(var m=k.substring(j),n=0,o=j;o>0;o--,n++)n%3===0&&o!==j&&(!i||o>1||i&&h)&&(m=d+m),m=k.charAt(o-1)+m;return k=m,i&&h&&(k="("+k+")"),e+k+f},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_getBezierPoints:function(b){for(var c=[],d=b.split(" "),e=0;e<d.length;e++){var f=d[e].split(",");c.push({x:parseFloat(f[0]),y:parseFloat(f[1])})}var g="";if(c.length<3)for(var e=0;e<c.length;e++)g+=(e>0?" ":"")+c[e].x+","+c[e].y;else for(var e=0;e<c.length-1;e++){var h=[];0==e?(h.push(c[e]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+2])):c.length-2==e?(h.push(c[e-1]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+1])):(h.push(c[e-1]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+2]));var i=[],j=e>3?9:5,k=0==e?81:j,l={x:(-h[0].x+k*h[1].x+h[2].x)/k,y:(-h[0].y+k*h[1].y+h[2].y)/k};0==e&&(k=j);var m={x:(h[1].x+k*h[2].x-h[3].x)/k,y:(h[1].y+k*h[2].y-h[3].y)/k};i.push({x:h[1].x,y:h[1].y}),i.push(l),i.push(m),i.push({x:h[2].x,y:h[2].y}),g+="C"+a.jqx._ptrnd(i[1].x)+","+a.jqx._ptrnd(i[1].y)+" "+a.jqx._ptrnd(i[2].x)+","+a.jqx._ptrnd(i[2].y)+" "+a.jqx._ptrnd(i[3].x)+","+a.jqx._ptrnd(i[3].y)+" "}return g},_animTickInt:50,_createAnimationGroup:function(a){this._animGroups||(this._animGroups={}),this._animGroups[a]={animations:[],startTick:0/0}},_startAnimation:function(a){var b=new Date,c=b.getTime();this._animGroups[a].startTick=c,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(a,b,c,d,e,f,g){0>d&&(d=0),void 0==g&&(g="easeInOutSine"),this._animGroups[a].animations.push({key:b,properties:c,duration:d,fn:e,context:f,easing:g})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var a=this;this._animtimer=setTimeout(function(){a._runAnimation()},this._animTickInt)}},_runAnimation:function(){if(this._animGroups){var b=new Date,c=b.getTime(),d={};for(var e in this._animGroups){for(var f=this._animGroups[e].animations,g=this._animGroups[e].startTick,h=0,i=0;i<f.length;i++){var j=f[i],k=c-g;j.duration>h&&(h=j.duration);var l=j.duration>0?k/j.duration:1,m=l;if(j.easing&&0!=j.duration&&(m=a.easing[j.easing](l,k,0,1,j.duration)),l>1&&(l=1,m=1),j.fn)j.fn(j.key,j.context,m);else{for(var n={},e=0;e<j.properties.length;e++){var o=j.properties[e],p=0;p=1==l?o.to:easeParecent*(o.to-o.from)+o.from,n[o.key]=p}this.renderer.attr(j.key,n)}}g+h>c&&(d[e]={startTick:g,animations:f})}this._animGroups=d,this.renderer instanceof a.jqx.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null;for(var e in this._animGroups){this._enableAnimTimer();break}}})}(jQuery),function(a){a.extend(a.jqx._jqxGrid.prototype,{_updatefilterrowui:function(b){for(var c=this.columns.records.length,d=0,e=this,f=0;c>f;f++){var g=this.columns.records[f],h=g.width;h<g.minwidth&&(h=g.minwidth),h>g.maxwidth&&(h=g.maxwidth);var i=a(this.filterrow[0].cells[f]);i.css("left",d);var j=!0;if(i.width()==h&&(j=!1),b&&(j=!0),i.width(h),i[0].left=d,g.hidden&&g.hideable?i.css("display","none"):d+=h,j)if(g.createfilterwidget&&"custom"==g.filtertype)g.createfilterwidget(g,i);else if(g.filterable){var k=function(b,c){var d=a(c.children()[0]);d.width(h-10),d.attr("disabled",b.disabled)};switch(g.filtertype){case"number":a(i.children()[0]).width(h),i.find("input").width(h-30),i.find("input").attr("disabled",e.disabled),a(i.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({disabled:e.disabled});break;case"date":this.host.jqxDateTimeInput?a(i.children()[0]).jqxDateTimeInput({disabled:e.disabled,width:h-10}):k(this,i);break;case"textbox":case"default":k(this,i);break;case"list":case"checkedlist":this.host.jqxDropDownList?a(i.children()[0]).jqxDropDownList({disabled:e.disabled,width:h-10}):k(this,i);break;case"bool":case"boolean":this.host.jqxCheckBox?a(i.children()[0]).jqxCheckBox({disabled:e.disabled}):k(this,i)}}}var l=a(this.filterrow.children()[0]);l.width(parseInt(d)+2),l.height(this.filterrowheight)},clearfilterrow:function(b){if(this._disablefilterrow=!0,this.columns.records){for(var c=this.columns.records.length,d=0;c>d;d++){var e=this.columns.records[d],f=a(this.filterrow[0].cells[d]);if(("string"!=typeof b||e.displayfield==b)&&e.filterable){var g=function(b,c){var d=a(c.children()[0]);d.val(""),d[0]&&(b["_oldWriteText"+d[0].id]="")};switch(e.filtertype){case"number":f.find("input").val("");break;case"date":this.host.jqxDateTimeInput?a(f.children()[0]).jqxDateTimeInput("setDate",null):g(this,f);break;case"textbox":case"default":g(this,f);break;case"list":this.host.jqxDropDownList?a(f.children()[0]).jqxDropDownList("clearSelection"):g(this,f);break;case"checkedlist":this.host.jqxDropDownList?a(f.children()[0]).jqxDropDownList("checkAll",!1):g(this,f);break;case"bool":case"boolean":this.host.jqxCheckBox?a(f.children()[0]).jqxCheckBox({checked:null}):g(this,f)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var b=this.columns.records.length,c=this.that,d=0;b>d;d++){var e=new a.jqx.filter,f=this.columns.records[d];if(f.filterable&&null!==f.datafield){var g=c._getcolumntypebydatafield(f),h=c._getfiltertype(g),i=1,j=!0,k=(f.filtertype,function(a,b,d){var e=!0;if(a._filterwidget){var f=a._filterwidget.val();if(""!=f){var g="equal";if("stringfilter"==b)var g="contains";if("numericfilter"==b&&","==c.gridlocalization.decimalseparator&&f.indexOf(c.gridlocalization.decimalseparator)>=0&&(f=f.replace(c.gridlocalization.decimalseparator,".")),"stringfilter"!=b){var h=0;if(-1!=f.indexOf(">")&&(g="greater_than",h=1),-1!=f.indexOf("<")&&(g="less_than",h=1),-1!=f.indexOf("=")&&("greater_than"==g?(g="greater_than_or_equal",h=2):"less_than"==g?(g="less_than_or_equal",h=2):(g="equal",h=1)),0!=h&&(f=f.substring(h),f.length<1))return!1}if(void 0!=a.filtercondition&&(g=a.filtercondition),"datefilter"==b)var j=d.createfilter(b,f,g,null,a.cellsformat,c.gridlocalization);else var j=d.createfilter(b,f,g);d.addfilter(i,j)}else e=!1}return e});switch(f.filtertype){case"date":if(f._filterwidget.jqxDateTimeInput){var l=f._filterwidget.jqxDateTimeInput("getRange");if(null!=l&&null!=l.from&&null!=l.to){var m="GREATER_THAN_OR_EQUAL",n=new Date(0);n.setHours(0),n.setFullYear(l.from.getFullYear(),l.from.getMonth(),l.from.getDate());var o=new Date(0);o.setHours(0),o.setFullYear(l.to.getFullYear(),l.to.getMonth(),l.to.getDate()),o.setHours(l.to.getHours()),o.setMinutes(l.to.getMinutes()),o.setSeconds(l.to.getSeconds());var p=e.createfilter(h,n,m);e.addfilter(0,p);var q="LESS_THAN_OR_EQUAL",r=e.createfilter(h,o,q);e.addfilter(0,r)}else j=!1}else j=k(f,h,e);break;case"number":if(f._filterwidget){var l=f._filterwidget.find("input").val();","==c.gridlocalization.decimalseparator&&l.indexOf(c.gridlocalization.decimalseparator)>=0&&(l=l.replace(c.gridlocalization.decimalseparator,"."));var s=f._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),t=e.getoperatorsbyfiltertype(h)[s];if(c.updatefilterconditions){var u=c.updatefilterconditions(h,e.getoperatorsbyfiltertype(h));void 0!=u&&e.setoperatorsbyfiltertype(h,u);var t=e.getoperatorsbyfiltertype(h)[s]}var v="NULL"==t||"NOT_NULL"==t,w="EMPTY"==t||"NOT_EMPTY"==t;void 0!=l&&l.length>0||v||w?(p=e.createfilter(h,new Number(l),t,null,f.cellsformat,c.gridlocalization),e.addfilter(0,p)):j=!1}else j=!1;break;case"textbox":case"default":j=k(f,h,e);break;case"bool":case"boolean":if(f._filterwidget.jqxCheckBox){var l=f._filterwidget.jqxCheckBox("checked");if(null!=l){var m="equal",x=e.createfilter(h,l,m);e.addfilter(i,x)}else j=!1}else j=k(f,h,e);break;case"list":var y=f._filterwidget.jqxDropDownList("listBox");if(y.selectedIndex>0){var z=y.getItem(y.selectedIndex),l=z.label,m="equal";""===l&&(m="NULL");var x=e.createfilter(h,l,m);e.addfilter(i,x)}else j=!1;break;case"checkedlist":if(f._filterwidget.jqxDropDownList){var y=f._filterwidget.jqxDropDownList("listBox"),A=y.getCheckedItems();if(0==A.length){for(var B=1;B<y.items.length;B++){var l=y.items[B].label,m="not_equal";""===l&&(m="NULL");var x=e.createfilter(h,l,m);e.addfilter(0,x)}j=!0}else if(A.length!=y.items.length)for(var B=0;B<A.length;B++){var l=A[B].label,m="equal";""===l&&(m="NULL");var x=e.createfilter(h,l,m);e.addfilter(i,x)}else j=!1}else j=k(f,h,e)}this._loading||(j?this.addfilter(f.displayfield,e,!1):this.removefilter(f.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var b=a('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),c=0,d=this.columns.records.length,e=this.toThemeProperty("jqx-grid-cell");e+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),e+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var f=d+10,g=new Array,h=this.that;this.filterrow[0].cells=g,b.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(b),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var i=!1,j=new Array,k=0;d>k;k++){var l=this.columns.records[k],m=l.width;m<l.minwidth&&(m=l.minwidth),m>l.maxwidth&&(m=l.maxwidth);var n=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+e+'"></div>');b.append(n),n.css("left",c),this.rtl?(n.css("z-index",f++),n.css("border-left-width","1px")):n.css("z-index",f--),n[0].style.width=parseFloat(m)+"px",n[0].left=c,l.hidden&&l.hideable?n.css("display","none"):c+=m,g[g.length]=n[0];var o=!0;if(this.rtl){if(this.groupable){var p=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+p+k>d-1&&(o=!1)}this.showrowdetailscolumn&&this.rowdetails&&k==d-1&&(o=!1)}else{if(this.groupable){var p=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+p>k&&(o=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==k&&(o=!1)}if(o)if("custom"==l.filtertype&&l.createfilterwidget){var q=function(){h._applyfilterfromfilterrow()};l.createfilterwidget(l,n,q)}else l.filterable&&(this._filterrowcache[l.datafield]?(i=!0,n.append(this._filterrowcache[l.datafield]),l._filterwidget=this._filterrowcache[l.datafield]):(this._addfilterwidget(l,n,m),j[l.datafield]=l._filterwidget))}this._filterrowcache=j,a.jqx.browser.msie&&a.jqx.browser.version<8&&b.css("z-index",f--),b.width(parseFloat(c)+2),this.filterrow.addClass(e),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),i&&this._updatefilterrowui(!0)},_addfilterwidget:function(b,c,d){for(var e=this.that,f="",g=0;g<e.dataview.filters.length;g++){var h=e.dataview.filters[g];if(h.datafield&&h.datafield==b.datafield){f=h.filter.getfilters()[0].value;break}}var i=function(c,e){var g=a('<input autocomplete="off" type="textarea"/>');g[0].id=a.jqx.utilities.createId(),g.addClass(c.toThemeProperty("jqx-widget")),g.addClass(c.toThemeProperty("jqx-input")),g.addClass(c.toThemeProperty("jqx-rc-all")),g.addClass(c.toThemeProperty("jqx-widget-content")),c.rtl&&g.css("direction","rtl"),c.disabled&&g.attr("disabled",!0),g.attr("disabled",!1),g.appendTo(e),g.width(d-10),g.height(c.filterrowheight-10),g.css("margin","4px"),b.createfilterwidget&&b.createfilterwidget(b,e,g),b._filterwidget=g,g.focus(function(){return c.content[0].scrollLeft=0,setTimeout(function(){c.content[0].scrollLeft=0},10),c.focusedfilter=g,g.addClass(c.toThemeProperty("jqx-fill-state-focus")),!1}),g.blur(function(){g.removeClass(c.toThemeProperty("jqx-fill-state-focus"))}),g.keydown(function(a){"13"==a.keyCode&&c._applyfilterfromfilterrow(),g[0]._writeTimer&&clearTimeout(g[0]._writeTimer),g[0]._writeTimer=setTimeout(function(){c._loading||c["_oldWriteText"+g[0].id]!=g.val()&&(c._applyfilterfromfilterrow(),c["_oldWriteText"+g[0].id]=g.val())},800),c.focusedfilter=g}),c.host.removeClass("jqx-disableselect"),c.content.removeClass("jqx-disableselect"),g.val(f)};switch(null!=b.datatype&&("number"==b.filtertype&&("string"==b.datatype||"date"==b.datatype||"bool"==b.datatype)&&(b.filtertype="textbox"),"date"==b.filtertype&&("string"==b.datatype||"number"==b.datatype||"bool"==b.datatype)&&(b.filtertype="textbox"),"bool"==b.filtertype&&("string"==b.datatype||"number"==b.datatype||"date"==b.datatype)&&(b.filtertype="textbox")),b.filtertype){case"number":var j=a("<div></div>");j.width(c.width()),j.height(this.filterrowheight),c.append(j);var d=c.width()-20,k=function(b,c){var d=a('<input style="float: left;" autocomplete="off" type="textarea"/>');return e.rtl&&(d.css("float","right"),d.css("direction","rtl")),d[0].id=a.jqx.utilities.createId(),d.addClass(e.toThemeProperty("jqx-widget")),d.addClass(e.toThemeProperty("jqx-input")),d.addClass(e.toThemeProperty("jqx-rc-all")),d.addClass(e.toThemeProperty("jqx-widget-content")),d.appendTo(b),d.width(c-10),e.disabled&&d.attr("disabled",!0),d.attr("disabled",!1),d.height(e.filterrowheight-10),d.css("margin","4px"),d.css("margin-right","2px"),d.focus(function(){e.focusedfilter=d,d.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),d.blur(function(){d.removeClass(e.toThemeProperty("jqx-fill-state-focus"))}),d.keydown(function(a){"13"==a.keyCode&&e._applyfilterfromfilterrow(),d[0]._writeTimer&&clearTimeout(d[0]._writeTimer),d[0]._writeTimer=setTimeout(function(){e._loading||e["_oldWriteText"+d[0].id]!=d.val()&&(e._applyfilterfromfilterrow(),e["_oldWriteText"+d[0].id]=d.val())},800),e.focusedfilter=d}),d.val(f),d};k(j,d);var l=e._getfiltersbytype("number"),m=a("<div class='filter' style='float: left;'></div>");m.css("margin-top","4px"),m.appendTo(j),e.rtl&&m.css("float","right");var n=0;if(null!=b.filtercondition){var o=l.indexOf(b.filtercondition);-1!=o&&(n=o)}m.jqxDropDownList({disabled:e.disabled,touchMode:e.touchmode,rtl:e.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:n,width:18,height:21,dropDownHeight:150,dropDownWidth:170,source:l,theme:e.theme}),m.jqxDropDownList({selectionRenderer:function(){return""}}),m.jqxDropDownList("setContent",""),m.find(".jqx-dropdownlist-content").hide(),b.createfilterwidget&&b.createfilterwidget(b,c,j),b._filterwidget=j;var p=null;this.addHandler(m,"select",function(){var a=m.jqxDropDownList("getSelectedItem").label;b._filterwidget.find("input").val().length>0&&!e.refreshingfilter?e._applyfilterfromfilterrow():0!=b._filterwidget.find("input").val().length||e.refreshingfilter||("null"==p||"not null"==p||"null"==a||"not null"==a)&&e._applyfilterfromfilterrow(),p=a});break;case"textbox":case"default":default:i(this,c);break;case"none":break;case"date":if(this.host.jqxDateTimeInput){var q=a("<div></div>");q.css("margin","4px"),q.appendTo(c);var r={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};q.jqxDateTimeInput({disabled:e.disabled,localization:r,rtl:e.rtl,showFooter:!0,formatString:b.cellsformat,selectionMode:"range",value:null,theme:this.theme,width:d-10,height:this.filterrowheight-10}),b.createfilterwidget&&b.createfilterwidget(b,c,q),b._filterwidget=q,this.addHandler(q,"valuechanged",function(){e.refreshingfilter||(e._applyfilterfromfilterrow(),e.focusedfilter=null)})}else i(this,c);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var s=this._getfilterdataadapter(b),t=!1,m=a("<div></div>");m.css("margin","4px");var u=b.datafield,v="checkedlist"==b.filtertype?!0:!1,w=150>d?220:"auto";s.dataBind();var x=s.records,y=x.length<8?!0:!1;t=y,m.appendTo(c),m.jqxDropDownList({disabled:e.disabled,touchMode:e.touchmode,rtl:e.rtl,checkboxes:v,dropDownWidth:w,source:s.records,autoDropDownHeight:y,theme:this.theme,width:d-10,height:this.filterrowheight-10,displayMember:b.displayfield,valueMember:u});var z=m.jqxDropDownList("listBox");if(v){m.jqxDropDownList({selectionRenderer:function(){var a='<span class="'+e.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+e.gridlocalization.filterselectstring+"</span>";return a}});var A=a('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+e.gridlocalization.filterselectstring+"</span>");if(A.addClass(this.toThemeProperty("jqx-item")),void 0!=z){t||z.host.height(200),z.insertAt(e.gridlocalization.filterselectallstring,0),m.jqxDropDownList("setContent",A);{var B=!0;new Array}z.checkAll(!1),e.addHandler(z.host,"checkChange",function(a){if(m[0]._selectionChanged=!0,B)if(a.args.label!=e.gridlocalization.filterselectallstring){B=!1,z.host.jqxListBox("checkIndex",0,!0,!1);var b=z.host.jqxListBox("getCheckedItems"),c=z.host.jqxListBox("getItems");1==b.length?z.host.jqxListBox("uncheckIndex",0,!0,!1):c.length!=b.length&&z.host.jqxListBox("indeterminateIndex",0,!0,!1),B=!0}else B=!1,a.args.checked?z.host.jqxListBox("checkAll",!1):z.host.jqxListBox("uncheckAll",!1),B=!0})}}else z.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),m.jqxDropDownList({selectedIndex:0});b.createfilterwidget&&b.createfilterwidget(b,c,m),b._filterwidget=m;{m.jqxDropDownList("dropdownlistWrapper")}"list"==b.filtertype?this.addHandler(m,"select",function(a){e.refreshingfilter||a.args&&"none"!=a.args.type&&(e._applyfilterfromfilterrow(),e.focusedfilter=null)}):this.addHandler(m,"close",function(){m[0]._selectionChanged&&(e._applyfilterfromfilterrow(),e.focusedfilter=null,m[0]._selectionChanged=!1)})}else i(this,c);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var C=a('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');C.appendTo(c),C.jqxCheckBox({disabled:e.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),b.createfilterwidget&&b.createfilterwidget(b,c,C),f===!0||"true"==f?C.jqxCheckBox({checked:!0}):(f===!1||"false"==f)&&C.jqxCheckBox({checked:!1}),b._filterwidget=C,this.addHandler(C,"change",function(a){e.refreshingfilter||a.args&&(e.focusedfilter=null,e._applyfilterfromfilterrow())})}else i(this,c)}},_getfilterdataadapter:function(b){var c=this.source._source?!0:!1;if(c){var d={localdata:this.source.records,datatype:this.source.datatype,async:!1},e=this;dataadapter=new a.jqx.dataAdapter(d,{autoBind:!1,autoSort:!0,autoSortField:b.displayfield,async:!1,uniqueDataFields:[b.displayfield],beforeLoadComplete:function(a){var c=new Array;if(b.cellsformat){for(var d=e._getcolumntypebydatafield(b),f=0;f<a.length;f++){c.push(a[f]);var g=a[f][b.displayfield];a[f][b.displayfield+"JQValue"]=g,"date"===d?a[f][b.displayfield]=dataadapter.formatDate(g,b.cellsformat,e.gridlocalization):("number"===d||"float"===d||"int"===d)&&(a[f][b.displayfield]=dataadapter.formatNumber(g,b.cellsformat,e.gridlocalization))}return c}return a}})}else dataadapter=new a.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[b.displayfield],autoSort:!0,autoSortField:b.displayfield,async:!1});if(b.filteritems&&b.filteritems.length>0){var d={localdata:b.filteritems,datatype:this.source.datatype,async:!1};dataadapter=new a.jqx.dataAdapter(d,{autoBind:!1,async:!1})}else if(b.filteritems){if(b.filteritems._source)return b.filteritems._options.autoBind=!1,b.filteritems._options.async=!1,b.filteritems;if(a.isFunction(b.filteritems))return b.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var b=this.that,c=this.columns.records.length,d=0;c>d;d++){var e=this.columns.records[d];if(e.filterable&&e.filter){var f=e.filter.getfilters();if(f.length>0){var g=f[0].value,h=e._filterwidget,i=e._filterwidget.parent();if(null!=h)switch(e.filtertype){case"number":if(i.find("input").val(g),this.host.jqxDropDownList){var j=e.filter.getoperatorsbyfiltertype("numericfilter");h.find(".filter").jqxDropDownList("selectIndex",j.indexOf(f[0].condition))}break;case"date":if(this.host.jqxDateTimeInput){var g=e.filter.getfilterat(0).filtervalue;if(void 0!=g){if(e.filter.getfilterat(1))var k=e.filter.getfilterat(1).filtervalue;else k=g;a(i.children()[0]).jqxDateTimeInput("setRange",new Date(g),new Date(k))}}else h.val(g);break;case"textbox":case"default":h.val(g),b["_oldWriteText"+h[0].id]=g;break;case"bool":case"boolean":this.host.jqxCheckBox?a(i.children()[0]).jqxCheckBox({checked:g}):h.val(g)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var b=(this.that,this.columns.records.length),c=0;b>c;c++){var d=this.columns.records[c];if(d.filterable){var e=d._filterwidget;if("list"==d.filtertype||"checkedlist"==d.filtertype)this.removeHandler(e,"select"),this.removeHandler(e,"close"),e.jqxDropDownList("destroy");else if("date"==d.filtertype)this.removeHandler(e,"valuechanged"),e.jqxDateTimeInput("destroy");else if("bool"==d.filtertype)this.removeHandler(e,"change"),e.jqxCheckBox("destroy");else if("number"==d.filtertype){var f=e.find(".jqx-input");this.removeHandler(f,"keydown");var g=a(e.children()[1]);g.jqxDropDownList("destroy")}else this.removeHandler(e,"keydown");e.remove()}}},_updatelistfilters:function(b,c){for(var d=this.that,e=this.columns.records.length,f=0;e>f;f++){var g=this.columns.records[f];if(g.filterable&&("list"==g.filtertype||"checkedlist"==g.filtertype)){var h=g._filterwidget;if(b){var i=this._getfilterdataadapter(g);h.jqxDropDownList({source:i});var j=h.jqxDropDownList("getItems"),k=!0;if(j.length!=i.records.length+1&&(k=!1),k)for(var l=1;l<j.length;l++)if(j[l].label!=i.records[l-1][g.displayfield]){k=!1;break}if(k&&!c)continue}else if(void 0==g.filter){h.jqxDropDownList("renderSelection");continue}var m="checkedlist"==g.filtertype?!0:!1,j=h.jqxDropDownList("getItems"),n=h.jqxDropDownList("listBox");if(h.jqxDropDownList("dataBind"),m){if(h.jqxDropDownList({selectionRenderer:function(){return d.gridlocalization.filterselectstring}}),n.insertAt(this.gridlocalization.filterselectallstring,0),h.jqxDropDownList("setContent",this.gridlocalization.filterselectstring),n.checkAll(!1),g.filter){for(var o=g.filter.getfilters(),l=0;l<n.items.length;l++){var p=n.items[l].label,q=void 0;a.each(o,function(){var a;"NOT_EQUAL"==this.condition?a=p==this.value?!1:!0:"EQUAL"==this.condition&&(a=p==this.value?!0:!1),q=void 0==q&&void 0!==a?a:"EQUAL"==this.condition?q||a:q&&a}),q?n.checkIndex(l,!1,!1):n.uncheckIndex(l,!1,!1)}n._updateCheckedItems();var r=n.getCheckedItems().length;n.items.length!=r&&r>0&&n.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(n.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),h.jqxDropDownList({selectedIndex:0}),g.filter){for(var o=g.filter.getfilters(),s=-1,l=0;l<n.items.length;l++){var p=n.items[l].label;
a.each(o,function(){return"NOT_EQUAL"==this.condition?!0:p==this.value?(s=l,!1):void 0})}-1!=s&&n.selectIndex(s)}j.length<8?h.jqxDropDownList("autoDropDownHeight",!0):h.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var b=this.that;if(this.filterable){if(!this.columns.records)return;a.each(this.columns.records,function(){var c=!1;b.autoshowfiltericon?this.filter?(a(this.filtericon).show(),c=!0):a(this.filtericon).hide():this.filterable&&(a(this.filtericon).show(),c=!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=c?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var b=this.source._source.datafields;if(b)for(var c=0;c<this.columns.records.length;c++){var d=this.columns.records[c];if(!d.datatype){var e="";a.each(b,function(){return this.name==d.displayfield?(this.type&&(e=this.type),!1):void 0}),d.datatype=""!=e?e:""}}}},_getcolumntypebydatafield:function(b){var c=this.that,d="string",e=c.source.datafields||(c.source._source?c.source._source.datafields:null);if(e){var f="";if(a.each(e,function(){return this.name==b.displayfield?(this.type&&(f=this.type),!1):void 0}),f)return f}if(null!=b){if(void 0==this.dataview.cachedrecords)return d;var g=null;if(this.virtualmode)a.each(this.dataview.cachedrecords,function(){return g=this[b.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return d;if(g=this.dataview.cachedrecords[0][b.displayfield],null!=g&&""==g.toString())return"string"}if(null!=g)if("boolean"==typeof g)d="boolean";else if(a.jqx.dataFormat.isNumber(g))d="number";else{var h=new Date(g);if("NaN"==h.toString()||"Invalid Date"==h.toString())if(a.jqx.dataFormat){if(h=a.jqx.dataFormat.tryparsedate(g),null!=h){if(h&&h.getFullYear()&&1970==h.getFullYear()&&0==h.getMonth()&&1==h.getDate()){var i=new Number(g);return isNaN(i)?"string":"number"}return"date"}d="string"}else d="string";else d="date"}}return d},_getfiltersbytype:function(a){var b=this.that,c="";switch(a){case"number":case"float":case"int":c=b.gridlocalization.filternumericcomparisonoperators;break;case"date":c=b.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":c=b.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:c=b.gridlocalization.filterstringcomparisonoperators}return c},_getfiltertype:function(a){var b="stringfilter";switch(a){case"number":case"int":case"float":case"decimal":b="numericfilter";break;case"boolean":case"bool":b="booleanfilter";break;case"date":case"time":b="datefilter";break;case"string":b="stringfilter"}return b},_buildfilter:function(b,c,d){var e=a(c).find("#filter1"+b.element.id),f=a(c).find("#filter2"+b.element.id),g=a(c).find("#filter3"+b.element.id),h=a(c).find(".filtertext1"+b.element.id),i=a(c).find(".filtertext2"+b.element.id),j=h.val(),k=i.val(),l=b._getcolumntypebydatafield(d),m=(b._getfiltersbytype(l),new a.jqx.filter),n=b._getfiltertype(l);if("default"===b.filtermode){var o=e.jqxDropDownList("selectedIndex"),p=f.jqxDropDownList("selectedIndex"),q=g.jqxDropDownList("selectedIndex"),r=null,s=null;if(b.updatefilterconditions){var t=b.updatefilterconditions(n,m.getoperatorsbyfiltertype(n));void 0!=t&&m.setoperatorsbyfiltertype(n,t)}var u=!1,v=m.getoperatorsbyfiltertype(n)[o],g=m.getoperatorsbyfiltertype(n)[q],w="NULL"==v||"NOT_NULL"==v,x="EMPTY"==v||"NOT_EMPTY"==v;void 0==v&&(v=m.getoperatorsbyfiltertype(n)[0]),void 0==g&&(g=m.getoperatorsbyfiltertype(n)[0]),(j.length>0||w||x)&&(r=m.createfilter(n,j,v,null,d.cellsformat,b.gridlocalization),m.addfilter(p,r),u=!0);var y="NULL"==g||"NOT_NULL"==g,z="EMPTY"==g||"NOT_EMPTY"==g;if((k.length>0||y||z)&&(s=m.createfilter(n,k,g,null,d.cellsformat,b.gridlocalization),m.addfilter(p,s),u=!0),u){var A=d.displayfield;this.addfilter(A,m,!0)}else this._clearfilter(b,c,d)}else{var B=!1,C=e.data().jqxListBox.instance,D=C.getCheckedItems();if(0==D.length){for(var E=1;E<C.items.length;E++){var F=C.items[E].value,G="not_equal",H=m.createfilter(n,F,G,null);m.addfilter(0,H)}B=!0}else if(D.length!=C.items.length){B=!0;for(var E=0;E<D.length;E++)if(b.gridlocalization.filterselectallstring!==D[E].value){var F=D[E].value,G="equal",H=m.createfilter(n,F,G,null),I=1;m.addfilter(I,H)}}else B=!1;if(B){var A=d.displayfield;this.addfilter(A,m,!0)}else{var A=d.displayfield;this.removefilter(A,!0)}}},_clearfilter:function(a,b,c){var d=c.displayfield;this.removefilter(d,!0)},addfilter:function(a,b,c){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var d=this.getcolumn(a),e=this._getcolumn(a);void 0!=d&&null!=d&&(d.filter=b,e.filter=b,this.dataview.addfilter(a,b),1==c&&void 0!=c&&this.applyfilters("add"))},removefilter:function(a,b){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var c=this.getcolumn(a),d=this._getcolumn(a);void 0!=c&&null!=c&&null!=c.filter&&(this.dataview.removefilter(a,c.filter),c.filter=null,d.filter=null,this.showfilterrow&&this.clearfilterrow(a),(1==b||b!==!1)&&this.applyfilters("remove"))},applyfilters:function(b){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var c=-1;this.pageable?(c=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=c)}if(this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof b&&a.isEmptyObject(b)&&this.refreshfilterrow(),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var d=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,d,null,!1,!1):this.sortby(this.sortcolumn,d,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates()):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&"string"!=typeof b&&a.isEmptyObject(b)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var a=new Array,b=0;b<this.dataview.filters.length;b++){var c=this.getcolumn(this.dataview.filters[b].datafield);a[b]={filter:this.dataview.filters[b].filter,filtercolumn:c.datafield,filtercolumntext:c.text}}return a},clearfilters:function(b){var c=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var d=1==b||b!==!1;a.each(this.columns.records,function(){c.removefilter(this.displayfield,!d)})}b!==!1&&(1==b||b!==!1)&&this.applyfilters("clear")},_destroyfilterpanel:function(){var b=a(a.find("#filterclearbutton"+this.element.id)),c=a(a.find("#filterbutton"+this.element.id)),d=a(a.find("#filter1"+this.element.id)),e=a(a.find("#filter2"+this.element.id)),f=a(a.find("#filter3"+this.element.id)),g=a(a.find(".filtertext1"+this.element.id)),h=a(a.find(".filtertext2"+this.element.id));g.length>0&&h.length>0&&(g.removeClass(),h.removeClass(),g.remove(),h.remove()),b.length>0&&(b.jqxButton("destroy"),c.jqxButton("destroy"),this.removeHandler(b,"click"),this.removeHandler(c,"click")),d.length>0&&d.jqxDropDownList("destroy"),e.length>0&&e.jqxDropDownList("destroy"),f.length>0&&f.jqxDropDownList("destroy")},_updatefilterpanel:function(b,c,d){(null==b||void 0==b)&&(b=this);var e=b._getcolumntypebydatafield(d),f=b._getfiltersbytype(e);if(!b.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");var g=a(c),h=g.find("#filterclearbutton"+b.element.id),i=g.find("#filterbutton"+b.element.id),j=g.find("#filter1"+b.element.id),k=g.find("#filter2"+b.element.id),l=g.find("#filter3"+b.element.id),m=g.find(".filtertext1"+b.element.id),n=g.find(".filtertext2"+b.element.id);if(this._hasdatefilter){var o=m.parent(),p=n.parent();if(o.children().remove(),p.children().remove(),"date"==d.filtertype){b._showwhere.text(b.gridlocalization.filtershowrowdatestring);var q=a("<div class='filtertext1"+b.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");o.append(q);var r=function(a){var c={calendar:b.gridlocalization,todayString:b.gridlocalization.todaystring,clearString:b.gridlocalization.clearstring};a.jqxDateTimeInput({disabled:b.disabled,localization:c,rtl:b.rtl,width:b._filterpanelwidth-15,height:20,value:null,formatString:d.cellsformat,theme:b.theme})};r(q);var q=a("<div class='filtertext2"+b.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");p.append(q),r(q)}else{b._showwhere.text(b.gridlocalization.filtershowrowstring);var q=a("<input class='filtertext1"+b.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");o.append(q);var r=function(a){a.addClass(b.toThemeProperty("jqx-input")),a.addClass(b.toThemeProperty("jqx-widget-content")),a.addClass(b.toThemeProperty("jqx-rc-all")),a.width(b._filterpanelwidth-15)};r(q);var q=a("<input class='filtertext2"+b.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");p.append(q),r(q)}var m=g.find(".filtertext1"+b.element.id),n=g.find(".filtertext2"+b.element.id)}if(m.val(""),n.val(""),this.removeHandler(i,"click"),this.addHandler(i,"click",function(){b._buildfilter(b,c,d),b._closemenu()}),this.removeHandler(h,"click"),this.addHandler(h,"click",function(){b._clearfilter(b,c,d),b._closemenu()}),"default"===this.filtermode){if(j.jqxDropDownList("source")!=f&&(j.jqxDropDownList({enableBrowserBoundsDetection:!1,source:f}),l.jqxDropDownList({enableBrowserBoundsDetection:!1,source:f})),"boolean"==e||"bool"==e)j.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),l.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var s=!1;f&&f.length&&f.length<5&&(s=!0),j.jqxDropDownList({autoDropDownHeight:s,selectedIndex:2}),l.jqxDropDownList({autoDropDownHeight:s,selectedIndex:2})}k.jqxDropDownList({selectedIndex:0});var t=d.filter,u=new a.jqx.filter,v="";switch(e){case"number":case"int":case"float":case"decimal":v="numericfilter",w=u.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":v="booleanfilter",w=u.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":v="datefilter",w=u.getoperatorsbyfiltertype("datefilter");break;case"string":v="stringfilter",w=u.getoperatorsbyfiltertype("stringfilter")}if(null!=t){{var o=t.getfilterat(0),p=t.getfilterat(1);t.getoperatorat(0)}if(b.updatefilterconditions){var w=[],x=b.updatefilterconditions(v,w);if(void 0!=x){for(var y=0;y<x.length;y++)x[y]=x[y].toUpperCase();t.setoperatorsbyfiltertype(v,x),w=x}}var z="default";if(null!=o){var A=w.indexOf(o.comparisonoperator),B=o.filtervalue;m.val(B),j.jqxDropDownList({selectedIndex:A,animationType:z})}if(null!=p){var C=w.indexOf(p.comparisonoperator),D=p.filtervalue;n.val(D),l.jqxDropDownList({selectedIndex:C,animationType:z})}k.jqxDropDownList(void 0==t.getoperatorat(0)?{selectedIndex:0,animationType:z}:"and"==t.getoperatorat(0)||0==t.getoperatorat(0)?{selectedIndex:0}:{selectedIndex:1})}b.updatefilterpanel&&b.updatefilterpanel(j,l,k,m,n,i,h,t,v,w),(!this._hasdatefilter||this._hasdatefilter&&"date"!=d.filtertype)&&(m.focus(),setTimeout(function(){m.focus()},10))}else{var E=b._getfilterdataadapter(d),v=b._getfiltertype(e);j.jqxListBox(d.cellsformat?{displayMember:d.displayfield,valueMember:d.displayfield+"JQValue",source:E}:{displayMember:d.displayfield,valueMember:d.displayfield,source:E}),j.jqxListBox("insertAt",b.gridlocalization.filterselectallstring,0);var F=j.data().jqxListBox.instance;F.checkAll(!1);if(d.filter){F.uncheckAll(!1);for(var G=d.filter.getfilters(),H=0;H<F.items.length;H++){var I=F.items[H].value;a.each(G,function(){if("NOT_EQUAL"==this.condition){if(I!=this.value)return F.uncheckIndex(H,!1,!1),!1}else if("EQUAL"==this.condition&&I==this.value)return F.checkIndex(H,!1,!1),!1})}F._updateCheckedItems();var J=F.getCheckedItems().length;F.items.length!=J&&J>0&&F.host.jqxListBox("indeterminateIndex",0,!0,!1),J===F.items.length-1&&F.host.jqxListBox("checkIndex",0,!0,!1)}}},_initfilterpanel:function(b,c,d,e){(null==b||void 0==b)&&(b=this),c[0].innerHTML="";var f=a("<div class='filter' style='margin-left: 7px;'></div>");c.append(f);var g=a("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");g.text(b.gridlocalization.filtershowrowstring),this._showwhere=g;var h=a("<div class='filter' id='filter1"+b.element.id+"'></div>"),i=a("<div class='filter' id='filter2"+b.element.id+"' style='margin-bottom: 3px;'></div>"),j=a("<div class='filter' id='filter3"+b.element.id+"'></div>"),k=b._getcolumntypebydatafield(d);if(!h.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var l=b._getfiltersbytype(k);if(this._hasdatefilter=!1,this._filterpanelwidth=e,this.columns&&this.columns.records)for(var m=0;m<this.columns.records.length;m++)if("date"==this.columns.records[m].filtertype){this._hasdatefilter=!0;break}var n=a("<div class='filter'><input class='filtertext1"+b.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),o=n.find("input");o.addClass(this.toThemeProperty("jqx-input")),o.addClass(this.toThemeProperty("jqx-widget-content")),o.addClass(this.toThemeProperty("jqx-rc-all")),o.width(e-15);var p=a("<div class='filter'><input class='filtertext2"+b.element.id+"' style='height: 20px; margin-top: 3px;' type='text'></input></div>"),q=p.find("input");q.addClass(this.toThemeProperty("jqx-input")),q.addClass(this.toThemeProperty("jqx-widget-content")),q.addClass(this.toThemeProperty("jqx-rc-all")),q.width(e-15),b.rtl&&(o.css("direction","rtl"),q.css("direction","rtl"));var r=a("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),s=a('<span tabIndex=0 id="filterbutton'+b.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+b.gridlocalization.filterstring+"</span>");r.append(s);var t=a('<span tabIndex=0 id="filterclearbutton'+b.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+b.gridlocalization.filterclearstring+"</span>");r.append(t),s.jqxButton({height:20,theme:b.theme}),t.jqxButton({height:20,theme:b.theme});var u=function(a){if(a){if(-1!=a.text().indexOf("case sensitive")){var c=a.text();c=c.replace("case sensitive","match case"),a.text(c)}return a.css("font-family",b.host.css("font-family")),a.css("font-size",b.host.css("font-size")),a.css("top","1px"),a.css("position","relative"),a}return""};if("default"===this.filtermode){f.append(g),f.append(h),h.jqxDropDownList({_checkForHiddenParent:!1,rtl:b.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:e-15,height:20,dropDownHeight:150,dropDownWidth:e-15,selectionRenderer:u,source:l,theme:b.theme}),f.append(n);var v=new Array;v[0]=b.gridlocalization.filterandconditionstring,v[1]=b.gridlocalization.filterorconditionstring,i.jqxDropDownList({_checkForHiddenParent:!1,rtl:b.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:20,source:v,selectionRenderer:u,theme:b.theme}),f.append(i),j.jqxDropDownList({_checkForHiddenParent:!1,rtl:b.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:e-15,height:20,dropDownHeight:150,dropDownWidth:e-15,selectionRenderer:u,source:l,theme:b.theme}),f.append(j),f.append(p)}else{f.append(g),f.append(h),h.jqxListBox({rtl:b.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:e-15,height:120,theme:b.theme});var w=!0;b.addHandler(h,"checkChange",function(a){if(w)if(a.args.label!=b.gridlocalization.filterselectallstring){w=!1,h.jqxListBox("checkIndex",0,!0,!1);var c=h.jqxListBox("getCheckedItems"),d=h.jqxListBox("getItems");1==c.length?h.jqxListBox("uncheckIndex",0,!0,!1):d.length!=c.length&&h.jqxListBox("indeterminateIndex",0,!0,!1),w=!0}else w=!1,a.args.checked?h.jqxListBox("checkAll",!1):h.jqxListBox("uncheckAll",!1),w=!0})}f.append(r),b.updatefilterpanel&&b.updatefilterpanel(h,j,i,n,p,s,t,null,null,l)}})}(jQuery),function(a){a.jqx.jqxWidget("jqxChart","",{}),a.extend(a.jqx._jqxChart.prototype,{defineInstance:function(){var b={title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4e3,toolTipFormatFunction:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#888888",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,drawBefore:null,draw:null};a.extend(!0,this,b)},_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},createInstance:function(){if(!a.jqx.dataAdapter)throw"jqxdata.js is not loaded";var b=this;b._refreshOnDownloadComlete(),b._isTouchDevice=a.jqx.mobile.isTouchDevice(),b.host.on(b._getEvent("mousemove"),function(c){if(0!=b.enabled){c.preventDefault();var d=c.pageX||c.clientX||c.screenX,e=c.pageY||c.clientY||c.screenY;if(b._isTouchDevice){var f=a.jqx.position(c);d=f.left,e=f.top}var f=b.host.offset();d-=f.left,e-=f.top,b.onmousemove(d,e)}}),b.addHandler(b.host,b._getEvent("mouseleave"),function(){if(0!=b.enabled){var a=b._mouseX,c=b._mouseY,d=b._plotRect;d&&a>=d.x&&a<=d.x+d.width&&c>=d.y&&c<=d.y+d.height||(b._cancelTooltipTimer(),b._hideToolTip(0),b._unselect())}}),b.addHandler(b.host,"click",function(){0!=b.enabled&&(!isNaN(b._lastClickTs)&&(new Date).valueOf()-b._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(b._isTouchDevice||(b._cancelTooltipTimer(),b._hideToolTip(),b._unselect()),b._pointMarker&&b._pointMarker.element){var a=b.seriesGroups[b._pointMarker.gidx],c=a.series[b._pointMarker.sidx];b._raiseItemEvent("click",a,c,b._pointMarker.iidx)}},100)))});var c=b.element.style;if(c){var d=!1;null!=c.width&&(d|=-1!=c.width.toString().indexOf("%")),null!=c.height&&(d|=-1!=c.height.toString().indexOf("%")),d&&a(window).resize(function(){b.timer&&clearTimeout(b.timer);var c=a.jqx.browser.msie?200:1;b.timer=setTimeout(function(){var a=b.enableAnimations;b.enableAnimations=!1,b.refresh(),b.enableAnimations=a},c)})}},_refreshOnDownloadComlete:function(){var b=this,c=this.source;if(c instanceof a.jqx.dataAdapter){var d=c._options;(void 0==d||void 0!=d&&!d.autoBind)&&(c.autoSync=!1,c.dataBind());var e=this.element.id;if(0==c.records.length){var f=function(){b.ready&&b.ready(),b.refresh()};c.unbindDownloadComplete(e),c.bindDownloadComplete(e,f)}else b.ready&&b.ready();c.unbindBindingUpdate(e),c.bindBindingUpdate(e,function(){b.refresh()})}},propertyChangedHandler:function(a,b){void 0!=this.isInitialized&&0!=this.isInitialized&&("source"==b&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(b){if(!a.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return a.jqx.createRenderer(this,b)},_internalRefresh:function(){var b=this;if(!a.jqx.isHidden(b.host)){b._stopAnimations(),b.renderer&&(b._isToggleRefresh||b._isUpdate)||(b.host.empty(),b._ttEl=void 0,b._initRenderer(b.host));var c=b.renderer;if(c){var d=c.getRect();b._render({x:1,y:1,width:d.width,height:d.height}),c instanceof a.jqx.HTML5Renderer&&c.refresh(),b._isUpdate=!1}}},saveAsPNG:function(a,b,c){return this._saveAsImage("png",a,b,c)},saveAsJPEG:function(a,b,c){return this._saveAsImage("jpeg",a,b,c)},_saveAsImage:function(b,c,d,e){return a.jqx._widgetToImage(this,b,c,d,e)},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut"],_render:function(b){var c=this,d=c.renderer;c._colorsCache.clear(),!c._isToggleRefresh&&c._isUpdate&&c._renderData&&c._renderDataClone(),c._renderData=[],d.clear(),c._unselect(),c._hideToolTip(0);var e=c.backgroundImage;c.host.css(void 0==e||""==e?{"background-image":""}:{"background-image":-1!=e.indexOf("(")?e:"url('"+e+"')"}),c._rect=b;var f=c.padding||{left:5,top:5,right:5,bottom:5},g=d.createClipRect(b),h=d.beginGroup();d.setClip(h,g);var i=d.rect(b.x,b.y,b.width-2,b.height-2);if(void 0==e||""==e?d.attr(i,{fill:c.backgroundColor||c.background||"white"}):d.attr(i,{fill:"transparent"}),0!=c.showBorderLine){var j=void 0==c.borderLineColor?c.borderColor:c.borderLineColor;void 0==j&&(j="#888888");var k=this.borderLineWidth;(isNaN(k)||0>k||k>10)&&(k=1),d.attr(i,{"stroke-width":k,stroke:j})}a.isFunction(c.drawBefore)&&c.drawBefore(d,b);var l={x:f.left,y:f.top,width:b.width-f.left-f.right,height:b.height-f.top-f.bottom};c._paddedRect=l;var m=c.titlePadding||{left:2,top:2,right:2,bottom:2};if(c.title&&c.title.length>0){var n=c.toThemeProperty("jqx-chart-title-text",null),o=d.measureText(c.title,0,{"class":n});d.text(c.title,l.x+m.left,l.y+m.top,l.width-(m.left+m.right),o.height,0,{"class":n},!0,"center","center"),l.y+=o.height,l.height-=o.height}if(c.description&&c.description.length>0){var p=c.toThemeProperty("jqx-chart-title-description",null),o=d.measureText(c.description,0,{"class":p});d.text(c.description,l.x+m.left,l.y+m.top,l.width-(m.left+m.right),o.height,0,{"class":p},!0,"center","center"),l.y+=o.height,l.height-=o.height}(c.title||c.description)&&(l.y+=m.bottom+m.top,l.height-=m.bottom+m.top);var q={x:l.x,y:l.y,width:l.width,height:l.height};c._buildStats(q);for(var r=c._isPieOnlySeries(),s=c.seriesGroups,t={},u=0;u<s.length&&!r;u++)if("pie"!=s[u].type&&"donut"!=s[u].type){var v="horizontal"==s[u].orientation,w=s[u].valueAxis;w||(w=s[u].valueAxis={});var x=c._getCategoryAxis(u);if(!x)throw"seriesGroup["+u+"] is missing "+(v?"valueAxis":"xAxis")+" definition";var y=x==c._getCategoryAxis()?-1:u;t[y]=0}var z=c.axisPadding;isNaN(z)&&(z=5);for(var A={left:0,right:0,leftCount:0,rightCount:0},B=[],u=0;u<s.length;u++){var C=s[u];if("pie"!=C.type&&"donut"!=C.type&&1!=C.spider&&1!=C.polar){var v="horizontal"==C.orientation,y=c._getCategoryAxis(u)==c._getCategoryAxis()?-1:u,D=w.axisSize,E={x:0,y:q.y,width:q.width,height:q.height},F=void 0;D&&"auto"!=D||(v?(D=this._renderCategoryAxis(u,E,!0,q).width,1==(1&t[y])?D=0:D>0&&(t[y]|=1),F=c._getCategoryAxis(u).position):(D=c._renderValueAxis(u,E,!0,q).width,C.valueAxis&&(F=C.valueAxis.position))),"left"!=F&&1==c.rtl&&(F="right"),"right"!=F&&(F="left"),A[F+"Count"]>0&&A[F]>0&&D>0&&(A[F]+=z),B.push({width:D,position:F,xRel:A[F]}),A[F]+=D,A[F+"Count"]++}else B.push({width:0,position:0,xRel:0})}for(var G={top:0,bottom:0,topCount:0,bottomCount:0},H=[],u=0;u<s.length;u++){var C=s[u];if("pie"!=C.type&&"donut"!=C.type&&1!=C.spider&&1!=C.polar){var v="horizontal"==C.orientation,x=c._getCategoryAxis(u),y=x==c._getCategoryAxis()?-1:u;F=void 0;var I=x.axisSize;I&&"auto"!=I||(v?(I=c._renderValueAxis(u,{x:0,y:0,width:1e7,height:0},!0,q).height,c.seriesGroups[u].valueAxis&&(F=C.valueAxis.position)):(I=c._renderCategoryAxis(u,{x:0,y:0,width:1e7,height:0},!0).height,2==(2&t[y])?I=0:I>0&&(t[y]|=2),F=c._getCategoryAxis(u).position)),"top"!=F&&(F="bottom"),G[F+"Count"]>0&&G[F]>0&&I>0&&(G[F]+=z),H.push({height:I,position:F,yRel:G[F]}),G[F]+=I,G[F+"Count"]++}else H.push({height:0,position:0,yRel:0})}c._createAnimationGroup("series"),c._plotRect=q;var J=0!=c.showLegend,K=J?c._renderLegend(c.legendLayout?c._rect:l,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(K={width:0,height:0}),l.height<G.top+G.bottom+K.height||l.width<A.left+A.right)return void d.endGroup();q.height-=G.top+G.bottom+K.height,q.x+=A.left,q.width-=A.left+A.right,q.y+=G.top;var L=[];if(!r)for(var u=(c._getCategoryAxis().tickMarksColor||"#888888",0);u<s.length;u++){var C=s[u];if(1!=C.polar&&1!=C.spider){var v="horizontal"==C.orientation,y=c._getCategoryAxis(u)==c._getCategoryAxis()?-1:u,E={x:q.x,y:0,width:q.width,height:H[u].height};if(E.y="top"!=H[u].position?q.y+q.height+H[u].yRel:q.y-H[u].yRel-H[u].height,v)c._renderValueAxis(u,E,!1,q);else{if(4==(4&t[y]))continue;if(!c._isGroupVisible(u))continue;L.push(E),c._renderCategoryAxis(u,E,!1,q),t[y]|=4}}}if(J){var M=c.legendLayout?c._rect:l,N=l.x+a.jqx._ptrnd((l.width-K.width)/2),O=q.y+q.height+G.bottom,D=l.width,I=K.height;c.legendLayout&&(isNaN(c.legendLayout.left)||(N=c.legendLayout.left),isNaN(c.legendLayout.top)||(O=c.legendLayout.top),isNaN(c.legendLayout.width)||(D=c.legendLayout.width),isNaN(c.legendLayout.height)||(I=c.legendLayout.height)),N+D>M.x+M.width&&(D=M.x+M.width-N),O+I>M.y+M.height&&(I=M.y+M.height-O),c._renderLegend({x:N,y:O,width:D,height:I})}if(c._hasHorizontalLines=!1,!r)for(var u=0;u<s.length;u++){var C=s[u];if(1!=C.polar&&1!=C.spider){var v="horizontal"==s[u].orientation,E={x:q.x-B[u].xRel-B[u].width,y:q.y,width:B[u].width,height:q.height};if("left"!=B[u].position&&(E.x=q.x+q.width+B[u].xRel),v){if(8==(8&t[c._getCategoryAxis(u)]))continue;if(!c._isGroupVisible(u))continue;L.push(E),c._renderCategoryAxis(u,E,!1,q),t[c._getCategoryAxis(u)]|=8}else c._renderValueAxis(u,E,!1,q)}}if(!(q.width<=0||q.height<=0)){c._plotRect={x:q.x,y:q.y,width:q.width,height:q.height};var P=d.createClipRect({x:q.x,y:q.y,width:q.width,height:q.height}),Q=d.beginGroup();d.setClip(Q,P);for(var u=0;u<s.length;u++){var C=s[u],R=!1;for(var S in c._seriesTypes)if(c._seriesTypes[S]==C.type){R=!0;break}if(!R)throw'jqxChart: invalid series type "'+C.type+'"';if(a.isFunction(C.drawBefore)&&C.drawBefore(d,b,u),(1==C.polar||1==C.spider)&&-1==C.type.indexOf("pie")&&-1==C.type.indexOf("donut")&&c._renderSpiderAxis(u,q),C.bands)for(var T=0;T<C.bands.length;T++)c._renderBand(u,T,q);-1!=C.type.indexOf("column")?c._renderColumnSeries(u,q):-1!=C.type.indexOf("pie")||-1!=C.type.indexOf("donut")?c._renderPieSeries(u,q):-1!=C.type.indexOf("line")||-1!=C.type.indexOf("area")?c._renderLineSeries(u,q):(-1!=C.type.indexOf("scatter")||-1!=C.type.indexOf("bubble"))&&c._renderScatterSeries(u,q),a.isFunction(C.draw)&&c.draw(d,b,u)}if(d.endGroup(),0==c.enabled){var U=d.rect(b.x,b.y,b.width,b.height);d.attr(U,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}if(a.isFunction(c.draw)&&c.draw(d,b),d.endGroup(),c._startAnimation("series"),this._renderCategoryAxisRangeSelector)for(var V=[],u=0;u<c.seriesGroups.length;u++){var W=this._getCategoryAxis(u);-1==V.indexOf(W)&&(this._renderCategoryAxisRangeSelector(u,L[u]),V.push(W))}}},_isPieOnlySeries:function(){var a=this.seriesGroups;if(0==a.length)return!1;for(var b=0;b<a.length;b++)if("pie"!=a[b].type&&"donut"!=a[b].type)return!1;return!0},_renderChartLegend:function(b,c,d,e){for(var f=this,g=f.renderer,h={x:c.x+3,y:c.y+3,width:c.width-6,height:c.height-6},i={width:h.width,height:0},j=0,k=0,l=20,m=0,n=10,o=10,p=0,q=0;q<b.length;q++){var r=b[q].css;r||(r=f.toThemeProperty("jqx-chart-legend-text",null)),l=20;var s=b[q].text,t=g.measureText(s,0,{"class":r});t.height>l&&(l=t.height),t.width>p&&(p=t.width),e?(0!=q&&(k+=l),k>h.height&&(k=0,j+=p+o,p=t.width,i.width=j+p)):(0!=j&&(j+=o),j+2*n+t.width>h.width&&t.width<h.width&&(j=0,k+=l,l=20,m=h.width,i.height=k+l));var u=!1;if(t.width>c.width){u=!0;for(var v=c.width,w=s,x=w.split(/\s+/).reverse(),y=[],z="",A=new Array;word=x.pop();){y.push(word),z=y.join(" ");var B=f.renderer.measureText(z,0,{"class":r});B.width>v&&A.length>0&&(y.pop(),y=[word],z=y.join(" ")),A.push({text:z})}t.width=0;for(var C=0,D=0;D<A.length;D++){var E=A[D].text,B=f.renderer.measureText(E,0,{"class":r});t.width=Math.max(t.width,B.width),C+=t.height}t.height=C}var F=h.x+j+t.width<c.x+c.width&&h.y+k+t.height<c.y+c.height;if(f.legendLayout)var F=h.x+j+t.width<f._rect.x+f._rect.width&&h.y+k+t.height<f._rect.y+f._rect.height;if(!d&&F){var G=b[q].seriesIndex,H=b[q].groupIndex,I=b[q].itemIndex,J=b[q].color,K=f._isSerieVisible(H,G,I),L=g.beginGroup(),M=K?b[q].opacity:.1;if(u){for(var w=s,v=c.width,x=w.split(/\s+/).reverse(),y=[],z="",N=0,A=new Array;word=x.pop();){y.push(word),z=y.join(" ");var B=f.renderer.measureText(z,0,{"class":r});B.width>v&&A.length>0&&(y.pop(),N+=B.height,y=[word],z=y.join(" ")),A.push({text:z,dy:N})}for(var D=0;D<A.length;D++){var E=A[D].text;N=A[D].dy;var B=f.renderer.measureText(E,0,{"class":r});e?f.renderer.text(E,h.x+j+1.5*n,h.y+k+N,t.width,l,0,{"class":r},!1,"left","center"):f.renderer.text(E,h.x+j+1.5*n,h.y+k+N,t.width,l,0,{"class":r},!1,"center","center")}var O=g.rect(h.x+j,h.y+k+n/2+N/2,n,n);e&&(k+=N),f.renderer.attr(O,{fill:J,"fill-opacity":M,stroke:J,"stroke-width":1,"stroke-opacity":b[q].opacity})}else{var O=g.rect(h.x+j,h.y+k+n/2,n,n);f.renderer.attr(O,{fill:J,"fill-opacity":M,stroke:J,"stroke-width":1,"stroke-opacity":b[q].opacity}),e?f.renderer.text(s,h.x+j+1.5*n,h.y+k,t.width,t.height+n/2,0,{"class":r},!1,"left","center"):f.renderer.text(s,h.x+j+1.5*n,h.y+k,t.width,l,0,{"class":r},!1,"center","center")}f.renderer.endGroup(),f._setLegendToggleHandler(H,G,I,L)}e||(j+=t.width+2*n,j>m&&(m=j))}return d?(i.height=a.jqx._ptrnd(k+l+5),i.width=a.jqx._ptrnd(m),i):void 0},_isSerieVisible:function(b,c,d){for(;this._itemsToggleState.length<b+1;)this._itemsToggleState.push([]);for(var e=this._itemsToggleState[b];e.length<c+1;)e.push(isNaN(d)?!0:[]);var f=e[c];if(isNaN(d))return f;for(a.isArray(f)||(e[c]=f=[]);f.length<d+1;)f.push(!0);return f[d]},_isGroupVisible:function(a){var b=!1,c=this.seriesGroups[a].series;if(!c)return b;for(var d=0;d<c.length;d++)if(this._isSerieVisible(a,d)){b=!0;break}return b},_toggleSerie:function(b,c,d,e){var f=!this._isSerieVisible(b,c,d);void 0!=e&&(f=e);var g=this.seriesGroups[b],h=g.series[c];if(this._raiseEvent("toggle",{state:f,seriesGroup:g,serie:h,elementIndex:d}),isNaN(d))this._itemsToggleState[b][c]=f;else{var i=this._itemsToggleState[b][c];for(a.isArray(i)||(i=[]);i.length<d;)i.push(!0);i[d]=f}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(a,b,c){this._toggleSerie(a,b,c,!0)},hideSerie:function(a,b,c){this._toggleSerie(a,b,c,!1)},_setLegendToggleHandler:function(a,b,c,d){var e=this.seriesGroups[a],f=e.series[b],g=f.enableSeriesToggle;if(void 0==g&&(g=0!=e.enableSeriesToggle),g){var h=this;this.renderer.addHandler(d,"click",function(d){d.preventDefault(),h._toggleSerie(a,b,c)})}},_renderLegend:function(a,b){for(var c=this,d=[],e=0;e<c.seriesGroups.length;e++){var f=c.seriesGroups[e];
if(0!=f.showLegend)for(var g=0;g<f.series.length;g++){var h=f.series[g];if(0!=h.showLegend){var i,j=c._getSerieSettings(e,g);if("pie"!=f.type&&"donut"!=f.type){var k=h.legendFormatSettings||f.legendFormatSettings,l=h.legendFormatFunction||f.legendFormatFunction;i=c._formatValue(h.displayText||h.dataField||"",k,l,e,g,p);var m=c._getSeriesColors(e,g);d.push({groupIndex:e,seriesIndex:g,text:i,css:h.displayTextClass,color:m.fillColor,opacity:j.opacity})}else for(var n=c._getCategoryAxis(e),k=h.legendFormatSettings||f.legendFormatSettings||n.formatSettings||h.formatSettings||f.formatSettings,l=h.legendFormatFunction||f.legendFormatFunction||n.formatFunction||h.formatFunction||f.formatFunction,o=c._getDataLen(e),p=0;o>p;p++){i=c._getDataValue(p,h.displayText,e),i=c._formatValue(i,k,l,e,g,p);var m=c._getColors(e,g,p);d.push({groupIndex:e,seriesIndex:g,itemIndex:p,text:i,css:h.displayTextClass,color:m.fillColor,opacity:j.opacity})}}}}return c._renderChartLegend(d,a,b,c.legendLayout&&"vertical"==c.legendLayout.flow)},_renderCategoryAxis:function(a,b,c,d){var e=this,f=e._getCategoryAxis(a),g=e.seriesGroups[a],h="horizontal"==g.orientation,i={width:0,height:0};if(!f||0==f.visible||"spider"==g.type)return i;if(!e._isGroupVisible(a))return i;var j=e._alignValuesWithTicks(a);e.rtl&&(f.flip=!0);var k=h?b.height:b.width,l=f.text,m=e._calculateXOffsets(a,k),n=m.axisStats,o=f.rangeSelector,p=0;if(o){if(!this._selectorGetSize)throw new Error("jqxChart: Missing reference to jqxchart.rangeselector.js");p=this._selectorGetSize(f)}var q=n.interval;if(!isNaN(q)){var r,s={visible:0!=f.showGridLines,color:f.gridLinesColor||"#888888",unitInterval:f.gridLinesInterval||q,dashStyle:f.gridLinesDashStyle,offsets:[]},t={visible:0!=f.showTickMarks,color:f.tickMarksColor||"#888888",unitInterval:f.tickMarksInterval||q,dashStyle:f.tickMarksDashStyle,offsets:[]},u=f.textRotationAngle||0,v=n.min,w=n.max,x=m.padding,y=1==f.flip||e.rtl;"date"==f.type?(s.offsets=this._generateDTOffsets(v,w,k,x,s.unitInterval,q,n.dateTimeUnit,j,0/0,!1,y),t.offsets=this._generateDTOffsets(v,w,k,x,t.unitInterval,q,n.dateTimeUnit,j,0/0,!1,y),r=this._generateDTOffsets(v,w,k,x,q,q,n.dateTimeUnit,j,0/0,!0,y)):(s.offsets=this._generateOffsets(v,w,k,x,s.unitInterval,q,j,0/0,!1,y),t.offsets=this._generateOffsets(v,w,k,x,t.unitInterval,q,j,0/0,!1,y),r=this._generateOffsets(v,w,k,x,q,q,j,0/0,!0,y)),0==m.length&&(r=[]);{var z,A=f.horizontalTextAlignment,B=e.renderer.getRect();B.width-b.x-b.width,e._getDataLen(a)}e._elementRenderInfo&&e._elementRenderInfo.length>a&&(z=e._elementRenderInfo[a].xAxis);var C=[],D=f.formatFunction,E=f.formatSettings;"date"!=f.type||E||D||(D=this._getDefaultDTFormatFn(f.baseUnit||"day"));for(var F=0;F<r.length;F++){var G=r[F].value,H=r[F].offset;if("date"!=f.type&&n.useIndeces&&f.dataField){var I=Math.round(G);G=e._getDataValue(I,f.dataField),void 0==G&&(G="")}var l=e._formatValue(G,E,D,a,void 0,F);(void 0==l||""==l)&&(l=n.useIndeces?(n.min+F).toString():void 0==G?"":G.toString());var J={key:G,text:l,targetX:H,x:H};z&&z.itemOffsets[G]&&(J.x=z.itemOffsets[G].x,J.y=z.itemOffsets[G].y),C.push(J)}var K=f.descriptionClass;K||(K=e.toThemeProperty("jqx-chart-axis-description",null));var L=f["class"];L||(L=e.toThemeProperty("jqx-chart-axis-text",null)),h&&(u-=90);for(var M={text:f.description,style:K,halign:f.horizontalDescriptionAlignment||"center",valign:f.verticalDescriptionAlignment||"center",textRotationAngle:h?-90:0},N={textRotationAngle:u,style:L,halign:A,valign:f.verticalTextAlignment||"center",textRotationPoint:f.textRotationPoint||"auto",textOffset:f.textOffset},O=h&&"right"==f.position||!h&&"top"==f.position,P={rangeLength:m.rangeLength,itemWidth:m.itemWidth,intervalWidth:m.intervalWidth,data:m,rect:b},Q={items:C,renderData:P};e._renderData.length<a+1;)e._renderData.push({});e._renderData[a].xAxis=P;var R=e._getAnimProps(a),S=R.enabled&&C.length<500?R.duration:0;0==e.enableAxisTextAnimation&&(S=0),!c&&o&&(h?(b.width-=p,"right"!=f.position&&(b.x+=p)):(b.height-=p,"top"==f.position&&(b.y+=p)));var T=e._renderAxis(h,O,M,N,{x:b.x,y:b.y,width:b.width,height:b.height},d,q,!1,!0,Q,s,t,c,S);return h?T.width+=p:T.height+=p,T}},_animateAxisText:function(a,b){for(var c=a.items,d=a.textSettings,e=0;e<c.length;e++){var f=c[e];if(f.visible){var g=f.targetX,h=f.targetY;isNaN(f.x)||isNaN(f.y)||(g=f.x+(g-f.x)*b,h=f.y+(h-f.y)*b),f.element&&(this.renderer.removeElement(f.element),f.element=void 0),f.element=this.renderer.text(f.text,g,h,f.width,f.height,d.textRotationAngle,{"class":d.style},!1,d.halign,d.valign,d.textRotationPoint)}}},_getPolarAxisCoords:function(b,c){var d=this.seriesGroups[b],e=this._calcGroupOffsets(b,c).xoffsets;if(e){var f=c.x+a.jqx.getNum([d.offsetX,c.width/2]),g=c.y+a.jqx.getNum([d.offsetY,c.height/2]),h=d.radius;isNaN(h)&&(h=Math.min(c.width,c.height)/2*.6);var i=this._alignValuesWithTicks(b),j=d.startAngle;return isNaN(j)?j=0:(j=(0>j?-1:1)*(Math.abs(j)%360),j=2*Math.PI*j/360),{x:f,y:g,r:h,itemWidth:e.itemWidth,rangeLength:e.rangeLength,valuesOnTicks:i,startAngle:j}}},_toPolarCoord:function(b,c,d,e){var f=2*(d-c.x)*Math.PI/Math.max(1,c.width)+b.startAngle,g=(c.height+c.y-e)*b.r/Math.max(1,c.height),h=b.x+g*Math.cos(f),i=b.y+g*Math.sin(f);return{x:a.jqx._ptrnd(h),y:a.jqx._ptrnd(i)}},_renderSpiderAxis:function(b,c){var d=this,e=d._getCategoryAxis(b);if(e&&0!=e.visible){var f=(d.seriesGroups[b],d._getPolarAxisCoords(b,c));if(f){var g=a.jqx._ptrnd(f.x),h=a.jqx._ptrnd(f.y),i=f.r,j=f.startAngle;if(!(1>i)){i=a.jqx._ptrnd(i);var k=2*Math.PI*i,l=d._calculateXOffsets(b,k);if(l.rangeLength){var m=e.unitInterval;(isNaN(m)||1>m)&&(m=1);var n,o={visible:0!=e.showGridLines,color:e.gridLinesColor||"#888888",unitInterval:e.gridLinesInterval||e.unitInterval||m,dashStyle:e.gridLinesDashStyle,offsets:[]},p={visible:0!=e.showTickMarks,color:e.tickMarksColor||"#888888",unitInterval:e.tickMarksInterval||e.unitInterval||m,dashStyle:e.tickMarksDashStyle,offsets:[]},q=e.horizontalTextAlignment,r=d._alignValuesWithTicks(b),s=d.renderer,t=l.axisStats,u=t.min,v=t.max,w=this._getPaddingSize(l.axisStats,e,r,k,!0,!1),x=1==e.flip||d.rtl;"date"==e.type?(o.offsets=this._generateDTOffsets(u,v,k,w,o.unitInterval,m,e.baseUnit,!1,0,!1,x),p.offsets=this._generateDTOffsets(u,v,k,w,p.unitInterval,m,e.baseUnit,!1,0,!1,x),n=this._generateDTOffsets(u,v,k,w,m,m,e.baseUnit,!1,0,!0,x)):(o.offsets=this._generateOffsets(u,v,k,w,o.unitInterval,m,!0,0,!1,x),p.offsets=this._generateOffsets(u,v,k,w,p.unitInterval,m,!0,0,!1,x),n=this._generateOffsets(u,v,k,w,m,m,!0,0,!1,x));{var y,q=e.horizontalTextAlignment,z=d.renderer.getRect();z.width-c.x-c.width,d._getDataLen(b)}d._elementRenderInfo&&d._elementRenderInfo.length>b&&(y=d._elementRenderInfo[b].xAxis);for(var A=[],B=0;B<n.length;B++){var C=n[B].offset,D=n[B].value;if("date"!=e.type&&t.useIndeces&&e.dataField){var E=Math.round(D);D=d._getDataValue(E,e.dataField),void 0==D&&(D="")}var F=d._formatValue(D,e.formatSettings,e.formatFunction,b,void 0,B);(void 0==F||""==F)&&(F=t.useIndeces?(t.min+B).toString():void 0==D?"":D.toString());var G={key:D,text:F,targetX:C,x:C};y&&y.itemOffsets[D]&&(G.x=y.itemOffsets[D].x,G.y=y.itemOffsets[D].y),A.push(G)}var H=e.descriptionClass;H||(H=d.toThemeProperty("jqx-chart-axis-description",null));var I=e["class"];I||(I=d.toThemeProperty("jqx-chart-axis-text",null));var F=e.text,J=e.textRotationAngle||0,K="horizontal"==d.seriesGroups[b].orientation;K&&(J-=90);for(var L=({text:e.description,style:H,halign:e.horizontalDescriptionAlignment||"center",valign:e.verticalDescriptionAlignment||"center",textRotationAngle:K?-90:0},{textRotationAngle:J,style:I,halign:q,valign:e.verticalTextAlignment||"center",textRotationPoint:e.textRotationPoint||"auto",textOffset:e.textOffset},K&&"right"==e.position||!K&&"top"==e.position,{rangeLength:l.rangeLength,itemWidth:l.itemWidth});d._renderData.length<b+1;)d._renderData.push({});d._renderData[b].xAxis=L;for(var M={stroke:o.color,fill:"none","stroke-width":1,"stroke-dasharray":o.dashStyle||""},N=(s.circle(g,h,i,M),A.length),O=(2*Math.PI/N,j),B=0;B<A.length;B++){var P=A[B].x,Q=O+2*P*Math.PI/Math.max(1,k);Q=(360-Q/(2*Math.PI)*360)%360,0>Q&&(Q=360+Q);var R=s.measureText(A[B].text,0,{"class":I}),S=this._adjustTextBoxPosition(g,h,R,i+(p.visible?7:2),Q,!1,!1,!0);s.text(A[B].text,S.x,S.y,R.width,R.height,0,{"class":I},!1,"center","center")}if(o.visible)for(var B=0;B<o.offsets.length;B++){var P=o.offsets[B].offset;r||(P-=w.right/2);var Q=O+2*P*Math.PI/Math.max(1,k),T=g+i*Math.cos(Q),U=h+i*Math.sin(Q);s.line(g,h,a.jqx._ptrnd(T),a.jqx._ptrnd(U),M)}if(p.visible)for(var V=5,M={stroke:p.color,fill:"none","stroke-width":1,"stroke-dasharray":p.dashStyle||""},B=0;B<p.offsets.length;B++){var P=p.offsets[B].offset;r||(P-=w.right/2);var Q=O+2*P*Math.PI/Math.max(1,k),W={x:g+i*Math.cos(Q),y:h+i*Math.sin(Q)},X={x:g+(i+V)*Math.cos(Q),y:h+(i+V)*Math.sin(Q)};s.line(a.jqx._ptrnd(W.x),a.jqx._ptrnd(W.y),a.jqx._ptrnd(X.x),a.jqx._ptrnd(X.y),M)}d._renderSpiderValueAxis(b,c)}}}}},_renderSpiderValueAxis:function(b,c){var d=this.seriesGroups[b],e=this._getPolarAxisCoords(b,c);if(e){{var f=a.jqx._ptrnd(e.x),g=a.jqx._ptrnd(e.y),h=e.r;e.startAngle}if(!(1>h)){h=a.jqx._ptrnd(h);var i=this.seriesGroups[b].valueAxis;if(i&&0!=i.displayValueAxis&&0!=i.visible){var j=i["class"];j||(j=this.toThemeProperty("jqx-chart-axis-text",null));var k=i.formatSettings,l=-1!=d.type.indexOf("stacked")&&-1!=d.type.indexOf("100");l&&!k&&(k={sufix:"%"}),this._calcValueAxisItems(b,h);var m=this._stats.seriesGroups[b].mu,n={visible:0!=i.showGridLines,color:i.gridLinesColor||"#888888",unitInterval:i.gridLinesInterval||m||1,dashStyle:i.gridLinesDashStyle},o={stroke:n.color,fill:"none","stroke-width":1,"stroke-dasharray":n.dashStyle||""},p=this._renderData[b].valueAxis,q=p.items;q.length&&this.renderer.line(f,g,f,a.jqx._ptrnd(g-h),o),q=q.reverse();for(var r=this.renderer,s=0;s<q.length-1;s++){var t=q[s],u=i.formatFunction?i.formatFunction(t):this._formatNumber(t,k),v=r.measureText(u,0,{"class":j}),w=f+(0!=i.showTickMarks?3:2),x=g-p.itemWidth*s-v.height;r.text(u,w,x,v.width,v.height,0,{"class":j},!1,"center","center")}var y=1==i.logarithmicScale,z=y?q.length:p.rangeLength;if(aIncrement=2*Math.PI/z,n.visible)for(var o={stroke:n.color,fill:"none","stroke-width":1,"stroke-dasharray":n.dashStyle||""},s=0;z>s;s+=n.unitInterval){var x=a.jqx._ptrnd(h*s/z);r.circle(f,g,x,o)}var A={visible:0!=i.showTickMarks,color:i.tickMarksColor||"#888888",unitInterval:i.tickMarksInterval||m,dashStyle:i.tickMarksDashStyle};if(A.visible){tickMarkSize=5;for(var o={stroke:A.color,fill:"none","stroke-width":1,"stroke-dasharray":A.dashStyle||""},B=f-Math.round(tickMarkSize/2),C=B+tickMarkSize,s=0;z>s;s+=A.unitInterval)if(!n.visible||s%n.unitInterval!=0){var x=a.jqx._ptrnd(g-h*s/z);r.line(a.jqx._ptrnd(B),x,a.jqx._ptrnd(C),x,o)}}}}}},_renderAxis:function(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=m.visible?4:0,q=2,r={width:0,height:0},s={width:0,height:0};b?r.height=s.height=f.height:r.width=s.width=f.width,!n&&c&&b&&(f.x-=f.width);var t=k.renderData,u=t.itemWidth;if(void 0!=d.text&&""!=d){var v=d.textRotationAngle,w=this.renderer.measureText(d.text,v,{"class":d.style});s.width=w.width,s.height=w.height,n||this.renderer.text(d.text,f.x+(b?c?-q+2*f.width-s.width:q:0),f.y+(b?0:c?q:f.height-q-s.height),b?s.width:f.width,b?f.height:s.height,v,{"class":d.style},!0,d.halign,d.valign)}var x=0,y=j?-u/2:0;j&&!b&&(e.halign="center");var z=f.x,A=f.y,B=e.textOffset;B&&(isNaN(B.x)||(z+=B.x),isNaN(B.y)||(A+=B.y)),b?(z+=q+(s.width>0?s.width+q:0)+(c?f.width-s.width:0),A+=y):(z+=y,c?(A+=s.height>0?s.height+3*q:2*q,A+=p-(j?p:p/4)):A+=j?p:p/4);var C=0,D=0,E=k.items;t.itemOffsets={},(this._isToggleRefresh||!this._isUpdate)&&(o=0);for(var F=!1,G=0,H=0;H<E.length;H++,x+=u){var I=E[H].text;isNaN(E[H].targetX)||(x=E[H].targetX);var w=this.renderer.measureText(I,e.textRotationAngle,{"class":e.style});if(w.width>D&&(D=w.width),w.height>C&&(C=w.height),G+=b?C:D,!n){if(b&&x>f.height+2||!b&&x>f.width+2)break;var J=b?z+(c?0==s.width?p:p-q:0):z+x,K=b?A+x:A;t.itemOffsets[E[H].key]={x:J,y:K},F||(!isNaN(E[H].x)||!isNaN(E[H].y)&&o)&&(F=!0),E[H].targetX=J,E[H].targetY=K,E[H].width=b?f.width-2*q-p-(s.width>0?s.width+q:0):u,E[H].height=b?u:f.height-2*q-p-(s.height>0?s.height+q:0),E[H].visible=!i||i&&H%h==0}}if(t.avgWidth=0==E.length?0:G/E.length,!n){var L={items:E,textSettings:e};if((isNaN(o)||!F)&&(o=0),this._animateAxisText(L,0==o?1:0),0!=o){var M=this;this._enqueueAnimation("series",void 0,void 0,o,function(a,b,c){M._animateAxisText(b,c)},L)}}r.width+=2*q+p+s.width+D+(b&&s.width>0?q:0),r.height+=2*q+p+s.height+C+(!b&&s.height>0?q:0);var N={},O={stroke:l.color,"stroke-width":1,"stroke-dasharray":l.dashStyle||""};if(!n){var K=a.jqx._ptrnd(f.y+(c?f.height:0));b?this.renderer.line(a.jqx._ptrnd(f.x+f.width),f.y,a.jqx._ptrnd(f.x+f.width),f.y+f.height,O):this.renderer.line(a.jqx._ptrnd(f.x),K,a.jqx._ptrnd(f.x+f.width+1),K,O)}var P=.5;if(!n&&0!=l.visible)for(var Q=l.offsets,H=0;H<Q.length;H++){if(b){if(R=a.jqx._ptrnd(f.y+Q[H].offset),R<f.y-P)break}else if(R=a.jqx._ptrnd(f.x+Q[H].offset),R>f.x+f.width+P)break;b?this.renderer.line(a.jqx._ptrnd(g.x),R,a.jqx._ptrnd(g.x+g.width),R,O):this.renderer.line(R,a.jqx._ptrnd(g.y),R,a.jqx._ptrnd(g.y+g.height),O),N[R]=!0}var O={stroke:m.color,"stroke-width":1,"stroke-dasharray":m.dashStyle||""};if(!n&&m.visible)for(var Q=m.offsets,H=0;H<Q.length;H++){var R=a.jqx._ptrnd(b?f.y+Q[H].offset:f.x+Q[H].offset);if(N[R-1]?R--:N[R+1]&&R++,b){if(R>f.y+f.height+P)break}else if(R>f.x+f.width+P)break;var S=c?p:-p;if(b)this.renderer.line(f.x+f.width,R,f.x+f.width+S,R,O);else{var K=a.jqx._ptrnd(f.y+(c?f.height:0));this.renderer.line(R,K,R,K-S,O)}}return r.width=a.jqx._rup(r.width),r.height=a.jqx._rup(r.height),r},_calcValueAxisItems:function(a,b){var c=this._stats.seriesGroups[a];if(!c||!c.isValid)return!1;var d=this.seriesGroups[a],e=("horizontal"==d.orientation,d.valueAxis),f=0!=e.valuesOnTicks,g=(e.dataField,c.intervals),h=b/g,i=c.min,j=c.mu,k=1==e.logarithmicScale,l=e.logarithmicScaleBase||10,m=-1!=d.type.indexOf("stacked")&&-1!=d.type.indexOf("100");for(k&&(j=isNaN(e.unitInterval)?1:e.unitInterval),f||(g=Math.max(g-1,1));this._renderData.length<a+1;)this._renderData.push({});this._renderData[a].valueAxis={};var n=this._renderData[a].valueAxis;n.itemWidth=n.intervalWidth=h,n.items=[];for(var o=n.items,p=0;g>=p;p++){var q=0;q=k?m?c.max/Math.pow(l,g-p):i*Math.pow(l,p):f?i+p*j:i+(p+.5)*j,o.push(q)}return n.rangeLength=k&&!m?c.intervals:c.intervals*j,1!=d.valueAxis.flip&&(o=o.reverse()),!0},_renderValueAxis:function(a,b,c,d){var e=this.seriesGroups[a],f="horizontal"==e.orientation,g=e.valueAxis;if(!g)throw"SeriesGroup "+a+" is missing valueAxis definition";var h={width:0,height:0};if(!this._isGroupVisible(a)||this._isPieOnlySeries()||"spider"==e.type)return h;if(!this._calcValueAxisItems(a,f?b.width:b.height)||0==g.displayValueAxis||0==g.visible)return h;var i=g.descriptionClass;i||(i=this.toThemeProperty("jqx-chart-axis-description",null));var j={text:g.description,style:i,halign:g.horizontalDescriptionAlignment||"center",valign:g.verticalDescriptionAlignment||"center",textRotationAngle:f?0:this.rtl?90:-90},k=g.itemsClass;k||(k=this.toThemeProperty("jqx-chart-axis-text",null));var l={style:k,halign:g.horizontalTextAlignment||"center",valign:g.verticalTextAlignment||"center",textRotationAngle:g.textRotationAngle||0,textRotationPoint:g.textRotationPoint||"auto",textOffset:g.textOffset},m=0!=g.valuesOnTicks,n=this._stats.seriesGroups[a],o=n.mu,p=g.formatSettings,q=-1!=e.type.indexOf("stacked")&&-1!=e.type.indexOf("100");q&&!p&&(p={sufix:"%"});{var r=1==g.logarithmicScale;g.logarithmicScaleBase||10}r&&(o=isNaN(g.unitInterval)?1:g.unitInterval);var s,t=[],u=this._renderData[a].valueAxis;this._elementRenderInfo&&this._elementRenderInfo.length>a&&(s=this._elementRenderInfo[a].valueAxis);for(var v=0;v<u.items.length;v++){var w=u.items[v],x=g.formatFunction?g.formatFunction(w):this._formatNumber(w,p),y={key:w,text:x};s&&s.itemOffsets[w]&&(y.x=s.itemOffsets[w].x,y.y=s.itemOffsets[w].y),t.push(y)}var z=g.gridLinesInterval||g.unitInterval;(isNaN(z)||r&&o>z)&&(z=o);var A=f?b.width:b.height,B={visible:0!=g.showGridLines,color:g.gridLinesColor||"#888888",unitInterval:z,dashStyle:g.gridLinesDashStyle},C=n.logarithmic?n.minPow:n.min,D=n.logarithmic?n.maxPow:n.max,E=!1;B.visible&&(B.offsets=this._generateOffsets(C,D,A,{left:0,right:0},B.unitInterval,o,!0,0,!1,E));var F=g.tickMarksInterval||g.unitInterval;(isNaN(F)||r&&o>F)&&(F=o);var G={visible:0!=g.showTickMarks,color:g.tickMarksColor||"#888888",unitInterval:F,dashStyle:g.tickMarksDashStyle};G.visible&&(G.offsets=this._generateOffsets(C,D,A,{left:0,right:0},G.unitInterval,o,!0,0,!1,E));var H=f&&"top"==g.position||!f&&"right"==g.position||!f&&this.rtl&&"left"!=g.position,I={items:t,renderData:u},J=this._getAnimProps(a),K=J.enabled&&t.length<500?J.duration:0;return 0==this.enableAxisTextAnimation&&(K=0),this._renderAxis(!f,H,j,l,b,d,o,r,m,I,B,G,c,K)},_generateOffsets:function(a,b,c,d,e,f,g,h,i,j){var k=[],l=b-a,m=c-d.left-d.right;if(0==l)return k.push(i||g?{offset:d.left+m/2,value:a}:{offset:0,value:a}),k;var n=m/l,o=n*f,p=d.left;g||i||(b+=f);for(var q=a;b>=q;q+=f,p+=o)k.push({offset:p,value:q});if(!g&&k.length>1){isNaN(h)&&(h=i?0:o/2);for(var q=0;q<k.length;q++)k[q].offset-=h,k[q].offset<=2&&(k[q].offset=0),k[q].offset>=c-2&&(k[q].offset=c)}if(e>f){for(var r=[],s=Math.round(e/f),q=0;q<k.length;q++)q%s==0&&r.push({offset:k[q].offset,value:k[q].value});k=r}if(j)for(var q=0;q<k.length;q++)k[q].offset=c-k[q].offset;return k},_generateDTOffsets:function(b,c,d,e,f,g,h,i,j,k,l){h||(h="day");var m=[];if(b>c)return m;if(b==c)return k?m.push({offset:i?d/2:e.left,value:b}):i&&m.push({offset:d/2,value:b}),m;var n=d-e.left-e.right,o=b,p=e.left,q=p;g=Math.max(g,1);var r=g,s=Math.min(1,g);for(g>1&&(g=1);a.jqx._ptrnd(q)<=a.jqx._ptrnd(e.left+n+(i?0:e.right));){m.push({offset:q,value:o});var t=new Date(o.valueOf());"millisecond"==h?t.setMilliseconds(o.getMilliseconds()+g):"second"==h?t.setSeconds(o.getSeconds()+g):"minute"==h?t.setMinutes(o.getMinutes()+g):"hour"==h?t.setHours(o.getHours()+g):"day"==h?t.setDate(o.getDate()+g):"month"==h?t.setMonth(o.getMonth()+g):"year"==h&&t.setFullYear(o.getFullYear()+g),o=t,q=p+(o.valueOf()-b.valueOf())*s/(c.valueOf()-b.valueOf())*n}if(l)for(var u=0;u<m.length;u++)m[u].offset=d-m[u].offset;if(r>1){for(var v=[],u=0;u<m.length;u+=r)v.push({offset:m[u].offset,value:m[u].value});m=v}if(!i&&!k&&m.length>1){var v=[];v.push({offset:0,value:void 0});for(var u=1;u<m.length;u++)v.push({offset:m[u-1].offset+(m[u].offset-m[u-1].offset)/2,value:void 0});var w=v.length;v.push(w>1?{offset:v[w-1].offset+(v[w-1].offset-v[w-2].offset)}:{offset:d,value:void 0}),m=v}if(f>g){for(var v=[],x=Math.round(f/r),u=0;u<m.length;u++)u%x==0&&v.push({offset:m[u].offset,value:m[u].value});m=v}return m},_buildStats:function(b){var c={seriesGroups:new Array};this._stats=c;for(var d=0;d<this.seriesGroups.length;d++){var e=this.seriesGroups[d];c.seriesGroups[d]={};var f=c.seriesGroups[d];f.isValid=!0;var g=void 0!=e.valueAxis,h="horizontal"==e.orientation?b.width:b.height,i=!1,j=10;g&&(i=1==e.valueAxis.logarithmicScale,j=e.valueAxis.logarithmicScaleBase,isNaN(j)&&(j=10));var k=-1!=e.type.indexOf("stacked"),l=k&&-1!=e.type.indexOf("100"),m=-1!=e.type.indexOf("range");l&&(f.psums=new Array,f.nsums=new Array);var n=0/0,o=0/0,p=0/0,q=0/0,r=e.baselineValue;isNaN(r)&&(r=i&&!l?1:0);for(var s=this._getDataLen(d),t=0,u=0/0,v=0;s>v&&f.isValid;v++){for(var w=g?e.valueAxis.minValue:1/0,x=g?e.valueAxis.maxValue:-1/0,y=0,z=0,A=0;A<e.series.length;A++)if(this._isSerieVisible(d,A)){var B=void 0,C=void 0,D=void 0;if(m){var E=this._getDataValueAsNumber(v,e.series[A].dataFieldFrom,d),F=this._getDataValueAsNumber(v,e.series[A].dataFieldTo,d);C=Math.max(E,F),D=Math.min(E,F)}else{if(B=this._getDataValueAsNumber(v,e.series[A].dataField,d),isNaN(B)||i&&0>=B)continue;D=C=B}(isNaN(x)||C>x)&&(!g||isNaN(e.valueAxis.maxValue)?!0:C<=e.valueAxis.maxValue)&&(x=Math.max(C,r)),(isNaN(w)||w>D)&&(!g||isNaN(e.valueAxis.minValue)?!0:D>=e.valueAxis.minValue)&&(w=Math.min(D,r)),isNaN(B)||(B>r?y+=B:r>B&&(z+=B))}if(!l&&g&&(isNaN(e.valueAxis.maxValue)||(y=Math.min(e.valueAxis.maxValue,y)),isNaN(e.valueAxis.minValue)||(z=Math.max(e.valueAxis.minValue,z))),i&&l)for(var A=0;A<e.series.length;A++)if(this._isSerieVisible(d,A)){var B=this._getDataValueAsNumber(v,e.series[A].dataField,d);if(isNaN(B)||0>=B)u=.01;else{var G=0==y?0:B/y;(isNaN(u)||u>G)&&(u=G)}}else u=.01;var H=y-z;H>t&&(t=H),l&&(f.psums[v]=y,f.nsums[v]=z),(x>o||isNaN(o))&&(o=x),(n>w||isNaN(n))&&(n=w),(y>p||isNaN(p))&&(p=y),(q>z||isNaN(q))&&(q=z)}l&&(p=0==p?0:Math.max(p,-q),q=0==q?0:Math.min(q,-p));var I=g?e.valueAxis.unitInterval:0;I||(I=g?this._calcInterval(k?q:n,k?p:o,Math.max(h/80,2)):k?(p-q)/10:(o-n)/10);var J=0/0,K=0,L=0;if(i){if(l){J=0;var G=1;for(K=L=a.jqx.log(100,j);G>u;)G/=j,K--,J++;n=Math.pow(j,K)}else k&&(o=Math.max(o,p)),L=a.jqx._rnd(a.jqx.log(o,j),1,!0),o=Math.pow(j,L),K=a.jqx._rnd(a.jqx.log(n,j),1,!1),n=Math.pow(j,K);I=j}q>n&&(q=n),o>p&&(p=o);var M=i?n:a.jqx._rnd(k?q:n,I,!1),N=i?o:a.jqx._rnd(k?p:o,I,!0);l&&N>100&&(N=100),l&&!i&&(N=N>0?100:0,M=0>M?-100:0,I=g?e.valueAxis.unitInterval:10,(isNaN(I)||0>=I||I>=100)&&(I=10)),isNaN(N)||isNaN(M)||isNaN(I)||(isNaN(J)&&(J=parseInt(((N-M)/(0==I?1:I)).toFixed())),i&&!l&&(J=L-K,t=Math.pow(j,J)),1>J||(f.min=M,f.max=N,f.logarithmic=i,f.logBase=j,f.base=r,f.minPow=K,f.maxPow=L,f.mu=I,f.maxRange=t,f.intervals=J))}},_getDataLen:function(b){var c=this.source;return void 0!=b&&-1!=b&&this.seriesGroups[b].source&&(c=this.seriesGroups[b].source),c instanceof a.jqx.dataAdapter&&(c=c.records),c?c.length:0},_getDataValue:function(b,c,d){var e=this.source;return void 0!=d&&-1!=d&&(e=this.seriesGroups[d].source||e),e instanceof a.jqx.dataAdapter&&(e=e.records),!e||0>b||b>e.length-1?void 0:a.isFunction(c)?c(b,e):c&&""!=c?e[b][c]:e[b]},_getDataValueAsNumber:function(a,b,c){var d=this._getDataValue(a,b,c);return this._isDate(d)?d.valueOf():("number"!=typeof d&&(d=parseFloat(d)),"number"!=typeof d&&(d=void 0),d)},_renderPieSeries:function(b,c){for(var d=this._getDataLen(b),e=this.seriesGroups[b],f=this._calcGroupOffsets(b,c).offsets,g=0;g<e.series.length;g++){var h=e.series[g],i=this._getSerieSettings(b,g),j=(h.colorScheme||e.colorScheme||this.colorScheme,this._getAnimProps(b,g)),k=j.enabled&&5e3>d&&!this._isToggleRefresh&&1!=this._isVML?j.duration:0;a.jqx.mobile.isMobileBrowser()&&this.renderer instanceof a.jqx.HTML5Renderer&&(k=0);for(var l={rect:c,groupIndex:b,serieIndex:g,settings:i,items:[]},m=0;d>m;m++){var n=f[g][m];if(n.visible){var o=n.fromAngle,p=n.toAngle,q=this.renderer.pieslice(n.x,n.y,n.innerRadius,n.outerRadius,o,0==k?p:o,n.centerOffset),r={element:q,displayValue:n.displayValue,itemIndex:m,visible:n.visible,x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:n.outerRadius,fromAngle:o,toAngle:p,centerOffset:n.centerOffset};l.items.push(r)}}this._animatePieSlices(l,0);var s=this;this._enqueueAnimation("series",q,void 0,k,function(a,b,c){s._animatePieSlices(b,c)},l)}},_sliceSortFunction:function(a,b){return a.fromAngle-b.fromAngle},_animatePieSlices:function(b,c){var d;this._elementRenderInfo&&this._elementRenderInfo.length>b.groupIndex&&this._elementRenderInfo[b.groupIndex].series&&this._elementRenderInfo[b.groupIndex].series.length>b.serieIndex&&(d=this._elementRenderInfo[b.groupIndex].series[b.serieIndex]);for(var e=[],f=0;f<b.items.length;f++){var g=b.items[f];if(g.visible){var h=g.fromAngle,i=g.fromAngle+c*(g.toAngle-g.fromAngle);if(d&&d[g.displayValue]){var j=d[g.displayValue].fromAngle,k=d[g.displayValue].toAngle;h=j+(h-j)*c,i=k+(i-k)*c}e.push({index:f,from:h,to:i})}}d&&e.sort(this._sliceSortFunction);for(var l=0/0,f=0;f<e.length;f++){var g=b.items[e[f].index];g.labelElement&&this.renderer.removeElement(g.labelElement);var h=e[f].from,i=e[f].to;d&&(!isNaN(l)&&h>l&&(h=l),l=i,f==e.length-1&&i!=e[0].from&&(i=360+e[0].from));var m=this.renderer.pieSlicePath(g.x,g.y,g.innerRadius,g.outerRadius,h,i,g.centerOffset);this.renderer.attr(g.element,{d:m});var n=this._getColors(b.groupIndex,b.serieIndex,g.itemIndex,"radialGradient",g.outerRadius),o=b.settings;this.renderer.attr(g.element,{fill:n.fillColor,stroke:n.lineColor,"stroke-width":o.stroke,"fill-opacity":o.opacity,"stroke-opacity":o.opacity,"stroke-dasharray":"none"});var p=this.seriesGroups[b.groupIndex],q=p.series[b.serieIndex];if(1==q.showLabels||!q.showLabels&&1==p.showLabels){var r=h,s=i,t=Math.abs(r-s);t>360&&(r=0,s=360);var u=(r*Math.PI*2/360,s*Math.PI*2/360,t/2+r);u%=360;var v,w=u*Math.PI*2/360;1==q.labelsAutoRotate&&(v=90>u||u>270?360-u:180-u);var x=this._showLabel(b.groupIndex,b.serieIndex,g.itemIndex,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,v),y=q.labelRadius||g.outerRadius+Math.max(x.width,x.height);y+=g.centerOffset;var z=a.jqx.getNum([q.offsetX,p.offsetX,b.rect.width/2]),A=a.jqx.getNum([q.offsetY,p.offsetY,b.rect.height/2]),B=b.rect.x+z,C=b.rect.y+A,D=this._adjustTextBoxPosition(B,C,x,y,u,g.outerRadius>y,0!=q.labelLinesAngles,1==q.labelsAutoRotate);g.labelElement=this._showLabel(b.groupIndex,b.serieIndex,g.itemIndex,{x:D.x,y:D.y,width:x.width,height:x.height},"left","top",!1,!1,!1,v),y>g.outerRadius+5&&0!=q.labelLinesEnabled&&(g.labelArrowPath=this._updateLebelArrowPath(g.labelArrowPath,B,C,y,g.outerRadius,w,0!=q.labelLinesAngles,n,o))}1==c&&this._installHandlers(g.element,"pieslice",b.groupIndex,b.serieIndex,g.itemIndex)}},_updateLebelArrowPath:function(b,c,d,e,f,g,h,i,j){var k=a.jqx._ptrnd(c+(e-0)*Math.cos(g)),l=a.jqx._ptrnd(d-(e-0)*Math.sin(g)),m=a.jqx._ptrnd(c+(f+2)*Math.cos(g)),n=a.jqx._ptrnd(d-(f+2)*Math.sin(g)),o="M "+k+","+l+" L"+m+","+n;return h&&(o="M "+k+","+l+" L"+m+","+l+" L"+m+","+n),b?this.renderer.attr(b,{d:o}):b=this.renderer.path(o,{}),this.renderer.attr(b,{fill:"none",stroke:i.lineColor,"stroke-width":j.stroke,"stroke-opacity":j.opacity,"stroke-dasharray":"none"}),b},_adjustTextBoxPosition:function(b,c,d,e,f,g,h,i){var j=f*Math.PI*2/360,k=a.jqx._ptrnd(b+e*Math.cos(j)),l=a.jqx._ptrnd(c-e*Math.sin(j));if(i){var m=d.width,n=d.height,o=Math.atan(n/m)%(2*Math.PI),p=j%(2*Math.PI),q=0,r=0,s=0;o>=p?(s=m/2*Math.cos(j),r=s*Math.sin(j),q=-m/2):p>=o&&p<Math.PI-o?(s=n/2*Math.sin(j),r=n/2,q=-Math.cos(j)*s):p>=Math.PI-o&&p<Math.PI+o?(s=m/2*Math.cos(j),r=-s*Math.sin(j),q=m/2):p>=Math.PI+o&&p<2*Math.PI-o?(s=n/2*Math.sin(j),r=-n/2,q=Math.cos(j)*s):p>=2*Math.PI-o&&p<2*Math.PI&&(s=m/2*Math.cos(j),r=s*Math.sin(j),q=-m/2),e+=Math.abs(s)+3;var k=a.jqx._ptrnd(b+e*Math.cos(j)),l=a.jqx._ptrnd(c-e*Math.sin(j));return k-=d.width/2,l-=d.height/2,{x:k,y:l}}return g?(k-=d.width/2,l-=d.height/2):h?f>=90&&270>f?(l-=d.height/2,k-=d.width):l-=d.height/2:f>=0&&45>f||f>=315&&360>f?l-=d.height/2:f>=45&&135>f?(l-=d.height,k-=d.width/2):f>=135&&225>f?(l-=d.height/2,k-=d.width):f>=225&&315>f&&(k-=d.width/2),{x:k,y:l}},_getColumnGroupsCount:function(a){var b=0;a=a||"vertical";for(var c=this.seriesGroups,d=0;d<c.length;d++){var e=c[d].orientation||"vertical";-1!=c[d].type.indexOf("column")&&e==a&&b++}return b},_getColumnGroupIndex:function(a){for(var b=0,c=this.seriesGroups[a].orientation||"vertical",d=0;a>d;d++){var e=this.seriesGroups[d],f=e.orientation||"vertical";-1!=e.type.indexOf("column")&&f==c&&b++}return b},_renderBand:function(a,b,c){var d=this.seriesGroups[a];if(d.bands&&!(d.bands.length<=b)){var e=c;"horizontal"==d.orientation&&(e={x:c.y,y:c.x,width:c.height,height:c.width});var f=this._calcGroupOffsets(a,e);if(f&&!(f.length<=a)){var g=d.bands[b],h=f.bands[b],i=h.from,j=h.to,k=Math.abs(i-j),l={x:e.x,y:Math.min(i,j),width:e.width,height:k};if("horizontal"==d.orientation){var m=l.x;l.x=l.y,l.y=m,m=l.width,l.width=l.height,l.height=m}var n=this.renderer.rect(l.x,l.y,l.width,l.height),o=g.color||"#AAAAAA",p=g.opacity;(isNaN(p)||0>p||p>1)&&(p=.5),this.renderer.attr(n,{fill:o,"fill-opacity":p,stroke:o,"stroke-opacity":p,"stroke-width":0})}}},_renderColumnSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=-1!=d.type.indexOf("stacked"),f=(e&&-1!=d.type.indexOf("100"),-1!=d.type.indexOf("range"),this._getDataLen(b),d.columnsGapPercent);(isNaN(f)||0>f||f>100)&&(f=25);var g=d.seriesGapPercent;(isNaN(g)||0>g||g>100)&&(g=10);var h="horizontal"==d.orientation,i=c;h&&(i={x:c.y,y:c.x,width:c.height,height:c.width});var j=this._calcGroupOffsets(b,i);if(j&&0!=j.xoffsets.length){var k=this._getColumnGroupsCount(d.orientation),l=this._getColumnGroupIndex(b);1==this.columnSeriesOverlap&&(k=1,l=0);var m,n=!0;(1==d.polar||1==d.spider)&&(m=this._getPolarAxisCoords(b,i),f=0,g=0);for(var o={groupIndex:b,rect:c,vertical:!h,seriesCtx:[],renderData:j,polarAxisCoords:m},p=this._getGroupGradientType(b),q=0;q<d.series.length;q++){var r=d.series[q],s=r.columnsMaxWidth||d.columnsMaxWidth,t=(r.dataField,this._getAnimProps(b,q)),u=t.enabled&&!this._isToggleRefresh&&j.xoffsets.length<100?t.duration:0,v=0,w=j.xoffsets.itemWidth;n&&(v-=w/2),v+=w*(l/k),w/=k;var y=v+w,z=y-v,A=(y-v)/(1+f/100),B=!e&&d.series.length>1?A*g/100/(d.series.length-1):0,C=A-B*(d.series.length-1);1>A&&(A=1);var D=0;!e&&d.series.length>1&&(C/=d.series.length,D=q);var E=v+(z-A)/2+D*(B+C);if(D==d.series.length&&(C=z-v+A-x),!isNaN(s)){var F=Math.min(C,s);E+=(C-F)/2,C=F}var G=this._isSerieVisible(b,q),H=this._getSerieSettings(b,q),I=this._getColors(b,q,0/0,this._getGroupGradientType(b),4),J=[];if(a.isFunction(r.colorFunction)&&!m)for(var K=j.xoffsets.first;K<=j.xoffsets.last;K++)J.push(this._getColors(b,q,K,p,4));var L={seriesIndex:q,serieColors:I,itemsColors:J,settings:H,columnWidth:C,xAdjust:E,isVisible:G};o.seriesCtx.push(L)}this._animateColumns(o,0==u?1:0);var M=this;this._enqueueAnimation("series",void 0,void 0,u,function(a,b,c){M._animateColumns(b,c)},o)}}},_getColumnOffsets:function(a,b,c,d,e,f){for(var g=this.seriesGroups[b],h=[],i=0;i<c.length;i++){var j=c[i],k=j.seriesIndex,l=(g.series[k],a.offsets[k][d].from),m=a.offsets[k][d].to,n=a.xoffsets.data[d],o=void 0,p=j.isVisible;if(p||(m=l),p&&this._elementRenderInfo&&this._elementRenderInfo.length>b){var q=a.xoffsets.xvalues[d];o=this._elementRenderInfo[b].series[k][q],!o||isNaN(o.from)||isNaN(o.to)||(l=o.from+(l-o.from)*f,m=o.to+(m-o.to)*f,n=o.xoffset+(n-o.xoffset)*f)}o||(m=l+(m-l)*(e?1:f)),isNaN(l)&&(l=0),isNaN(m)&&(m=isNaN(l)?0:l),h.push({from:l,to:m,xOffset:n})}if(e&&h.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>b)){for(var r=0,s=0,t=0;t<h.length;t++)h[t].to>=h[t].from?s+=h[t].to-h[t].from:r+=h[t].from-h[t].to;r*=f,s*=f;for(var u=0,v=0,t=0;t<h.length;t++)if(h[t].to>=h[t].from){var w=h[t].to-h[t].from;w+v>s&&(w=Math.max(0,s-v),h[t].to=h[t].from+w),v+=w}else{var w=h[t].from-h[t].to;w+u>r&&(w=Math.max(0,r-u),h[t].to=h[t].from-w),u+=w}}return h},_columnAsPieSlice:function(b,c,d,e,f){var g=this._toPolarCoord(e,d,f.x,f.y),h=this._toPolarCoord(e,d,f.x,f.y+f.height),i=(this._toPolarCoord(e,d,f.x+f.width,f.y),a.jqx._ptdist(e.x,e.y,h.x,h.y)),j=a.jqx._ptdist(e.x,e.y,g.x,g.y),k=d.width,l=-(360*(f.x-d.x))/k,m=-(360*(f.x+f.width-d.x))/k,n=e.startAngle;if(n=360*n/(2*Math.PI),l-=n,m-=n,void 0!=b[c]){var o=this.renderer.pieSlicePath(e.x,e.y,i,j,m,l,0);this.renderer.attr(b[c],{d:o})}else b[c]=this.renderer.pieslice(e.x,e.y,i,j,m,l,0);return{fromAngle:m,toAngle:l,innerRadius:i,outerRadius:j}},_animateColumns:function(b,c){for(var d=b.groupIndex,e=this.seriesGroups[d],f=b.renderData,g=-1!=e.type.indexOf("stacked"),h=b.polarAxisCoords,i=(this._getGroupGradientType(d),f.xoffsets.first);i<=f.xoffsets.last;i++)for(var j=this._getColumnOffsets(f,d,b.seriesCtx,i,g,c),k=0;k<b.seriesCtx.length;k++){var l=b.seriesCtx[k],m=l.seriesIndex,n=(e.series[m],j[k].from),o=j[k].to,p=j[k].xOffset;l.elements||(l.elements={}),l.labelElements||(l.labelElements={});var q=l.elements,r=l.labelElements,s=(b.vertical?b.rect.x:b.rect.y)+l.xAdjust,t=l.settings,u=0!=l.itemsColors.length?l.itemsColors[i-f.xoffsets.first]:l.serieColors,v=this._isSerieVisible(d,m);if(v||g){var w=a.jqx._ptrnd(s+p),x={x:w,width:l.columnWidth},y=!0;b.vertical?(x.y=n,x.height=o-n,x.height<0&&(x.y+=x.height,x.height=-x.height,y=!1)):(x.x=o>n?n:o,x.width=Math.abs(n-o),x.y=w,x.height=l.columnWidth);
var z=n-o;if(!isNaN(z)){if(z=Math.abs(z),void 0==q[i]&&(h?this._columnAsPieSlice(q,i,b.rect,h,x):q[i]=this.renderer.rect(x.x,x.y,b.vertical?x.width:0,b.vertical?0:x.height),this.renderer.attr(q[i],{fill:u.fillColor,"fill-opacity":t.opacity,"stroke-opacity":t.opacity,stroke:u.lineColor,"stroke-width":t.stroke,"stroke-dasharray":t.dashStyle})),1>z&&1!=c?this.renderer.attr(q[i],{display:"none"}):this.renderer.attr(q[i],{display:"block"}),h){var A=this._columnAsPieSlice(q,i,b.rect,h,x),u=this._getColors(d,m,void 0,"radialGradient",A.outerRadius);this.renderer.attr(q[i],{fill:u.fillColor,"fill-opacity":t.opacity,"stroke-opacity":t.opacity,stroke:u.lineColor,"stroke-width":t.stroke,"stroke-dasharray":t.dashStyle})}else 1==b.vertical?this.renderer.attr(q[i],{x:x.x,y:x.y,height:z}):this.renderer.attr(q[i],{x:x.x,y:x.y,width:z});this.renderer.removeElement(r[i]),!v||0==z&&1>c||(r[i]=this._showLabel(d,m,i,x,void 0,void 0,!1,!1,y),1==c&&this._installHandlers(q[i],"column",d,m,i))}}}},_renderScatterSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=-1!=d.type.indexOf("bubble"),f="horizontal"==d.orientation,g=c;f&&(g={x:c.y,y:c.x,width:c.height,height:c.width});var h=this._calcGroupOffsets(b,g);if(h&&0!=h.xoffsets.length){var i,j=g.width;(d.polar||d.spider)&&(i=this._getPolarAxisCoords(b,g),j=2*i.r);for(var k=(this._alignValuesWithTicks(b),this._getGroupGradientType(b)),l=0;l<d.series.length;l++){var m=this._getSerieSettings(b,l),n=d.series[l],o=n.dataField,p=a.isFunction(n.colorFunction),q=this._getColors(b,l,0/0,k),r=0/0,s=0/0;if(e)for(var t=h.xoffsets.first;t<=h.xoffsets.last;t++){var u=this._getDataValueAsNumber(t,n.radiusDataField,b);if("number"!=typeof u)throw"Invalid radiusDataField value at ["+t+"]";isNaN(u)||((isNaN(r)||r>u)&&(r=u),(isNaN(s)||u>s)&&(s=u))}var v=n.minRadius;isNaN(v)&&(v=j/50);var w=n.maxRadius;isNaN(w)&&(w=j/25),v>w&&(w=v);for(var x=n.radius||5,y=this._getAnimProps(b,l),z=y.enabled&&!this._isToggleRefresh&&h.xoffsets.length<5e3?y.duration:0,A={groupIndex:b,seriesIndex:l,"fill-opacity":m.opacity,"stroke-opacity":m.opacity,"stroke-width":m.stroke,"stroke-dasharray":m.dashStyle,items:[],polarAxisCoords:i},t=h.xoffsets.first;t<=h.xoffsets.last;t++){var u=this._getDataValueAsNumber(t,o,b);if("number"==typeof u){var B=h.xoffsets.data[t],C=h.offsets[l][t].to,D=h.xoffsets.xvalues[t];if(!isNaN(B)&&!isNaN(C)){if(f){var E=B;B=C,C=E+c.y}else B+=c.x;var F=x;if(e){var G=this._getDataValueAsNumber(t,n.radiusDataField,b);if("number"!=typeof G)continue;F=v+(w-v)*(G-r)/Math.max(1,s-r),isNaN(F)&&(F=v)}var H=0/0,I=0/0,J=0;if(void 0!=D&&this._elementRenderInfo&&this._elementRenderInfo.length>b){var K=this._elementRenderInfo[b].series[l][D];if(K&&!isNaN(K.to)){if(H=K.to,I=K.xoffset,J=x,f){var E=I;I=H,H=E+c.y}else I+=c.x;e&&(J=v+(w-v)*(K.valueRadius-r)/Math.max(1,s-r),isNaN(J)&&(J=v))}}p&&(q=this._getColors(b,l,t,k)),A.items.push({from:J,to:F,itemIndex:t,fill:q.fillColor,stroke:q.lineColor,x:B,y:C,xFrom:I,yFrom:H})}}}this._animR(A,0);var L=this;this._enqueueAnimation("series",void 0,void 0,z,function(a,b,c){L._animR(b,c)},A)}}}},_animR:function(b,c){for(var d=b.items,e=0;e<d.length;e++){var f=d[e],g=f.x,h=f.y,i=Math.round((f.to-f.from)*c+f.from);if(isNaN(f.yFrom)||(h=f.yFrom+(h-f.yFrom)*c),isNaN(f.xFrom)||(g=f.xFrom+(g-f.xFrom)*c),b.polarAxisCoords){var j=this._toPolarCoord(b.polarAxisCoords,this._plotRect,g,h);g=j.x,h=j.y}g=a.jqx._ptrnd(g),h=a.jqx._ptrnd(h),i=a.jqx._ptrnd(i);var k=f.element;k||(k=this.renderer.circle(g,h,i),this.renderer.attr(k,{fill:f.fill,"fill-opacity":b["fill-opacity"],"stroke-opacity":b["fill-opacity"],stroke:f.stroke,"stroke-width":b["stroke-width"],"stroke-dasharray":b["stroke-dasharray"]}),f.element=k),this._isVML?this.renderer.updateCircle(k,void 0,void 0,i):this.renderer.attr(k,{r:i,cy:h,cx:g}),f.labelElement&&this.renderer.removeElement(f.labelElement),f.labelElement=this._showLabel(b.groupIndex,b.seriesIndex,f.itemIndex,{x:g-i,y:h-i,width:2*i,height:2*i}),c>=1&&this._installHandlers(k,"circle",b.groupIndex,b.seriesIndex,f.itemIndex)}},_showToolTip:function(b,c,d,e,f){var g=this,h=g._getCategoryAxis(d);if(!g._ttEl||d!=g._ttEl.gidx||e!=g._ttEl.sidx||f!=g._ttEl.iidx){var i=g.seriesGroups[d],j=i.series[e],k=g.enableCrosshairs&&!(i.polar||i.spider);g._pointMarker?(b=parseInt(g._pointMarker.x+5),c=parseInt(g._pointMarker.y-5)):k=!1;var l=k&&0==g.showToolTips;b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c);var m=void 0==g._ttEl;if(0!=i.showToolTips&&0!=j.showToolTips){var n=j.toolTipFormatSettings||i.toolTipFormatSettings,o=j.toolTipFormatFunction||i.toolTipFormatFunction||g.toolTipFormatFunction,p=g._getColors(d,e,f),q=g._getDataValue(f,h.dataField,d);(void 0==h.dataField||""==h.dataField)&&(q=f),"date"==h.type&&(q=g._castAsDate(q));var r="";if(a.isFunction(o)){var s={};-1==i.type.indexOf("range")?s=g._getDataValue(f,j.dataField,d):(s.from=g._getDataValue(f,j.dataFieldFrom,d),s.to=g._getDataValue(f,j.dataFieldTo,d)),r=o(s,f,j,i,q,h)}else{r=g._getFormattedValue(d,e,f,n,o);var t=h.toolTipFormatSettings||h.formatSettings,u=h.toolTipFormatFunction||h.formatFunction;u||t||"date"!=h.type||(u=this._getDefaultDTFormatFn(h.baseUnit||"day"));var v=g._formatValue(q,t,u);"pie"!=i.type&&"donut"!=i.type?r=(j.displayText||j.dataField||"")+", "+v+": "+r:(q=g._getDataValue(f,j.displayText||j.dataField,d),v=g._formatValue(q,t,u),r=v+": "+r)}var w=j.toolTipClass||i.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),x=j.toolTipBackground||i.toolTipBackground||"#FFFFFF",y=j.toolTipLineColor||i.toolTipLineColor||p.lineColor;if(g._ttEl||(g._ttEl={}),g._ttEl.sidx=e,g._ttEl.gidx=d,g._ttEl.iidx=f,rect=g.renderer.getRect(),k){var z=a.jqx._ptrnd(g._pointMarker.x),A=a.jqx._ptrnd(g._pointMarker.y);if(g._ttEl.vLine&&g._ttEl.hLine)g.renderer.attr(g._ttEl.vLine,{x1:z,x2:z}),g.renderer.attr(g._ttEl.hLine,{y1:A,y2:A});else{var B=g.crosshairsColor||"#888888";g._ttEl.vLine=g.renderer.line(z,g._plotRect.y,z,g._plotRect.y+g._plotRect.height,{stroke:B,"stroke-width":g.crosshairsLineWidth||1,"stroke-dasharray":g.crosshairsDashStyle||""}),g._ttEl.hLine=g.renderer.line(g._plotRect.x,A,g._plotRect.x+g._plotRect.width,A,{stroke:B,"stroke-width":g.crosshairsLineWidth||1,"stroke-dasharray":g.crosshairsDashStyle||""})}}if(!l&&0!=g.showToolTips){var C=m?document.createElement("div"):g._ttEl.box,D={left:0,top:0};m&&(C.style.position="absolute",C.style.cursor="default",C.style.overflow="hidden",a(C).addClass("jqx-rc-all jqx-button"),a(C).css("z-index",9999999),a(document.body).append(C)),C.style.backgroundColor=x,C.style.borderColor=y,g._ttEl.box=C,g._ttEl.txt=r;var E="<span class='"+w+"'>"+r+"</span>",F=g._ttEl.tmp;if(m&&(g._ttEl.tmp=F=document.createElement("div"),F.style.position="absolute",F.style.cursor="default",F.style.overflow="hidden",F.style.display="none",F.style.zIndex=999999,F.style.backgroundColor=x,F.style.borderColor=y,a(F).addClass("jqx-rc-all jqx-button"),g.host.append(F)),a(F).html(E),!r||0==r.length)return void a(C).fadeTo(0,0);var G={width:a(F).width(),height:a(F).height()};if(G.width=G.width+5,G.height=G.height+6,b=Math.max(b,rect.x),c=Math.max(c-G.height,rect.y),G.width>rect.width||G.height>rect.height)return;b+D.left+G.width>rect.x+rect.width-5&&(b=rect.x+rect.width-G.width-D.left-5),c+D.top+G.height>rect.y+rect.height-5&&(c=rect.y+rect.height-G.height-5);var H=g.host.coord();m&&(a(C).fadeOut(0,0),C.style.left=D.left+b+H.left+"px",C.style.top=D.top+c+H.top+"px"),a(C).html(E),a(C).clearQueue(),a(C).animate({left:D.left+b+H.left,top:D.top+c+H.top,opacity:1},300,"easeInOutCirc"),a(C).fadeTo(400,1)}}}},_hideToolTip:function(b){this._ttEl&&(this._ttEl.box&&(0==b?a(this._ttEl.box).hide():a(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_showLabel:function(a,b,c,d,e,f,g,h,i,j){var k=this.seriesGroups[a],l=k.series[b],m={width:0,height:0};if(0==l.showLabels||!l.showLabels&&!k.showLabels)return g?m:void 0;if(d.width<0||d.height<0)return g?m:void 0;var n=l.labelClass||k.labelClass||this.toThemeProperty("jqx-chart-label-text",null),o=l.labelAngle||l.labelsAngle||k.labelAngle||k.labelsAngle||0;isNaN(j)||(o=j);var p=l.labelOffset||l.labelsOffset||k.labelOffset||k.labelsOffset||{},q={x:p.x,y:p.y};isNaN(q.x)&&(q.x=0),isNaN(q.y)&&(q.y=0),e=e||l.labelsHorizontalAlignment||k.labelsHorizontalAlignment||"center",f=f||l.labelsVerticalAlignment||k.labelsVerticalAlignment||"center";var r=this._getFormattedValue(a,b,c),s=d.width,t=d.height;if(1==h&&"center"!=e&&(e="right"==e?"left":"right"),1==i&&"center"!=f&&"middle"!=f&&(f="top"==f?"bottom":"top",q.y*=-1),m=this.renderer.measureText(r,o,{"class":n}),g)return m;var u=0;s>0&&(""==e||"center"==e?u+=(s-m.width)/2:"right"==e&&(u+=s-m.width));var v=0;t>0&&(""==f||"center"==f?v+=(t-m.height)/2:"bottom"==f&&(v+=t-m.height)),u+=d.x+q.x,v+=d.y+q.y;var w=this._plotRect;u<=w.x&&(u=w.x+2),v<=w.y&&(v=w.y+2);var x={width:Math.max(m.width,1),height:Math.max(m.height,1)};v+x.height>=w.y+w.height&&(v=w.y+w.height-x.height-2),u+x.width>=w.x+w.width&&(u=w.x+w.width-x.width-2);var y=this.renderer.text(r,u,v,m.width,m.height,o,{"class":n},!1,"center","center");return this.renderer.attr(y,{"class":n}),this._isVML&&(this.renderer.removeElement(y),this.renderer.getContainer()[0].appendChild(y)),y},_getAnimProps:function(a,b){var c=this.seriesGroups[a],d=isNaN(b)?void 0:c.series[b],e=1==this.enableAnimations;c.enableAnimations&&(e=1==c.enableAnimations),d&&d.enableAnimations&&(e=1==d.enableAnimations);var f=this.animationDuration;isNaN(f)&&(f=1e3);var g=c.animationDuration;if(isNaN(g)||(f=g),d){var h=d.animationDuration;isNaN(h)||(f=h)}return f>5e3&&(f=1e3),{enabled:e,duration:f}},_isColorTransition:function(a,b,c,d){if(d-1<c.xoffsets.first)return!1;var e=this._getColors(a,b,d,this._getGroupGradientType(a)),f=this._getColors(a,b,d-1,this._getGroupGradientType(a));return e.fillColor!=f.fillColor},_renderLineSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=-1!=d.type.indexOf("area"),f=-1!=d.type.indexOf("stacked"),g=f&&-1!=d.type.indexOf("100"),h=-1!=d.type.indexOf("spline"),i=-1!=d.type.indexOf("step"),j=-1!=d.type.indexOf("range"),k=1==d.polar||1==d.spider;if(k&&(i=!1),!i||!h){var l=this._getDataLen(b),m=(c.width/l,"horizontal"==d.orientation),n=1==this._getCategoryAxis(b).flip,o=c;m&&(o={x:c.y,y:c.x,width:c.height,height:c.width});var p=this._calcGroupOffsets(b,o);if(p&&0!=p.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[b]={};for(var q=d.series.length-1;q>=0;q--){var r=this._getSerieSettings(b,q),s={groupIndex:b,serieIndex:q,swapXY:m,isArea:e,isSpline:h,isRange:j,isPolar:k,settings:r,segments:[],pointsLength:0},t=this._isSerieVisible(b,q);if(t){var u=d.series[q],v=a.isFunction(u.colorFunction),w=p.xoffsets.first,x=w,y=this._getColors(b,q,0/0,this._getGroupGradientType(b));do{var z=[],A=[],B=[],C=0,D=0/0,E=0/0,F=0/0;if(!(p.xoffsets.length<1)){for(var G=this._getAnimProps(b,q),H=G.enabled&&!this._isToggleRefresh&&p.xoffsets.length<1e4&&1!=this._isVML?G.duration:0,I=w,J=!1,K=(this._getColors(b,q,w,this._getGroupGradientType(b)),w);K<=p.xoffsets.last;K++){w=K;var L=p.xoffsets.data[K],M=p.xoffsets.xvalues[K];if(!isNaN(L)){L=Math.max(L,1),C=L;var N=p.offsets[q][K].to,O=p.offsets[q][K].from;if(isNaN(N)||isNaN(O)){if("connect"==u.emptyPointsDisplay)continue;if("zero"!=u.emptyPointsDisplay){J=!0;break}isNaN(N)&&(N=p.baseOffset),isNaN(O)&&(O=p.baseOffset)}if(v&&this._isColorTransition(b,q,p,w)&&z.length>1){w--;break}if(this._elementRenderInfo&&this._elementRenderInfo.length>b&&this._elementRenderInfo[b].series.length>q){var P=this._elementRenderInfo[b].series[q][M],F=a.jqx._ptrnd(P?P.to:void 0),Q=a.jqx._ptrnd(o.x+(P?P.xoffset:void 0));B.push(m?{y:Q,x:F,index:K}:{x:Q,y:F,index:K})}x=K,r.stroke<2&&(N-o.y<=1&&(N=o.y+1),O-o.y<=1&&(O=o.y+1),o.y+o.height-N<=1&&(N=o.y+o.height-1),o.y+o.height-N<=1&&(O=o.y+o.height-1)),!e&&g&&(N<=o.y&&(N=o.y+1),N>=o.y+o.height&&(N=o.y+o.height-1),O<=o.y&&(O=o.y+1),O>=o.y+o.height&&(O=o.y+o.height-1)),L=Math.max(L,1),C=L+o.x,!i||isNaN(D)||isNaN(E)||E!=N&&z.push(m?{y:C,x:a.jqx._ptrnd(E)}:{x:C,y:a.jqx._ptrnd(E)}),z.push(m?{y:C,x:a.jqx._ptrnd(N),index:K}:{x:C,y:a.jqx._ptrnd(N),index:K}),A.push(m?{y:C,x:a.jqx._ptrnd(O),index:K}:{x:C,y:a.jqx._ptrnd(O),index:K}),D=C,E=N,isNaN(F)&&(F=N)}}if(0!=z.length){var R=z[z.length-1].index;v&&(y=this._getColors(b,q,R,this._getGroupGradientType(b)));var S=o.x+p.xoffsets.data[I],T=o.x+p.xoffsets.data[x];if(e&&1==d.alignEndPointsWithIntervals){if(S>o.x&&(S=o.x),T<o.x+o.width&&(T=o.x+o.width),n){var U=S;S=T,T=U}}T=a.jqx._ptrnd(T),S=a.jqx._ptrnd(S);var V=p.baseOffset;F=a.jqx._ptrnd(F);var W=a.jqx._ptrnd(N)||V;j&&(z=z.concat(A.reverse())),s.pointsLength+=z.length;var X={lastItemIndex:R,colorSettings:y,pointsArray:z,pointsStart:B,left:S,right:T,pyStart:F,pyEnd:W,yBase:V,labelElements:[],symbolElements:[]};s.segments.push(X)}else w++}}while(w<p.xoffsets.length-1||J);this._linesRenderInfo[b][q]=s}else this._linesRenderInfo[b][q]=s}var Y=this._linesRenderInfo[b],Z=[];for(var K in Y)Z.push(Y[K]);Z=Z.sort(function(a,b){return a.serieIndex-b.serieIndex}),e&&f&&Z.reverse();for(var K=0;K<Z.length;K++){var s=Z[K];this._animateLine(s,0==H?1:0);var $=this;this._enqueueAnimation("series",void 0,void 0,H,function(a,b,c){$._animateLine(b,c)},s)}}}}},_animateLine:function(a,b){for(var c=a.settings,d=a.groupIndex,e=a.serieIndex,f=this.seriesGroups[d],g=f.series[e],h=this._getSymbol(d,e),i=1==g.showLabels||f.showLabels&&0!=g.showLabels,j=0,k=0;k<a.segments.length;k++){var l=a.segments[k],m=this._calculateLine(d,a.pointsLength,j,l.pointsArray,l.pointsStart,l.yBase,b,a.isArea,a.swapXY);if(j+=l.pointsArray.length,""!=m){var n=m.split(" "),o=(n.length,m);o=""!=o?this._buildLineCmd(m,a.isRange,l.left,l.right,l.pyStart,l.pyEnd,l.yBase,a.isArea,a.isPolar,a.isSpline,a.swapXY):"M 0 0";var p=l.colorSettings;if(l.pathElement?this.renderer.attr(l.pathElement,{d:o}):(l.pathElement=this.renderer.path(o,{"stroke-width":c.stroke,stroke:p.lineColor,"stroke-opacity":c.opacity,"fill-opacity":c.opacity,"stroke-dasharray":c.dashStyle,fill:a.isArea?p.fillColor:"none"}),this._installHandlers(l.pathElement,"path",d,e,l.lastItemIndex)),l.labelElements){for(var q=0;q<l.labelElements.length;q++)this.renderer.removeElement(l.labelElements[q]);l.labelElements=[]}if(l.symbolElements){for(var q=0;q<l.symbolElements.length;q++)this.renderer.removeElement(l.symbolElements[q]);l.symbolElements=[]}if(l.pointsArray.length==n.length&&("none"!=h||i))for(var r=g.symbolSize,q=0;q<n.length;q++){var s=n[q].split(",");if(s={x:parseFloat(s[0]),y:parseFloat(s[1])},"none"!=h){var t=this._getColors(d,e,l.pointsArray[q].index,this._getGroupGradientType(d)),u=this._drawSymbol(h,s.x,s.y,t.fillColorSymbol,t.lineColorSymbol,1,c.opacity,r);l.symbolElements.push(u)}if(i){var v=(q>0?n[q-1]:n[q]).split(",");v={x:parseFloat(v[0]),y:parseFloat(v[1])};var w=(q<n.length-1?n[q+1]:n[q]).split(",");w={x:parseFloat(w[0]),y:parseFloat(w[1])},s=this._adjustLineLabelPosition(d,e,l.pointsArray[q].index,s,v,w);var x=this._showLabel(d,e,l.pointsArray[q].index,{x:s.x,y:s.y,width:0,height:0});l.labelElements.push(x)}}if(1==b&&"none"!=h)for(var q=0;q<l.symbolElements.length;q++)this._installHandlers(l.symbolElements[q],"symbol",d,e,l.pointsArray[q].index)}}},_adjustLineLabelPosition:function(a,b,c,d,e,f){var g=this._showLabel(a,b,c,{width:0,height:0},"","",!0),h={x:0,y:0};return d.y==e.y&&d.x==e.x?h=f.y<d.y?{x:d.x,y:d.y+g.height}:{x:d.x,y:d.y-g.height}:d.y==f.y&&d.x==f.x&&(h=e.y<d.y?{x:d.x,y:d.y+g.height}:{x:d.x,y:d.y-g.height}),h=d.y>e.y&&d.y>f.y?{x:d.x,y:d.y+g.height}:{x:d.x,y:d.y-g.height}},_calculateLine:function(b,c,d,e,f,g,h,i,j){var k=this.seriesGroups[b],l=void 0;(1==k.polar||1==k.spider)&&(l=this._getPolarAxisCoords(b,this._plotRect));var m="",n=e.length;if(!i&&0==f.length){var o=c*h;n=o-d}for(var p=0/0,q=0;n+1>q&&q<e.length;q++){q>0&&(m+=" ");var r=e[q].y,s=e[q].x,t=i?g:r,u=s;if(f&&f.length>q&&(t=f[q].y,u=f[q].x,(isNaN(t)||isNaN(u))&&(t=r,u=s)),p=u,n<=e.length&&q>0&&q==n&&(u=e[q-1].x,t=e[q-1].y),j?(s=a.jqx._ptrnd((s-t)*(i?h:1)+t),r=a.jqx._ptrnd(r)):(s=a.jqx._ptrnd((s-u)*h+u),r=a.jqx._ptrnd((r-t)*h+t)),l){var v=this._toPolarCoord(l,this._plotRect,s,r);s=v.x,r=v.y}m+=s+","+r,1!=e.length||i||(m+=" "+(s+2)+","+(r+2))}return m},_buildLineCmd:function(a,b,c,d,e,f,g,h,i,j,k){var l=a;if(h&&!i&&!b){var m=k?g+","+c:c+","+g,n=k?g+","+d:d+","+g;l=m+" "+a+" "+n}j&&(l=this._getBezierPoints(l));var o=l.split(" "),p=o[0].replace("C","");return l=h&&!i?b?"M "+p+" L "+p+(j?"":" L "+p+" ")+l:"M "+m+" L "+p+" "+l:j?"M "+p+" "+l:"M "+p+" L "+p+" "+l,i&&(l+=" Z"),l},_getSerieSettings:function(a,b){var c=this.seriesGroups[a],d=-1!=c.type.indexOf("area"),e=-1!=c.type.indexOf("line"),f=c.series[b],g=f.dashStyle||c.dashStyle||"",h=f.opacity||c.opacity;(isNaN(h)||0>h||h>1)&&(h=1);var i=f.lineWidth;return isNaN(i)&&"auto"!=i&&(i=c.lineWidth),("auto"==i||isNaN(i)||0>i||i>15)&&(i=d?2:e?3:1),{stroke:i,opacity:h,dashStyle:g}},_getColors:function(b,c,d,e,f){var g=this.seriesGroups[b],h=g.series[c],i=h.useGradient;void 0==i&&(i=h.useGradientColors),void 0==i&&(i=g.useGradient),void 0==i&&(i=g.useGradientColors),void 0==i&&(i=!0);var j=this._getSeriesColors(b,c,d);j.fillColor||(j.fillColor=color,j.fillColorSelected=a.jqx.adjustColor(color,1.1),j.lineColor=j.symbolColor=a.jqx.adjustColor(color,.9),j.lineColorSelected=j.symbolColorSelected=a.jqx.adjustColor(color,.9));var k=[[0,1.4],[100,1]],l=[[0,1],[25,1.1],[50,1.4],[100,1]],m=[[0,1.3],[90,1.2],[100,1]],n=0/0;if(isNaN(f)||(n=2==f?k:l),i)if("verticalLinearGradient"==e)j.fillColor=this.renderer._toLinearGradient(j.fillColor,!0,n||k),j.fillColorSelected=this.renderer._toLinearGradient(j.fillColorSelected,!0,n||k);else if("horizontalLinearGradient"==e)j.fillColor=this.renderer._toLinearGradient(j.fillColor,!1,n||l),j.fillColorSelected=this.renderer._toLinearGradient(j.fillColorSelected,!1,n||l);else if("radialGradient"==e){var o=void 0,n=k;("pie"==g.type||"donut"==g.type||g.polar)&&void 0!=d&&this._renderData[b]&&this._renderData[b].offsets[c]&&(o=this._renderData[b].offsets[c][d],n=m),j.fillColor=this.renderer._toRadialGradient(j.fillColor,n,o),j.fillColorSelected=this.renderer._toRadialGradient(j.fillColorSelected,n,o)}return j},_installHandlers:function(a,b,c,d,e){if(!this.enableEvents)return!1;var f=this,g=this.seriesGroups[c],h=this.seriesGroups[c].series[d],i=-1!=g.type.indexOf("line")||-1!=g.type.indexOf("area");i||(this.renderer.addHandler(a,"mousemove",function(a){a.preventDefault();var b=a.pageX||a.clientX||a.screenX,g=a.pageY||a.clientY||a.screenY,h=f.host.offset();b-=h.left,g-=h.top,(f._mouseX!=b||f._mouseY!=g)&&(f._ttEl&&f._ttEl.gidx==c&&f._ttEl.sidx==d&&f._ttEl.iidx==e||f._startTooltipTimer(c,d,e))}),this.renderer.addHandler(a,"mouseout",function(a){!isNaN(f._lastClickTs)&&(new Date).valueOf()-f._lastClickTs<100||(a.preventDefault(),void 0!=e&&f._cancelTooltipTimer(),i||f._unselect())})),this.renderer.addHandler(a,"mouseover",function(g){g.preventDefault(),f._select(a,b,c,d,e,e)}),this.renderer.addHandler(a,"click",function(){clearTimeout(f._hostClickTimer),f._lastClickTs=(new Date).valueOf(),i&&"symbol"!=b&&"pointMarker"!=b||(-1!=g.type.indexOf("column")&&f._unselect(),isNaN(e)||f._raiseItemEvent("click",g,h,e))})},_getHorizontalOffset:function(b,c,d,e){var f=this._plotRect,g=this._getDataLen(b);if(0==g)return{index:void 0,value:d};var h=this._calcGroupOffsets(b,this._plotRect);if(0==h.xoffsets.length)return{index:void 0,value:void 0};var i,j=d,k=e,l=this.seriesGroups[b];if((l.polar||l.spider)&&(i=this._getPolarAxisCoords(b,f)),"horizontal"==l.orientation&&!i){var m=j;j=k,k=m}for(var n,o,p,q,r=(1==this._getCategoryAxis(b).flip,h.xoffsets.first);r<=h.xoffsets.last;r++){var s=h.xoffsets.data[r],t=h.offsets[c][r].to,u=0;if(i){var v=this._toPolarCoord(i,f,s+f.x,t);s=v.x,t=v.y,u=a.jqx._ptdist(j,k,s,t)}else s+=f.x,t+=f.y,u=Math.abs(j-s);(isNaN(n)||n>u)&&(n=u,o=r,p=s,q=t)}return{index:o,value:h.xoffsets.data[o],polarAxisCoords:i,x:p,y:q}},onmousemove:function(b,c){if((this._mouseX!=b||this._mouseY!=c)&&(this._mouseX=b,this._mouseY=c,this._selected)){var d=this._selected.group,e=this._selected.series,f=this.seriesGroups[d],g=f.series[e],h=this._plotRect;if(this.renderer&&(h=this.renderer.getRect(),h.x+=5,h.y+=5,h.width-=10,h.height-=10),b<h.x||b>h.x+h.width||c<h.y||c>h.y+h.height)return this._hideToolTip(),void this._unselect();var i="horizontal"==f.orientation,h=this._plotRect;if(-1!=f.type.indexOf("line")||-1!=f.type.indexOf("area")){var j=this._getHorizontalOffset(d,this._selected.series,b,c),k=j.index;if(void 0==k)return;if(this._selected.item==k)return;for(var l=this._linesRenderInfo[d][e].segments,m=0;k>l[m].lastItemIndex;)if(m++,m>=l.length)return;var n=l[m].pathElement,o=l[m].lastItemIndex;this._unselect(!1),this._select(n,"path",d,e,k,o);var p=this._getSymbol(this._selected.group,this._selected.series);"none"==p&&(p="circle");var q=this._calcGroupOffsets(d,h),r=q.offsets[this._selected.series][k].to,s=r;-1!=f.type.indexOf("range")&&(s=q.offsets[this._selected.series][k].from);var t=i?b:c;if(c=!isNaN(s)&&Math.abs(t-s)<Math.abs(t-r)?s:r,isNaN(c))return;if(b=j.value,i){var u=b;b=c,c=u+h.y}else b+=h.x;if(j.polarAxisCoords&&(b=j.x,c=j.y),c=a.jqx._ptrnd(c),b=a.jqx._ptrnd(b),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(b)||isNaN(c))return;var v=this._getSeriesColors(d,e,k),w=g.opacity;(isNaN(w)||0>w||w>1)&&(w=f.opacity),(isNaN(w)||0>w||w>1)&&(w=1);var x=g.symbolSizeSelected;isNaN(x)&&(x=g.symbolSize),(isNaN(x)||x>50||0>x)&&(x=f.symbolSize),(isNaN(x)||x>50||0>x)&&(x=6),this._pointMarker={type:p,x:b,y:c,gidx:d,sidx:e,iidx:k},this._pointMarker.element=this._drawSymbol(p,b,c,v.fillColorSymbolSelected,v.lineColorSymbolSelected,1,w,x),this._installHandlers(this._pointMarker.element,"pointMarker",d,e,k),this._startTooltipTimer(d,this._selected.series,k)}}},_drawSymbol:function(a,b,c,d,e,f,g,h){var i,j=h||6,k=j/2;switch(a){case"none":return void 0;case"circle":i=this.renderer.circle(b,c,j/2);break;case"square":j-=1,k=j/2,i=this.renderer.rect(b-k,c-k,j,j);break;case"diamond":var l="M "+(b-k)+","+c+" L"+b+","+(c-k)+" L"+(b+k)+","+c+" L"+b+","+(c+k)+" Z";i=this.renderer.path(l);break;case"triangle_up":var l="M "+(b-k)+","+(c+k)+" L "+(b+k)+","+(c+k)+" L "+b+","+(c-k)+" Z";i=this.renderer.path(l);break;case"triangle_down":var l="M "+(b-k)+","+(c-k)+" L "+b+","+(c+k)+" L "+(b+k)+","+(c-k)+" Z";i=this.renderer.path(l);break;case"triangle_left":var l="M "+(b-k)+","+c+" L "+(b+k)+","+(c+k)+" L "+(b+k)+","+(c-k)+" Z";i=this.renderer.path(l);break;case"triangle_right":var l="M "+(b-k)+","+(c-k)+" L "+(b-k)+","+(c+k)+" L "+(b+k)+","+c+" Z";i=this.renderer.path(l);break;default:i=this.renderer.circle(b,c,j)}return this.renderer.attr(i,{fill:d,stroke:e,"stroke-width":f,"stroke-opacity":g,"fill-opacity":g}),i},_getSymbol:function(a,b){var c=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],d=this.seriesGroups[a],e=d.series[b],f=void 0;return void 0!=e.symbolType&&(f=e.symbolType),void 0==f&&(f=d.symbolType),"default"==f?c[b%c.length]:void 0!=f?f:"none"},_startTooltipTimer:function(a,b,c){this._cancelTooltipTimer();var d=this,e=(d.seriesGroups[a],this.toolTipShowDelay||this.toolTipDelay);(isNaN(e)||e>1e4||0>e)&&(e=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(e=0),clearTimeout(this._tttimerHide),0==e&&d._showToolTip(d._mouseX,d._mouseY-3,a,b,c),this._tttimer=setTimeout(function(){0!=e&&d._showToolTip(d._mouseX,d._mouseY-3,a,b,c);var f=d.toolTipHideDelay;isNaN(f)&&(f=4e3),d._tttimerHide=setTimeout(function(){d._hideToolTip(),d._unselect()},f)},e)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(a){var b=this.seriesGroups[a];return-1!=b.type.indexOf("area")?"horizontal"==b.orientation?"horizontalLinearGradient":"verticalLinearGradient":-1!=b.type.indexOf("column")?b.polar?"radialGradient":"horizontal"==b.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=b.type.indexOf("scatter")||-1!=b.type.indexOf("bubble")||-1!=b.type.indexOf("pie")||-1!=b.type.indexOf("donut")?"radialGradient":void 0},_select:function(a,b,c,d,e,f){if(this._selected){if(this._selected.item==e&&this._selected.series==d&&this._selected.group==c)return;this._unselect()}this._selected={element:a,type:b,group:c,series:d,item:e,iidxBase:f};var g=this.seriesGroups[c],h=g.series[d],i=-1!=g.type.indexOf("line")&&-1==g.type.indexOf("area"),j=this._getColors(c,d,f||e,this._getGroupGradientType(c)),k=j.fillColorSelected;i&&(k="none");var l=this._getSerieSettings(c,d),m="symbol"==b?j.lineColorSymbolSelected:j.lineColorSelected;k="symbol"==b?j.fillColorSymbolSelected:k;var n=l.stroke;this.renderer.attr(a,{stroke:m,fill:k,"stroke-width":n}),this._raiseItemEvent("mouseover",g,h,e)},_unselect:function(){var a=this;if(a._selected){var b=a._selected.group,c=a._selected.series,d=a._selected.item,e=a._selected.iidxBase,f=a._selected.type,g=a.seriesGroups[b],h=g.series[c],i=-1!=g.type.indexOf("line")&&-1==g.type.indexOf("area"),j=a._getColors(b,c,e||d,a._getGroupGradientType(b)),k=j.fillColor;i&&(k="none");var l=a._getSerieSettings(b,c),m="symbol"==f?j.lineColorSymbol:j.lineColor;k="symbol"==f?j.fillColorSymbol:k;var n=l.stroke;this.renderer.attr(a._selected.element,{stroke:m,fill:k,"stroke-width":n}),a._selected=void 0,isNaN(d)||a._raiseItemEvent("mouseout",g,h,d)}a._pointMarker&&(a._pointMarker.element&&(a.renderer.removeElement(a._pointMarker.element),a._pointMarker.element=void 0),a._pointMarker=void 0,a._hideCrosshairs())},_raiseItemEvent:function(b,c,d,e){for(var f=d[b]||c[b],g=0;g<this.seriesGroups.length&&this.seriesGroups[g]!=c;g++);if(g!=this.seriesGroups.length){var h={event:b,seriesGroup:c,serie:d,elementIndex:e,elementValue:this._getDataValue(e,d.dataField,g)};f&&a.isFunction(f)&&f(h),this._raiseEvent(b,h)}},_raiseEvent:function(b,c){var d=new a.Event(b);d.owner=this,d.args=c;var e=this.host.trigger(d);return e},_calcInterval:function(a,b,c){var d=Math.abs(b-a),e=d/c,f=[1,2,3,4,5,10,15,20,25,50,100],g=[.5,.25,.125,.1],h=.1,i=f;1>e&&(i=g,h=10);var j=0;do{j=0,e>=1?h*=10:h/=10;for(var k=1;k<i.length&&Math.abs(i[j]*h-e)>Math.abs(i[k]*h-e);k++)j=k}while(j==i.length-1);return i[j]*h},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh)for(var a=this._elementRenderInfo=[],b=0;b<this._renderData.length;b++){for(this._getCategoryAxis(b).dataField;a.length<=b;)a.push({});var c=a[b],d=this._renderData[b];if(d.offsets){if(d.valueAxis){c.valueAxis={itemOffsets:{}};for(var e in d.valueAxis.itemOffsets)c.valueAxis.itemOffsets[e]=d.valueAxis.itemOffsets[e]}if(d.xAxis){c.xAxis={itemOffsets:{}};for(var e in d.xAxis.itemOffsets)c.xAxis.itemOffsets[e]=d.xAxis.itemOffsets[e]}c.series=[];for(var f=c.series,g=this.seriesGroups[b].type,h=-1!=g.indexOf("pie")||-1!=g.indexOf("donut"),i=0;i<d.offsets.length;i++){f.push({});for(var j=0;j<d.offsets[i].length;j++)if(h){var k=d.offsets[i][j];f[i][k.displayValue]={value:k.value,x:k.x,y:k.y,fromAngle:k.fromAngle,toAngle:k.toAngle}}else f[i][d.xoffsets.xvalues[j]]={value:d.offsets[i][j].value,valueFrom:d.offsets[i][j].valueFrom,valueRadius:d.offsets[i][j].valueRadius,xoffset:d.xoffsets.data[j],from:d.offsets[i][j].from,to:d.offsets[i][j].to}}}}},_calcGroupOffsets:function(b,c){for(var d=this.seriesGroups[b];this._renderData.length<b+1;)this._renderData.push({});if(null!=this._renderData[b]&&void 0!=this._renderData[b].offsets)return this._renderData[b];if(-1!=d.type.indexOf("pie")||-1!=d.type.indexOf("donut"))return this._calcPieSeriesGroupOffsets(b,c);if(!d.valueAxis||!d.series||0==d.series.length)return this._renderData[b];var e=1==d.valueAxis.flip,f=1==d.valueAxis.logarithmicScale,g=d.valueAxis.logarithmicScaleBase||10,h=new Array,i=-1!=d.type.indexOf("stacked"),j=i&&-1!=d.type.indexOf("100"),k=-1!=d.type.indexOf("range"),l=-1!=d.type.indexOf("column"),m=this._getDataLen(b),n=d.baselineValue||d.valueAxis.baselineValue||0;(k||l&&i||j)&&(n=0);var o=this._stats.seriesGroups[b];if(o&&o.isValid){n>o.max&&(n=o.max),n<o.min&&(n=o.min);var p=j||f?o.maxRange:o.max-o.min,q=o.min,r=o.max,s=c.height/(f?o.intervals:p),t=0;j?0>q*r?(p/=2,t=-(p+n)*s):t=-n*s:t=-(n-q)*s,e?t=c.y-t:t+=c.y+c.height;var u,v,w=new Array,x=new Array,y=new Array;f&&(u=a.jqx.log(r,g)-a.jqx.log(n,g),i&&(u=o.intervals,n=j?0:q),v=o.intervals-u,e||(t=c.y+u/o.intervals*c.height)),t=a.jqx._ptrnd(t);var z=0>q*r?c.height/2:c.height,A=[],B=[];if(d.bands)for(var C=0;C<d.bands.length;C++){var D=d.bands[C].minValue,E=d.bands[C].maxValue;isNaN(D)&&(D=n),isNaN(E)&&(E=n);var F=0,G=0;f?(F=(a.jqx.log(D,g)-a.jqx.log(n,g))*s,G=(a.jqx.log(E,g)-a.jqx.log(n,g))*s):(F=(D-n)*s,G=(E-n)*s),this._isVML&&(F=Math.round(F),G=Math.round(G)),B.push(e?{from:t+G,to:t+F}:{from:t-G,to:t-F})}for(var H=[],I=l||!l&&!i||j||f,C=0;C<d.series.length;C++){!i&&f&&(A=[]);var J=d.series[C].dataField,K=d.series[C].dataFieldFrom,L=d.series[C].dataFieldTo,M=d.series[C].radiusDataField;h.push(new Array);for(var N=this._isSerieVisible(b,C),O=0;m>O;O++){for(;H.length<=O;)H.push(0);var P=0/0;k&&(P=this._getDataValueAsNumber(O,K,b),isNaN(P)&&(P=n));var Q=0/0;Q=k?this._getDataValueAsNumber(O,L,b):this._getDataValueAsNumber(O,J,b);var R=this._getDataValueAsNumber(O,M,b);if(N||(Q=0/0),isNaN(Q)||f&&0>=Q)h[C].push({from:void 0,to:void 0});else{var S;I?S=Q>=n?w:x:H[O]=Q=H[O]+Q;var T=s*(Q-n);if(k&&(T=s*(Q-P)),f){for(;A.length<=O;)A.push({p:{value:0,height:0},n:{value:0,height:0}});var U=k?P:n,V=Q>U?A[O].p:A[O].n;V.value+=Q,j?(Q=V.value/(o.psums[O]+o.nsums[O])*100,T=(a.jqx.log(Q,g)-o.minPow)*s):(T=a.jqx.log(V.value,g)-a.jqx.log(U,g),T*=s),T-=V.height,V.height+=T}var W=t;if(k){var X=0;X=f?(a.jqx.log(P,g)-a.jqx.log(n,g))*s:(P-n)*s,W+=e?X:-X}if(i){if(j&&!f){var Y=o.psums[O]-o.nsums[O];Q>n?(T=o.psums[O]/Y*z,0!=o.psums[O]&&(T*=Q/o.psums[O])):(T=o.nsums[O]/Y*z,0!=o.nsums[O]&&(T*=Q/o.nsums[O]))}I&&(isNaN(S[O])&&(S[O]=W),W=S[O])}isNaN(y[O])&&(y[O]=0);var Z=y[O];T=Math.abs(T);var $=T;if(h_new=this._isVML?Math.round(T):a.jqx._ptrnd(T)-1,T=Math.abs(T-h_new)>.5?Math.round(T):h_new,Z+=T-$,i||(Z=0),Math.abs(Z)>.5&&(Z>0?(T-=1,Z-=1):(T+=1,Z+=1)),y[O]=Z,C==d.series.length-1&&j){for(var _=0,ab=0;C>ab;ab++)_+=Math.abs(h[ab][O].to-h[ab][O].from);if(_+=T,z>_)if(T>.5)T=a.jqx._ptrnd(T+z-_);else for(var ab=C-1;ab>=0;){var bb=Math.abs(h[ab][O].to-h[ab][O].from);if(bb>1){h[ab][O].from>h[ab][O].to&&(h[ab][O].from+=z-_);break}ab--}}e&&(T*=-1);var cb=n>Q;k&&(cb=P>Q);var db=isNaN(P)?Q:{from:P,to:Q};cb?(I&&(S[O]+=T),h[C].push({from:W,to:W+T,value:db,valueFrom:P,valueRadius:R})):(I&&(S[O]-=T),h[C].push({from:W,to:W-T,value:db,valueFrom:P,valueRadius:R}))}}}var eb=this._renderData[b];return eb.baseOffset=t,eb.offsets=h,eb.bands=B,eb.xoffsets=this._calculateXOffsets(b,c.width),this._renderData[b]}},_calcPieSeriesGroupOffsets:function(b,c){for(var d=this._getDataLen(b),e=this.seriesGroups[b],f=this._renderData[b]={},g=f.offsets=[],h=0;h<e.series.length;h++){var i=e.series[h],j=i.minAngle;(isNaN(j)||0>j||j>360)&&(j=0);var k=i.maxAngle;(isNaN(k)||0>k||k>360)&&(k=360);var l=k-j,m=i.initialAngle||0;j>m&&(m=j),m>k&&(m=k);var n=m,o=i.radius||.4*Math.min(c.width,c.height);isNaN(o)&&(o=1);var p=i.innerRadius||0;(isNaN(p)||p>=o)&&(p=0);var q=i.centerOffset||0,r=a.jqx.getNum([i.offsetX,e.offsetX,c.width/2]),s=a.jqx.getNum([i.offsetY,e.offsetY,c.height/2]);g.push([]);for(var t=0,u=0,v=0;d>v;v++){var w=this._getDataValueAsNumber(v,i.dataField,b);isNaN(w)||(this._isSerieVisible(b,h,v)||1==i.hiddenPointsDisplay)&&(w>0?t+=w:u+=w)}var x=t-u;0==x&&(x=1);for(var v=0;d>v;v++){var w=this._getDataValueAsNumber(v,i.dataField,b);if(isNaN(w))g[h].push({});else{var y=i.displayText||i.displayField,z=this._getDataValue(v,y,b);void 0==z&&(z=v);var A=0,B=this._isSerieVisible(b,h,v);(B||1==i.hiddenPointsDisplay)&&(A=Math.abs(w)/x*l);
var C=c.x+r,D=c.y+s,E=q;a.isFunction(q)&&(E=q({seriesIndex:h,seriesGroupIndex:b,itemIndex:v})),isNaN(E)&&(E=0);var F={key:b+"_"+h+"_"+v,value:w,displayValue:z,x:C,y:D,fromAngle:n,toAngle:n+A,centerOffset:E,innerRadius:p,outerRadius:o,visible:B};g[h].push(F),n+=A}}}return f},_isPointSeriesOnly:function(){for(var a=0;a<this.seriesGroups.length;a++){var b=this.seriesGroups[a];if(-1==b.type.indexOf("line")&&-1==b.type.indexOf("area")&&-1==b.type.indexOf("scatter")&&-1==b.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var a=0;a<this.seriesGroups.length;a++){var b=this.seriesGroups[a];if(-1!=b.type.indexOf("column"))return!0}return!1},_alignValuesWithTicks:function(a){var b=this._isPointSeriesOnly(),c=this.seriesGroups[a],d=this._getCategoryAxis(a),e=void 0==d.valuesOnTicks?b:0!=d.valuesOnTicks;return void 0==a?e:void 0==c.valuesOnTicks?e:c.valuesOnTicks},_getYearsDiff:function(a,b){return b.getFullYear()-a.getFullYear()},_getMonthsDiff:function(a,b){return 12*(b.getFullYear()-a.getFullYear())+b.getMonth()-a.getMonth()},_getDateDiff:function(b,c,d,e){var f=0;switch("year"!=d&&"month"!=d&&(f=c.valueOf()-b.valueOf()),d){case"year":f=this._getYearsDiff(b,c);break;case"month":f=this._getMonthsDiff(b,c);break;case"day":f/=864e5;break;case"hour":f/=36e5;break;case"minute":f/=6e4;break;case"second":f/=1e3;break;case"millisecond":}return"year"!=d&&"month"!=d&&0!=e&&(f=a.jqx._rnd(f,1,!0)),f},_getAsDate:function(a,b){return a=this._castAsDate(a),"month"==b?new Date(a.getFullYear(),a.getMonth(),1):"year"==b?new Date(a.getFullYear(),0,1):"day"==b?new Date(a.getFullYear(),a.getMonth(),a.getDate()):a},_getCategoryAxisStats:function(a,b,c){for(var d,e,f=this._getDataLen(a),g="date"==b.type||"time"==b.type,h=g?this._castAsDate(b.minValue):this._castAsNumber(b.minValue),i=g?this._castAsDate(b.maxValue):this._castAsNumber(b.maxValue),j=h,k=i,l=void 0==b.type||"auto"==b.type,m=l||"basic"==b.type,n=0,o=0,p=0;f>p&&b.dataField;p++){var q=this._getDataValue(p,b.dataField,a);q=g?this._castAsDate(q):this._castAsNumber(q),isNaN(q)||(g?n++:o++,(isNaN(d)||d>q)&&(d=q),(isNaN(e)||q>=e)&&(e=q))}l&&(!g&&o==f||g&&n==f)&&(m=!1),m&&(d=0,e=f-1),isNaN(j)&&(j=d),isNaN(k)&&(k=e),g?(j=new Date(j),k=new Date(k),this._isDate(j)||(j=this._isDate(k)?k:new Date),this._isDate(k)||(k=this._isDate(j)?j:new Date)):(isNaN(j)&&(j=0),isNaN(k)&&(k=m?f-1:j)),void 0==d&&(d=j),void 0==e&&(e=k);var r,s;if(g){if(r=b.baseUnit,!r){r="day";var t=k.valueOf()-j.valueOf();r=1e3>t?"second":36e5>t?"minute":864e5>t?"hour":2592e6>t?"day":31104e6>t?"month":"year"}s="hour"==r||"minute"==r||"second"==r||"millisecond"==r}var u=b.unitInterval;return(isNaN(u)||0>=u)&&(u=this._estAxisInterval(j,k,a,c,r)),{min:j,max:k,dsRange:{min:d,max:e},useIndeces:m,isDateTime:g,isTimeUnit:s,dateTimeUnit:r,interval:u}},_getDefaultDTFormatFn:function(a){var b,c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return b="year"==a||"month"==a||"day"==a?function(a){return a.getDate()+"-"+c[a.getMonth()]+"-"+a.getFullYear()}:function(a){return a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}},_estimateDTIntCnt:function(a,b,c,d){var e=0,f=new Date(a),g=new Date(b);if(0>=c)return 1;for(;f.valueOf()<g.valueOf();)"millisecond"==d?f.setMilliseconds(f.getMilliseconds()+c):"second"==d?f.setSeconds(f.getSeconds()+c):"minute"==d?f.setMinutes(f.getMinutes()+c):"hour"==d?f.setHours(f.getHours()+c):"day"==d?f.setDate(f.getDate()+c):"month"==d?f.setMonth(f.getMonth()+c):"year"==d&&f.setFullYear(f.getFullYear()+c),e++;return e},_estAxisInterval:function(a,b,c,d,e){var f=[1,2,5,10,15,20,50,100,200,500],g=0,h=d/50;if(this._renderData&&this._renderData.length>c&&this._renderData[c].xAxis&&!isNaN(this._renderData[c].xAxis.avgWidth)){var i=Math.max(1,this._renderData[c].xAxis.avgWidth);0!=i&&(h=.9*d/i)}if(1>=h)return 1;for(var j=0;;){var k=g>=f.length?Math.pow(10,3+g-f.length):f[g];if(j=this._isDate(a)&&this._isDate(b)?this._estimateDTIntCnt(a,b,k,e):(b-a)/k,h>=j)return k;g++}},_getPaddingSize:function(b,c,d,e,f,g){var h=b.min,i=b.max,j=b.interval,k=b.dateTimeUnit;if(f)return{left:0,right:e/Math.max(1,i-h+1)*j};if(d&&!g)return{left:0,right:0};if(this._isDate(h)&&this._isDate(i)){var l=this._estimateDTIntCnt(h,i,Math.min(j,i-h),k),m=e/Math.max(2,l);return{left:m/2,right:m/2}}var l=Math.max(1,i-h);if(1==l)return n=e/4,{left:n,right:n};var m=e/l,n=m*j/2;g&&(n=Math.max(n,m/2));{var o=e-2*n;a.jqx._rnd(o/Math.max(1,m*j),1,!1)}m=o/l;var p=n-m*j/2;return n-=p,{left:n,right:n}},_calculateXOffsets:function(b,c){var d=this.seriesGroups[b],e=this._getCategoryAxis(b),f=new Array,g=new Array,h=this._getDataLen(b),i=this._getCategoryAxisStats(b,e,c),j=i.min,k=i.max,l=i.isDateTime,m=i.isTimeUnit,n=this._hasColumnSeries(),o=d.polar||d.spider,p=this._alignValuesWithTicks(b),q=this._getPaddingSize(i,e,p,c,o,n),r=k-j;0==r&&(r=1);var s=c-q.left-q.right;o&&p&&(q.left=q.right=0);for(var t=-1,u=-1,v=0;h>v;v++){var w=void 0===e.dataField?v:this._getDataValue(v,e.dataField,b);if(i.useIndeces){if(j>v||v>k){f.push(0/0),g.push(void 0);continue}f.push(a.jqx._ptrnd(q.left+(v-j)/r*s)),g.push(w),-1==t&&(t=v),(-1==u||v>u)&&(u=v)}else if(w=l?this._castAsDate(w):this._castAsNumber(w),isNaN(w)||j>w||w>k)f.push(0/0),g.push(void 0);else{var x=0;!l||l&&m?(diffFromMin=w-j,x=(w-j)*s/r):x=(w.valueOf()-j.valueOf())/(k.valueOf()-j.valueOf())*s,x=a.jqx._ptrnd(q.left+x),f.push(x),g.push(w),-1==t&&(t=v),(-1==u||v>u)&&(u=v)}}if(1==e.flip)for(var v=0;v<f.length;v++)isNaN(f[v])||(f[v]=c-f[v]);m&&(r=this._getDateDiff(j,k,e.baseUnit),r=a.jqx._rnd(r,1,!1));var y=Math.max(1,l?f.length:r),z=s/y;return t==u&&(f[t]=q.left+s/2),{axisStats:i,data:f,xvalues:g,first:t,last:u,length:-1==u?0:u-t+1,itemWidth:z,intervalWidth:z*i.interval,rangeLength:r,useIndeces:i.useIndeces,padding:q}},_getCategoryAxis:function(a){return void 0==a||this.seriesGroups.length<=a?this.categoryAxis||this.xAxis:this.seriesGroups[a].categoryAxis||this.seriesGroups[a].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(a,b){var c=this.seriesGroups[a],d=c.series[b];return 1==d.greyScale?!0:0==d.greyScale?!1:1==c.greyScale?!0:0==c.greyScale?!1:1==this.greyScale},_getSeriesColors:function(b,c,d){var e=this._getSeriesColorsInternal(b,c,d);if(this._isGreyScale(b,c))for(var f in e)e[f]=a.jqx.toGreyScale(e[f]);return e},_getColorFromScheme:function(a,b,c){var d="#000000",e=this.seriesGroups[a],f=e.series[b];if("pie"==e.type||"donut"==e.type){var g=this._getDataLen(a);d=this._getItemColorFromScheme(f.colorScheme||e.colorScheme||this.colorScheme,b*g+c,a,b)}else{for(var h=0,i=0;a>=i;i++)for(var j in this.seriesGroups[i].series){if(i==a&&j==b)break;h++}var k=this.colorScheme;if(e.colorScheme&&(k=e.colorScheme,sidex=seriesIndex),(void 0==k||""==k)&&(k=this.colorSchemes[0].name),!k)return d;for(var i=0;i<this.colorSchemes.length;i++){var l=this.colorSchemes[i];if(l.name==k){for(;h>l.colors.length;)h-=l.colors.length,++i>=this.colorSchemes.length&&(i=0),l=this.colorSchemes[i];d=l.colors[h%l.colors.length]}}}return d},_colorsCache:{get:function(a){return this._store[a]?this._store[a]:void 0},set:function(a){this._size<1e4&&(this._store[a],this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}},_getSeriesColorsInternal:function(b,c,d){var e=b+"_"+c+"_"+(isNaN(d)?"NaN":d);if(this._colorsCache.get(e))return this._colorsCache.get(e);var f=this.seriesGroups[b],g=f.series[c],h={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333"},i=void 0;if(a.isFunction(g.colorFunction)){var j=isNaN(d)?0/0:this._getDataValue(d,g.dataField,b);if(-1!=f.type.indexOf("range")){var k=this._getDataValue(d,g.dataFieldFrom,b),l=this._getDataValue(d,g.dataFieldTo,b);j={from:k,to:l}}if(i=g.colorFunction(j,d,g,f),"object"==typeof i)for(var m in i)h[m]=i[m];else h.fillColor=i}else{for(var m in h)g.key&&(h[m]=g[m]);g.fillColor||g.color?g.fillColor=g.fillColor||g.color:h.fillColor=this._getColorFromScheme(b,c,d)}var n={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},lineColor:{baseColor:"fillColor",adjust:.9},lineColorSelected:{baseColor:"lineColor",adjust:.8},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var m in h)"object"==typeof i&&i[m]||(h[m]=g[m]?g[m]:a.jqx.adjustColor(h[n[m].baseColor],n[m].adjust));return this._colorsCache.set(e,h),h},_getItemColorFromScheme:function(b,c,d,e){(void 0==b||""==b)&&(b=this.colorSchemes[0].name);for(var f=0;f<this.colorSchemes.length&&b!=this.colorSchemes[f].name;f++);for(var g=0;c>=g;){f==this.colorSchemes.length&&(f=0);var h=this.colorSchemes[f].colors.length;if(!(c>=g+h)){var i=this.colorSchemes[f].colors[c-g];return this._isGreyScale(d,e)&&0==i.indexOf("#")&&(i=a.jqx.toGreyScale(i)),i}g+=h,f++}},getColorScheme:function(a){for(var b in this.colorSchemes)if(this.colorSchemes[b].name==a)return this.colorSchemes[b].colors;return void 0},addColorScheme:function(a,b){for(var c in this.colorSchemes)if(this.colorSchemes[c].name==a)return void(this.colorSchemes[c].colors=b);this.colorSchemes.push({name:a,colors:b})},removeColorScheme:function(a){for(var b in this.colorSchemes)if(this.colorSchemes[b].name==a){this.colorSchemes.splice(b,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(b,c,d,e,f,g){if(void 0==b)return"";if(this._isObject(b)&&!d)return"";if(d){if(!a.isFunction(d))return b.toString();try{return d(b,g,f,e)}catch(h){return h.message}}return this._isNumber(b)?this._formatNumber(b,c):this._isDate(b)?this._formatDate(b,c):c?(c.prefix||"")+b.toString()+(c.sufix||""):b.toString()},_getFormattedValue:function(b,c,d,e,f){var g=this.seriesGroups[b],h=g.series[c],i="",j=e,k=f;if(k||(k=h.formatFunction||g.formatFunction),j||(j=h.formatSettings||g.formatSettings),!h.formatFunction&&h.formatSettings&&(k=void 0),-1!=g.type.indexOf("range")){var l=this._getDataValue(d,h.dataFieldFrom,b),m=this._getDataValue(d,h.dataFieldTo,b);if(k&&a.isFunction(k))try{return k({from:l,to:m},d,h,g)}catch(n){return n.message}void 0!=l&&(i=this._formatValue(l,j,k,b,c,d)),void 0!=m&&(i+=", "+this._formatValue(m,j,k,b,c,d))}else{var o=this._getDataValue(d,h.dataField,b);void 0!=o&&(i=this._formatValue(o,j,k,b,c,d))}return i||""},_isNumberAsString:function(b){if("string"!=typeof b)return!1;b=a.trim(b);for(var c=0;c<b.length;c++){var d=b.charAt(c);if(!(d>="0"&&"9">=d||","==d||"."==d||"-"==d&&0==c||"("==d&&0==c||")"==d&&c==b.length-1))return!1}return!0},_castAsDate:function(b){if(b instanceof Date&&!isNaN(b))return b;if("string"==typeof b){var c=new Date(b);if(isNaN(c))if(a.jqx.dataFormat){var d=a.jqx.dataFormat.tryparsedate(b);c=d?d:this._parseISO8601Date(b)}else c=this._parseISO8601Date(b);else-1==b.indexOf(":")&&c.setHours(0,0,0,0);if(void 0!=c&&!isNaN(c))return c}return void 0},_parseISO8601Date:function(a){var b=a.split(" ");if(b.length<0)return 0/0;var c=b[0].split("-"),d=2==b.length?b[1].split(":"):"",e=c[0],f=c.length>1?c[1]-1:0,g=c.length>2?c[2]:1,h=d[1],i=d.length>1?d[1]:0,h=d.length>2?d[2]:0,j=d.length>3?d[3]:0;return new Date(e,f,g,h,i,j)},_castAsNumber:function(a){if(a instanceof Date&&!isNaN(a))return a.valueOf();if("string"==typeof a)if(this._isNumber(a))a=parseFloat(a);else if(!/[a-zA-Z]/.test(a)){var b=new Date(a);void 0!=b&&(a=b.valueOf())}return a},_isNumber:function(a){return"string"==typeof a&&this._isNumberAsString(a)&&(a=parseFloat(a)),"number"==typeof a&&isFinite(a)},_isDate:function(a){return a instanceof Date&&!isNaN(a.getDate())},_isBoolean:function(a){return"boolean"==typeof a},_isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},_formatDate:function(a){return a.toString()},_formatNumber:function(a,b){if(!this._isNumber(a))return a;b=b||{};var c=b.decimalSeparator||".",d=b.thousandsSeparator||"",e=b.prefix||"",f=b.sufix||"",g=b.decimalPlaces;isNaN(g)&&(g=100*a!=100*parseInt(a)?2:0);var h=b.negativeWithBrackets||!1,i=0>a;i&&h&&(a*=-1);var j,k=a.toString(),l=Math.pow(10,g);if(k=(Math.round(a*l)/l).toString(),isNaN(k)&&(k=""),j=k.lastIndexOf("."),g>0)for(0>j?(k+=c,j=k.length-1):"."!==c&&(k=k.replace(".",c));k.length-1-j<g;)k+="0";j=k.lastIndexOf(c),j=j>-1?j:k.length;for(var m=k.substring(j),n=0,o=j;o>0;o--,n++)n%3===0&&o!==j&&(!i||o>1||i&&h)&&(m=d+m),m=k.charAt(o-1)+m;return k=m,i&&h&&(k="("+k+")"),e+k+f},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_getBezierPoints:function(b){for(var c=[],d=b.split(" "),e=0;e<d.length;e++){var f=d[e].split(",");c.push({x:parseFloat(f[0]),y:parseFloat(f[1])})}var g="";if(c.length<3)for(var e=0;e<c.length;e++)g+=(e>0?" ":"")+c[e].x+","+c[e].y;else for(var e=0;e<c.length-1;e++){var h=[];0==e?(h.push(c[e]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+2])):c.length-2==e?(h.push(c[e-1]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+1])):(h.push(c[e-1]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+2]));var i=[],j=e>3?9:5,k=0==e?81:j,l={x:(-h[0].x+k*h[1].x+h[2].x)/k,y:(-h[0].y+k*h[1].y+h[2].y)/k};0==e&&(k=j);var m={x:(h[1].x+k*h[2].x-h[3].x)/k,y:(h[1].y+k*h[2].y-h[3].y)/k};i.push({x:h[1].x,y:h[1].y}),i.push(l),i.push(m),i.push({x:h[2].x,y:h[2].y}),g+="C"+a.jqx._ptrnd(i[1].x)+","+a.jqx._ptrnd(i[1].y)+" "+a.jqx._ptrnd(i[2].x)+","+a.jqx._ptrnd(i[2].y)+" "+a.jqx._ptrnd(i[3].x)+","+a.jqx._ptrnd(i[3].y)+" "}return g},_animTickInt:50,_createAnimationGroup:function(a){this._animGroups||(this._animGroups={}),this._animGroups[a]={animations:[],startTick:0/0}},_startAnimation:function(a){var b=new Date,c=b.getTime();this._animGroups[a].startTick=c,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(a,b,c,d,e,f,g){0>d&&(d=0),void 0==g&&(g="easeInOutSine"),this._animGroups[a].animations.push({key:b,properties:c,duration:d,fn:e,context:f,easing:g})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var a=this;this._animtimer=setTimeout(function(){a._runAnimation()},this._animTickInt)}},_runAnimation:function(){if(this._animGroups){var b=new Date,c=b.getTime(),d={};for(var e in this._animGroups){for(var f=this._animGroups[e].animations,g=this._animGroups[e].startTick,h=0,i=0;i<f.length;i++){var j=f[i],k=c-g;j.duration>h&&(h=j.duration);var l=j.duration>0?k/j.duration:1,m=l;if(j.easing&&0!=j.duration&&(m=a.easing[j.easing](l,k,0,1,j.duration)),l>1&&(l=1,m=1),j.fn)j.fn(j.key,j.context,m);else{for(var n={},e=0;e<j.properties.length;e++){var o=j.properties[e],p=0;p=1==l?o.to:easeParecent*(o.to-o.from)+o.from,n[o.key]=p}this.renderer.attr(j.key,n)}}g+h>c&&(d[e]={startTick:g,animations:f})}this._animGroups=d,this.renderer instanceof a.jqx.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null;for(var e in this._animGroups){this._enableAnimTimer();break}}})}(jQuery),function(a){a.jqx.jqxWidget("jqxDraw","",{}),a.extend(a.jqx._jqxDraw.prototype,{defineInstance:function(){var b={renderEngine:""};a.extend(!0,this,b);var c=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var d in c)this._addFn(a.jqx._jqxDraw.prototype,c[d])},_addFn:function(a,b){a[b]||(a[b]=function(){return this.renderer[b].apply(this.renderer,arguments)})},createInstance:function(){},_initRenderer:function(b){return a.jqx.createRenderer(this,b)},_internalRefresh:function(){var b=this;if(!a.jqx.isHidden(b.host)){b.renderer||(b.host.empty(),b._initRenderer(b.host));var c=b.renderer;if(c){var d=c.getRect();b._render({x:1,y:1,width:d.width,height:d.height}),c instanceof a.jqx.HTML5Renderer&&c.refresh()}}},_saveAsImage:function(b,c,d,e){return a.jqx._widgetToImage(this,b,c,d,e)},_render:function(a){{var b=this;b.renderer}b._plotRect=a},refresh:function(){this._internalRefresh()},getSize:function(){var a=this._plotRect;return{width:a.width,height:a.height}},saveAsPNG:function(a,b,c){return this._saveAsImage("png",a,b,c)},saveAsJPEG:function(a,b,c){return this._saveAsImage("jpeg",a,b,c)}})}(jQuery),function(a){a.jqx.toGreyScale=function(b){if(-1==b.indexOf("#"))return b;var c=a.jqx.cssToRgb(b);c[0]=c[1]=c[2]=Math.round(.3*c[0]+.59*c[1]+.11*c[2]);var d=a.jqx.rgbToHex(c[0],c[1],c[2]);return"#"+d[0]+d[1]+d[2]},a.jqx.adjustColor=function(b,c){if("string"!=typeof b)return"#000000";if(-1==b.indexOf("#"))return b;var d=a.jqx.cssToRgb(b),e=a.jqx.rgbToHsl(d);e[2]=Math.min(1,e[2]*c),e[1]=Math.min(1,e[1]*c*1.1),d=a.jqx.hslToRgb(e);for(var b="#",f=0;3>f;f++){var g=Math.round(d[f]);g=a.jqx.decToHex(g),1==g.toString().length&&(b+="0"),b+=g}return b.toUpperCase()},a.jqx.decToHex=function(a){return a.toString(16)},a.jqx.hexToDec=function(a){return parseInt(a,16)},a.jqx.rgbToHex=function(b,c,d){return[a.jqx.decToHex(b),a.jqx.decToHex(c),a.jqx.decToHex(d)]},a.jqx.hexToRgb=function(b,c,d){return[a.jqx.hexToDec(b),a.jqx.hexToDec(c),a.jqx.hexToDec(d)]},a.jqx.cssToRgb=function(b){return b.indexOf("rgb")<=-1?a.jqx.hexToRgb(b.substring(1,3),b.substring(3,5),b.substring(5,7)):b.substring(4,b.length-1).split(",")},a.jqx.hslToRgb=function(c){var d=parseFloat(c[0]),e=parseFloat(c[1]),f=parseFloat(c[2]);if(0==e)r=g=b=f;else{var h=.5>f?f*(1+e):f+e-f*e,i=2*f-h;r=a.jqx.hueToRgb(i,h,d+1/3),g=a.jqx.hueToRgb(i,h,d),b=a.jqx.hueToRgb(i,h,d-1/3)}return[255*r,255*g,255*b]},a.jqx.hueToRgb=function(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a},a.jqx.rgbToHsl=function(a){var b,c,d=parseFloat(a[0])/255,e=parseFloat(a[1])/255,f=parseFloat(a[2])/255,g=Math.max(d,e,f),h=Math.min(d,e,f),i=(g+h)/2;if(g==h)b=c=0;else{var j=g-h;switch(c=i>.5?j/(2-g-h):j/(g+h),g){case d:b=(e-f)/j+(f>e?6:0);break;case e:b=(f-d)/j+2;break;case f:b=(d-e)/j+4}b/=6}return[b,c,i]},a.jqx.swap=function(a,b){var c=a;a=b,b=c},a.jqx.getNum=function(b){if(a.isArray(b)){for(var c=0;c<b.length;c++)if(!isNaN(b[c]))return b[c]}else if(isNaN(b))return 0;return 0},a.jqx._ptdist=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))},a.jqx._ptrnd=function(b){if(!document.createElementNS)return Math.round(b)==b?b:a.jqx._rnd(b,1,!1,!0);var c=a.jqx._rnd(b,.5,!1,!0);return.5!=Math.abs(c-Math.round(c))?c>b?c-.5:c+.5:c},a.jqx._rup=function(a){var b=Math.round(a);return a>b&&b++,b},a.jqx.log=function(a,b){return Math.log(a)/(b?Math.log(b):1)},a.jqx._mod=function(a,b){var c=Math.abs(a>b?b:a),d=1;if(0!=c)for(;100>c*d;)d*=10;return a*=d,b*=d,a%b/d},a.jqx._rnd=function(b,c,d,e){if(isNaN(b))return b;var f=b-(1==e?b%c:a.jqx._mod(b,c));return b==f?f:(d?b>f&&(f+=c):f>b&&(f-=c),f)},a.jqx.commonRenderer={pieSlicePath:function(a,b,c,d,e,f,g){d||(d=1);var h=Math.abs(e-f),i=h>180?1:0;h>=360&&(f=e+359.99);var j=e*Math.PI*2/360,k=f*Math.PI*2/360,l=a,m=a,n=b,o=b,p=!isNaN(c)&&c>0;if(p&&(g=0),g+c>0){if(g>0){var q=h/2+e,r=q*Math.PI*2/360;a+=g*Math.cos(r),b-=g*Math.sin(r)}if(p){var s=c;l=a+s*Math.cos(j),n=b-s*Math.sin(j),m=a+s*Math.cos(k),o=b-s*Math.sin(k)}}var t=a+d*Math.cos(j),u=a+d*Math.cos(k),v=b-d*Math.sin(j),w=b-d*Math.sin(k),x="";return p?(x="M "+m+","+o,x+=" a"+c+","+c,x+=" 0 "+i+",1 "+(l-m)+","+(n-o),x+=" L"+t+","+v,x+=" a"+d+","+d,x+=" 0 "+i+",0 "+(u-t)+","+(w-v)):(x="M "+u+","+w,x+=" a"+d+","+d,x+=" 0 "+i+",1 "+(t-u)+","+(v-w),x+=" L"+a+","+b+" Z"),x},measureText:function(b,c,d,e,f){var g=f._getTextParts(b,c,d),h=g.width,i=g.height;0==e&&(i/=.6);var j={};if(isNaN(c)&&(c=0),0==c)j={width:a.jqx._rup(h),height:a.jqx._rup(i)};else{var k=c*Math.PI*2/360,l=Math.abs(Math.sin(k)),m=Math.abs(Math.cos(k)),n=Math.abs(h*l+i*m),o=Math.abs(h*m+i*l);j={width:a.jqx._rup(o),height:a.jqx._rup(n)}}return e&&(j.textPartsInfo=g),j},alignTextInRect:function(b,c,d,e,f,g,h,i,j,k){var l=j*Math.PI*2/360,m=Math.sin(l),n=Math.cos(l),o=f*m,p=f*n;"center"==h||""==h||"undefined"==h?b+=d/2:"right"==h&&(b+=d),"center"==i||"middle"==i||""==i||"undefined"==i?c+=e/2:"bottom"==i?c+=e-g/2:"top"==i&&(c+=g/2),k=k||"";var q="middle";-1!=k.indexOf("top")?q="top":-1!=k.indexOf("bottom")&&(q="bottom");var r="center";return-1!=k.indexOf("left")?r="left":-1!=k.indexOf("right")&&(r="right"),"center"==r?(b-=p/2,c-=o/2):"right"==r&&(b-=p,c-=o),"top"==q?(b-=g*m,c+=g*n):"middle"==q&&(b-=g*m/2,c+=g*n/2),b=a.jqx._rup(b),c=a.jqx._rup(c),{x:b,y:c}}},a.jqx.svgRenderer=function(){},a.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(a){var b="<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td><div class='chartContainer' onselectstart='return false;'></div></td></tr></table>";a.append(b),this.host=a;var c=a.find(".chartContainer");c[0].style.width=a.width()+"px",c[0].style.height=a.height()+"px";try{var d=document.createElementNS(this._svgns,"svg");d.setAttribute("id","svgChart"),d.setAttribute("version","1.1"),d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("overflow","hidden"),c[0].appendChild(d),this.canvas=d}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var b=a(this.canvas).position(),c=parseFloat(b.left)==parseInt(b.left),d=parseFloat(b.top)==parseInt(b.top);if(a.jqx.browser.msie){for(var c=!0,d=!0,e=this.host,f=0,g=0;e&&e.position&&e[0].parentNode;){var h=e.position();f+=parseFloat(h.left)-parseInt(h.left),g+=parseFloat(h.top)-parseInt(h.top),e=e.parent()}c=parseFloat(f)==parseInt(f),d=parseFloat(g)==parseInt(g)}c||(this.host.find("#tdLeft")[0].style.width="0.5px"),d||(this.host.find("#tdTop")[0].style.height="0.5px")},_layout:function(){var b=(a(this.canvas).offset(),this.host.find(".chartContainer"));this._width=Math.max(a.jqx._rup(this.host.width())-1,0),this._height=Math.max(a.jqx._rup(this.host.height())-1,0),b[0].style.width=this._width,b[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(a){if(void 0!=a){this.removeHandler(a);try{for(;a.firstChild;)this.removeElement(a.firstChild);a.parentNode?a.parentNode.removeChild(a):this.canvas.removeChild(a)}catch(b){}}},_openGroups:[],beginGroup:function(){var a=this._activeParent(),b=document.createElementNS(this._svgns,"g");return a.appendChild(b),this._openGroups.push(b),b},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(a){var b=document.createElementNS(this._svgns,"clipPath"),c=document.createElementNS(this._svgns,"rect");return this.attr(c,{x:a.x,y:a.y,width:a.width,height:a.height,fill:"none"}),this._clipId=this._clipId||0,b.id="cl"+this._id+"_"+(++this._clipId).toString(),b.appendChild(c),this._defs.appendChild(b),b},setClip:function(a,b){return this.attr(a,{"clip-path":"url(#"+b.id+")"})},_clipId:0,addHandler:function(b,c,d){a(b).on?a(b).on(c,d):a(b).bind(c,d)},removeHandler:function(b,c,d){a(b).off?a(b).off(c,d):a(b).unbind(c,d)},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},shape:function(a,b){var c=document.createElementNS(this._svgns,a);if(!c)return void 0;for(var d in b)c.setAttribute(d,b[d]);return this._activeParent().appendChild(c),c},_getTextParts:function(b,c,d){var e={width:0,height:0,parts:[]},f=.6,g=b.toString().split("<br>"),h=this._activeParent(),i=document.createElementNS(this._svgns,"text");this.attr(i,d);for(var j=0;j<g.length;j++){var k=g[j],l=i.ownerDocument.createTextNode(k);i.appendChild(l),h.appendChild(i);var m;try{m=i.getBBox()}catch(n){}var o=a.jqx._rup(m.width),p=a.jqx._rup(m.height*f);i.removeChild(l),e.width=Math.max(e.width,o),e.height+=p+(j>0?4:0),e.parts.push({width:o,height:p,text:k})}return h.removeChild(i),e},_measureText:function(b,c,d,e){return a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(b,c,d,e,f,g,h,i,j,k,l){var m,n=this._measureText(b,g,h,!0),o=n.textPartsInfo,p=o.parts;if(j||(j="center"),k||(k="center"),(p.length>1||i)&&(m=this.beginGroup()),i){var q=this.createClipRect({x:a.jqx._rup(c)-1,y:a.jqx._rup(d)-1,width:a.jqx._rup(e)+2,height:a.jqx._rup(f)+2});this.setClip(m,q)}var r=this._activeParent(),s=0,t=0;s=o.width,t=o.height,(isNaN(e)||0>=e)&&(e=s),(isNaN(f)||0>=f)&&(f=t);var u=e||0,v=f||0;if(!g||0==g){d+=t,"center"==k||"middle"==k?d+=(v-t)/2:"bottom"==k&&(d+=v-t),e||(e=s),f||(f=t);for(var r=this._activeParent(),w=0,x=p.length-1;x>=0;x--){var y=document.createElementNS(this._svgns,"text");this.attr(y,h),this.attr(y,{cursor:"default"});var z=y.ownerDocument.createTextNode(p[x].text);y.appendChild(z);var A=c,B=p[x].width,C=p[x].height;"center"==j?A+=(u-B)/2:"right"==j&&(A+=u-B),this.attr(y,{x:a.jqx._rup(A),y:a.jqx._rup(d+w),width:a.jqx._rup(B),height:a.jqx._rup(C)}),r.appendChild(y),w-=p[x].height+4}return m?(this.endGroup(),m):y}var D=a.jqx.commonRenderer.alignTextInRect(c,d,e,f,s,t,j,k,g,l);c=D.x,d=D.y;var E=this.shape("g",{transform:"translate("+c+","+d+")"}),F=this.shape("g",{transform:"rotate("+g+")"});E.appendChild(F);for(var w=0,x=p.length-1;x>=0;x--){var G=document.createElementNS(this._svgns,"text");this.attr(G,h),this.attr(G,{cursor:"default"});var z=G.ownerDocument.createTextNode(p[x].text);G.appendChild(z);var A=0,B=p[x].width,C=p[x].height;"center"==j?A+=(o.width-B)/2:"right"==j&&(A+=o.width-B),this.attr(G,{x:a.jqx._rup(A),y:a.jqx._rup(w),width:a.jqx._rup(B),height:a.jqx._rup(C)}),F.appendChild(G),w-=C+4}return r.appendChild(E),m&&this.endGroup(),E},line:function(a,b,c,d,e){var f=this.shape("line",{x1:a,y1:b,x2:c,y2:d});return this.attr(f,e),f},path:function(a,b){var c=this.shape("path");return c.setAttribute("d",a),b&&this.attr(c,b),c},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=a.jqx._rup(d),e=a.jqx._rup(e);var g=this.shape("rect",{x:b,y:c,width:d,height:e});return f&&this.attr(g,f),g},circle:function(a,b,c,d){var e=this.shape("circle",{cx:a,cy:b,r:c});return d&&this.attr(e,d),e},pieSlicePath:function(b,c,d,e,f,g,h){return a.jqx.commonRenderer.pieSlicePath(b,c,d,e,f,g,h)},pieslice:function(a,b,c,d,e,f,g,h){var i=this.pieSlicePath(a,b,c,d,e,f,g),j=this.shape("path");return j.setAttribute("d",i),h&&this.attr(j,h),j},attr:function(a,b){if(a&&b)for(var c in b)"textContent"==c?a.textContent=b[c]:a.setAttribute(c,b[c])},getAttr:function(a,b){return a.getAttribute(b)},_gradients:{},_toLinearGradient:function(b,c,d){var e="grd"+this._id+b.replace("#","")+(c?"v":"h"),f="url(#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"linearGradient");this.attr(g,{x1:"0%",y1:"0%",x2:c?"0%":"100%",y2:c?"100%":"0%",id:e});for(var h in d){var i=document.createElementNS(this._svgns,"stop"),j="stop-color:"+a.jqx.adjustColor(b,d[h][1]);this.attr(i,{offset:d[h][0]+"%",style:j}),g.appendChild(i)}return this._defs.appendChild(g),this._gradients[f]=!0,f},_toRadialGradient:function(b,c,d){var e="grd"+this._id+b.replace("#","")+"r"+(void 0!=d?d.key:""),f="url(#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"radialGradient");void 0==d?this.attr(g,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:e}):this.attr(g,{cx:d.x,cy:d.y,r:d.outerRadius,id:e,gradientUnits:"userSpaceOnUse"});for(var h in c){var i=document.createElementNS(this._svgns,"stop"),j="stop-color:"+a.jqx.adjustColor(b,c[h][1]);this.attr(i,{offset:c[h][0]+"%",style:j}),g.appendChild(i)}return this._defs.appendChild(g),this._gradients[f]=!0,f}},a.jqx.vmlRenderer=function(){},a.jqx.vmlRenderer.prototype={init:function(b){var c="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";b.append(c),this.host=b;var d=b.find(".chartContainer");d[0].style.width=b.width()+"px",d[0].style.height=b.height()+"px";var e=!0;try{for(var f=0;f<document.namespaces.length;f++)if("v"==document.namespaces[f].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[f].urn){e=!1;break}}catch(g){return!1}return a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(e&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):e&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=d[0],this._width=Math.max(a.jqx._rup(d.width()),0),this._height=Math.max(a.jqx._rup(d.height()),0),d[0].style.width=this._width+2,d[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(a){null!=a&&(this.removeHandler(a),a.parentNode.removeChild(a))},_openGroups:[],beginGroup:function(){var a=this._activeParent(),b=document.createElement("v:group");return b.style.position="absolute",b.coordorigin="0,0",b.coordsize=this._width+","+this._height,b.style.left=0,b.style.top=0,b.style.width=this._width,b.style.height=this._height,a.appendChild(b),this._openGroups.push(b),b},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()
},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(a){var b=document.createElement("div");return b.style.height=a.height+1+"px",b.style.width=a.width+1+"px",b.style.position="absolute",b.style.left=a.x+"px",b.style.top=a.y+"px",b.style.overflow="hidden",this._clipId=this._clipId||0,b.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(b),b},setClip:function(){},_clipId:0,addHandler:function(b,c,d){a(b).on?a(b).on(c,d):a(b).bind(c,d)},removeHandler:function(b,c,d){a(b).off?a(b).off(c,d):a(b).unbind(c,d)},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},_getTextParts:function(b,c,d){var e={width:0,height:0,parts:[]},f=.6,g=b.toString().split("<br>"),h=this._activeParent(),i=document.createElement("v:textbox");this.attr(i,d),h.appendChild(i);for(var j=0;j<g.length;j++){var k=g[j],l=document.createElement("span");l.appendChild(document.createTextNode(k)),i.appendChild(l),d&&d["class"]&&(l.className=d["class"]);var m=a(i),n=a.jqx._rup(m.width()),o=a.jqx._rup(m.height()*f);if(0==o&&a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9){var p=m.css("font-size");p&&(o=parseInt(p),isNaN(o)&&(o=0))}i.removeChild(l),e.width=Math.max(e.width,n),e.height+=o+(j>0?2:0),e.parts.push({width:n,height:o,text:k})}return h.removeChild(i),e},_measureText:function(b,c,d,e){return c=Math.abs(c)>45?90:0,a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(b,c,d,e,f,g,h,i,j,k){var l;h&&h.stroke&&(l=h.stroke),void 0==l&&(l="black");var m=this._measureText(b,g,h,!0),n=m.textPartsInfo,o=n.parts,p=m.width,q=m.height;(isNaN(e)||0==e)&&(e=p),(isNaN(f)||0==f)&&(f=q);var r;if(j||(j="center"),k||(k="center"),(o.length>0||i)&&(r=this.beginGroup()),i){var s=this.createClipRect({x:a.jqx._rup(c),y:a.jqx._rup(d),width:a.jqx._rup(e),height:a.jqx._rup(f)});this.setClip(r,s)}var t=this._activeParent(),u=e||0,v=f||0;g=Math.abs(g)>45?90:0;var w=0,x=0;"center"==j?w+=(u-p)/2:"right"==j&&(w+=u-p),"center"==k?x=(v-q)/2:"bottom"==k&&(x=v-q),0==g?(d+=q+x,c+=w):(c+=p+w,d+=x);for(var y,z=0,A=o.length-1;A>=0;A--){var B=o[A],C=(p-B.width)/2;0==g&&"left"==j?C=0:0==g&&"right"==j?C=p-B.width:90==g&&(C=(q-B.width)/2);var D=z-B.height;x=90==g?C:D,w=90==g?D:C,y=document.createElement("v:textbox"),y.style.position="absolute",y.style.left=a.jqx._rup(c+w),y.style.top=a.jqx._rup(d+x),y.style.width=a.jqx._rup(B.width),y.style.height=a.jqx._rup(B.height),90==g&&(y.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)");var E=document.createElement("span");E.appendChild(document.createTextNode(B.text)),h&&h["class"]&&(E.className=h["class"]),y.appendChild(E),t.appendChild(y),z-=B.height+(A>0?2:0)}return r?(this.endGroup(),t):y},shape:function(a,b){var c=document.createElement(this._createElementMarkup(a));if(!c)return void 0;for(var d in b)c.setAttribute(d,b[d]);return this._activeParent().appendChild(c),c},line:function(a,b,c,d,e){var f="M "+a+","+b+" L "+c+","+d+" X E",g=this.path(f);return this.attr(g,e),g},_createElementMarkup:function(a){var b="<v:"+a+' style=""></v:'+a+">";return this._ie8mode&&(b=b.replace('style=""','style="behavior: url(#default#VML);"')),b},path:function(a,b){var c=document.createElement(this._createElementMarkup("shape"));return c.style.position="absolute",c.coordsize=this._width+" "+this._height,c.coordorigin="0 0",c.style.width=parseInt(this._width),c.style.height=parseInt(this._height),c.style.left="0px",c.style.top="0px",c.setAttribute("path",a),this._activeParent().appendChild(c),b&&this.attr(c,b),c},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=a.jqx._rup(d),e=a.jqx._rup(e);var g=this.shape("rect",f);return g.style.position="absolute",g.style.left=b,g.style.top=c,g.style.width=d,g.style.height=e,g.strokeweight=0,f&&this.attr(g,f),g},circle:function(b,c,d,e){var f=this.shape("oval");return b=a.jqx._ptrnd(b-d),c=a.jqx._ptrnd(c-d),d=a.jqx._rup(d),f.style.position="absolute",f.style.left=b,f.style.top=c,f.style.width=2*d,f.style.height=2*d,e&&this.attr(f,e),f},updateCircle:function(b,c,d,e){void 0==c&&(c=parseFloat(b.style.left)+parseFloat(b.style.width)/2),void 0==d&&(d=parseFloat(b.style.top)+parseFloat(b.style.height)/2),void 0==e&&(e=parseFloat(b.width)/2),c=a.jqx._ptrnd(c-e),d=a.jqx._ptrnd(d-e),e=a.jqx._rup(e),b.style.left=c,b.style.top=d,b.style.width=2*e,b.style.height=2*e},pieSlicePath:function(b,c,d,e,f,g,h){e||(e=1);var i=Math.abs(f-g);i>360&&(f=0,g=360);var j=f*Math.PI*2/360,k=g*Math.PI*2/360,l=b,m=b,n=c,o=c,p=!isNaN(d)&&d>0;if(p&&(h=0),h>0){var q=i/2+f,r=q*Math.PI*2/360;b+=h*Math.cos(r),c-=h*Math.sin(r)}if(p){var s=d;l=a.jqx._ptrnd(b+s*Math.cos(j)),n=a.jqx._ptrnd(c-s*Math.sin(j)),m=a.jqx._ptrnd(b+s*Math.cos(k)),o=a.jqx._ptrnd(c-s*Math.sin(k))}var t=(a.jqx._ptrnd(b+e*Math.cos(j)),a.jqx._ptrnd(b+e*Math.cos(k))),u=(a.jqx._ptrnd(c-e*Math.sin(j)),a.jqx._ptrnd(c-e*Math.sin(k)));e=a.jqx._ptrnd(e),d=a.jqx._ptrnd(d),b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c);var v=Math.round(65535*f),w=Math.round(65536*(g-f));0>d&&(d=1);var x="";return p?(x="M"+l+" "+n,x+=" AE "+b+" "+c+" "+d+" "+d+" "+v+" "+w,x+=" L "+t+" "+u,v=Math.round(65535*(f-g)),w=Math.round(65536*g),x+=" AE "+b+" "+c+" "+e+" "+e+" "+w+" "+v,x+=" L "+l+" "+n):(x="M"+b+" "+c,x+=" AE "+b+" "+c+" "+e+" "+e+" "+v+" "+w),x+=" X E"},pieslice:function(a,b,c,d,e,f,g,h){var i=this.pieSlicePath(a,b,c,d,e,f,g),j=this.path(i,h);return h&&this.attr(j,h),j},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(a){for(var b in this._keymap)if(this._keymap[b].svg==a)return this._keymap[b].vml;return a},attr:function(a,b){if(a&&b)for(var c in b){var d=this._translateParam(c);"fillcolor"==d&&-1!=b[c].indexOf("grd")?a.type=b[c]:"fillcolor"==d&&"transparent"==b[c]?(a.style.filter="alpha(opacity=0)",a["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==d||"fillopacity"==d?a.fill&&(a.fill.opacity=b[c]):"textContent"==d?a.children[0].innerText=b[c]:"dashstyle"==d?a.dashstyle=b[c].replace(","," "):-1==d.indexOf("style.")?a[d]=b[c]:a.style[d.replace("style.","")]=b[c]}},getAttr:function(a,b){var c=this._translateParam(b);return"opacity"==c||"fillopacity"==c?a.fill?a.fill.opacity:1:-1==c.indexOf("style.")?a[c]:a.style[c.replace("style.","")]},_gradients:{},_toRadialGradient:function(a){return a},_toLinearGradient:function(b,c,d){if(this._ie8mode)return b;var e="grd"+b.replace("#","")+(c?"v":"h"),f="#"+e;if(this._gradients[f])return f;var g=document.createElement(this._createElementMarkup("fill"));g.type="gradient",g.method="linear",g.angle=c?0:90;var h="";for(var i in d)i>0&&(h+=", "),h+=d[i][0]+"% "+a.jqx.adjustColor(b,d[i][1]);g.colors=h;var j=document.createElement(this._createElementMarkup("shapetype"));return j.appendChild(g),j.id=e,this.canvas.appendChild(j),f}},a.jqx.HTML5Renderer=function(){},a.jqx.ptrnd=function(a){if(.5==Math.abs(Math.round(a)-a))return a;var b=Math.round(a);return a>b&&(b-=1),b+.5},a.jqx.HTML5Renderer.prototype={_elements:{},init:function(a){try{this.host=a,this.host.append("<canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/>"),this.canvas=a.find("#__jqxCanvasWrap"),this.canvas[0].width=a.width(),this.canvas[0].height=a.height(),this.ctx=this.canvas[0].getContext("2d")}catch(b){return!1}return!0},getContainer:function(){return this.canvas&&1==this.canvas.length?this.canvas:void 0},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(){},addHandler:function(){},removeHandler:function(){},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(a){void 0!=a&&this._elements[a.id]&&delete this._elements[a.id]},_maxId:0,shape:function(a,b){var c={type:a,id:this._maxId++};for(var d in b)c[d]=b[d];return this._elements[c.id]=c,c},attr:function(a,b){for(var c in b)a[c]=b[c]},rect:function(a,b,c,d,e){if(isNaN(a))throw'Invalid value for "x"';if(isNaN(b))throw'Invalid value for "y"';if(isNaN(c))throw'Invalid value for "width"';if(isNaN(d))throw'Invalid value for "height"';var f=this.shape("rect",{x:a,y:b,width:c,height:d});return e&&this.attr(f,e),f},path:function(a,b){var c=this.shape("path",b);return this.attr(c,{d:a}),c},line:function(a,b,c,d,e){return this.path("M "+a+","+b+" L "+c+","+d,e)},circle:function(a,b,c,d){var e=this.shape("circle",{x:a,y:b,r:c});return d&&this.attr(e,d),e},pieSlicePath:function(b,c,d,e,f,g,h){return a.jqx.commonRenderer.pieSlicePath(b,c,d,e,f,g,h)},pieslice:function(a,b,c,d,e,f,g,h){var i=this.path(this.pieSlicePath(a,b,c,d,e,f,g),h);return this.attr(i,{x:a,y:b,innerRadius:c,outerRadius:d,angleFrom:e,angleTo:f}),i},_getCSSStyle:function(a){var b=document.styleSheets;try{for(var c=0;c<b.length;c++)for(var d=0;b[c].cssRules&&d<b[c].cssRules.length;d++)if(-1!=b[c].cssRules[d].selectorText.indexOf(a))return b[c].cssRules[d].style}catch(e){}return{}},_getTextParts:function(b,c,d){var e="Arial",f="10pt",g="";if(d&&d["class"]){var h=this._getCSSStyle(d["class"]);h.fontSize&&(f=h.fontSize),h.fontFamily&&(e=h.fontFamily),h.fontWeight&&(g=h.fontWeight)}this.ctx.font=g+" "+f+" "+e;for(var i={width:0,height:0,parts:[]},j=.6,k=b.toString().split("<br>"),l=0;l<k.length;l++){var m=k[l],n=this.ctx.measureText(m).width,o=document.createElement("span");o.font=this.ctx.font,o.textContent=m,document.body.appendChild(o);var p=o.offsetHeight*j;document.body.removeChild(o),i.width=Math.max(i.width,a.jqx._rup(n)),i.height+=p+(l>0?4:0),i.parts.push({width:n,height:p,text:m})}return i},_measureText:function(b,c,d,e){return a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(a,b,c,d,e,f,g,h,i,j,k){var l=this.shape("text",{text:a,x:b,y:c,width:d,height:e,angle:f,clip:h,halign:i,valign:j,rotateAround:k});if(g&&this.attr(l,g),l.fontFamily="Arial",l.fontSize="10pt",l.fontWeight="",l.color="#000000",g&&g["class"]){var m=this._getCSSStyle(g["class"]);l.fontFamily=m.fontFamily||l.fontFamily,l.fontSize=m.fontSize||l.fontSize,l.fontWeight=m.fontWeight||l.fontWeight,l.color=m.color||l.color}var n=this._measureText(a,0,g,!0);return this.attr(l,{textPartsInfo:n.textPartsInfo,textWidth:n.width,textHeight:n.height}),(0>=d||isNaN(d))&&this.attr(l,{width:n.width}),(0>=e||isNaN(e))&&this.attr(l,{height:n.height}),l},_toLinearGradient:function(b,c,d){if(this._renderers._gradients[b])return b;for(var e=[],f=0;f<d.length;f++)e.push({percent:d[f][0]/100,color:a.jqx.adjustColor(b,d[f][1])});var g="gr"+this._gradientId++;return this.createGradient(g,c?"vertical":"horizontal",e),g},_toRadialGradient:function(b,c){if(this._renderers._gradients[b])return b;for(var d=[],e=0;e<c.length;e++)d.push({percent:c[e][0]/100,color:a.jqx.adjustColor(b,c[e][1])});var f="gr"+this._gradientId++;return this.createGradient(f,"radial",d),f},_gradientId:0,createGradient:function(a,b,c){this._renderers.createGradient(a,b,c)},_renderers:{_gradients:{},createGradient:function(a,b,c){this._gradients[a]={orientation:b,colorStops:c}},setStroke:function(a,b){a.strokeStyle=b.stroke||"transparent",a.lineWidth=b["stroke-width"]||1,a.globalAlpha=b["fill-opacity"]?b["fill-opacity"]:1,a.setLineDash&&a.setLineDash(b["stroke-dasharray"]?b["stroke-dasharray"].split(","):[])},setFillStyle:function(b,c){if(b.fillStyle="transparent",b.globalAlpha=c["fill-opacity"]?c["fill-opacity"]:1,c.fill&&-1==c.fill.indexOf("#")&&this._gradients[c.fill]){var d,e="horizontal"!=this._gradients[c.fill].orientation,f="radial"==this._gradients[c.fill].orientation,g=a.jqx.ptrnd(c.x),h=a.jqx.ptrnd(c.y),i=a.jqx.ptrnd(c.x+(e?0:c.width)),j=a.jqx.ptrnd(c.y+(e?c.height:0));"circle"!=c.type&&"path"!=c.type||!f||(x=a.jqx.ptrnd(c.x),y=a.jqx.ptrnd(c.y),r1=c.innerRadius||0,r2=c.outerRadius||c.r||0,d=b.createRadialGradient(x,y,r1,x,y,r2)),f||((isNaN(g)||isNaN(i)||isNaN(h)||isNaN(j))&&(g=0,h=0,i=e?0:b.canvas.width,j=e?b.canvas.height:0),d=b.createLinearGradient(g,h,i,j));for(var k=this._gradients[c.fill].colorStops,l=0;l<k.length;l++)d.addColorStop(k[l].percent,k[l].color);b.fillStyle=d}else c.fill&&(b.fillStyle=c.fill)},rect:function(b,c){0!=c.width&&0!=c.height&&(b.fillRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height),b.strokeRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height))},circle:function(b,c){0!=c.r&&(b.beginPath(),b.arc(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.r,0,2*Math.PI,!1),b.closePath(),b.fill(),b.stroke())},_parsePoint:function(a){var b=this._parseNumber(a),c=this._parseNumber(a);return{x:b,y:c}},_parseNumber:function(a){for(var b=!1,c=this._pos;c<a.length;c++)if(a[c]>="0"&&a[c]<="9"||"."==a[c]||"-"==a[c]&&!b)b=!0;else{if(b||" "!=a[c]&&","!=a[c])break;this._pos++}var d=parseFloat(a.substring(this._pos,c));return isNaN(d)?void 0:(this._pos=c,d)},_pos:0,_cmds:"mlcaz",_lastCmd:"",_isRelativeCmd:function(b){return a.jqx.string.contains(this._cmds,b)},_parseCmd:function(b){for(var c=this._pos;c<b.length;c++){if(a.jqx.string.containsIgnoreCase(this._cmds,b[c]))return this._pos=c+1,this._lastCmd=b[c],this._lastCmd;if(" "!=b[c]){if(b[c]>="0"&&b[c]<="9"){if(this._pos=c,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}return void 0},_toAbsolutePoint:function(a){return{x:this._currentPoint.x+a.x,y:this._currentPoint.y+a.y}},_currentPoint:{x:0,y:0},path:function(a,b){var c=b.d;this._pos=0,this._lastCmd="";var d=void 0;this._currentPoint={x:0,y:0},a.beginPath();for(;this._pos<c.length;){var e=this._parseCmd(c);if(void 0==e)break;if("M"!=e&&"m"!=e)if("L"!=e&&"l"!=e)if("A"!=e&&"a"!=e)if("Z"!=e&&"z"!=e||void 0==d)if("C"!=e&&"c"!=e);else{var f=this._parsePoint(c),g=this._parsePoint(c),h=this._parsePoint(c);a.bezierCurveTo(f.x,f.y,g.x,g.y,h.x,h.y),this._currentPoint=h}else a.lineTo(d.x,d.y),this._currentPoint=d;else{var i=this._parseNumber(c),j=this._parseNumber(c),k=this._parseNumber(c)*(Math.PI/180),l=this._parseNumber(c),m=this._parseNumber(c),n=this._parsePoint(c);if(this._isRelativeCmd(e)&&(n=this._toAbsolutePoint(n)),0==i||0==j)continue;var o=this._currentPoint,p={x:Math.cos(k)*(o.x-n.x)/2+Math.sin(k)*(o.y-n.y)/2,y:-Math.sin(k)*(o.x-n.x)/2+Math.cos(k)*(o.y-n.y)/2},q=Math.pow(p.x,2)/Math.pow(i,2)+Math.pow(p.y,2)/Math.pow(j,2);q>1&&(i*=Math.sqrt(q),j*=Math.sqrt(q));var r=(l==m?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(j,2)-Math.pow(i,2)*Math.pow(p.y,2)-Math.pow(j,2)*Math.pow(p.x,2))/(Math.pow(i,2)*Math.pow(p.y,2)+Math.pow(j,2)*Math.pow(p.x,2)));isNaN(r)&&(r=0);var s={x:r*i*p.y/j,y:r*-j*p.x/i},t={x:(o.x+n.x)/2+Math.cos(k)*s.x-Math.sin(k)*s.y,y:(o.y+n.y)/2+Math.sin(k)*s.x+Math.cos(k)*s.y},u=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},v=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(u(a)*u(b))},w=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(v(a,b))},x=w([1,0],[(p.x-s.x)/i,(p.y-s.y)/j]),y=[(p.x-s.x)/i,(p.y-s.y)/j],z=[(-p.x-s.x)/i,(-p.y-s.y)/j],A=w(y,z);v(y,z)<=-1&&(A=Math.PI),v(y,z)>=1&&(A=0),0==m&&A>0&&(A-=2*Math.PI),1==m&&0>A&&(A+=2*Math.PI);var v=i>j?i:j,B=i>j?1:i/j,C=i>j?j/i:1;a.translate(t.x,t.y),a.rotate(k),a.scale(B,C),a.arc(0,0,v,x,x+A,1-m),a.scale(1/B,1/C),a.rotate(-k),a.translate(-t.x,-t.y)}else{var D=this._parsePoint(c);if(void 0==D)break;a.lineTo(D.x,D.y),this._currentPoint=D}else{var D=this._parsePoint(c);if(void 0==D)break;a.moveTo(D.x,D.y),this._currentPoint=D,void 0==d&&(d=D)}}a.fill(),a.stroke(),a.closePath()},text:function(b,c){var d=a.jqx.ptrnd(c.x),e=a.jqx.ptrnd(c.y),f=a.jqx.ptrnd(c.width),g=a.jqx.ptrnd(c.height),h=c.halign,i=c.valign,j=c.angle,k=c.rotateAround,l=c.textPartsInfo,m=l.parts,n=c.clip;void 0==n&&(n=!0),b.save(),h||(h="center"),i||(i="center"),n&&(b.rect(d,e,f,g),b.clip());var o=c.textWidth,p=c.textHeight,q=f||0,r=g||0;if(b.fillStyle=c.color,b.font=c.fontWeight+" "+c.fontSize+" "+c.fontFamily,!j||0==j){e+=p,"center"==i||"middle"==i?e+=(r-p)/2:"bottom"==i&&(e+=r-p),f||(f=o),g||(g=p);for(var s=0,t=m.length-1;t>=0;t--){{var u=m[t],v=d,w=m[t].width;m[t].height}"center"==h?v+=(q-w)/2:"right"==h&&(v+=q-w),b.fillText(u.text,v,e+s),s-=u.height+(t>0?4:0)}return void b.restore()}var x=a.jqx.commonRenderer.alignTextInRect(d,e,f,g,o,p,h,i,j,k);d=x.x,e=x.y;var y=j*Math.PI*2/360;b.translate(d,e),b.rotate(y);for(var s=0,z=l.width,t=m.length-1;t>=0;t--){var v=0;"center"==h?v+=(z-m[t].width)/2:"right"==h&&(v+=z-m[t].width),b.fillText(m[t].text,v,s),s-=m[t].height+4}b.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var a in this._elements){var b=this._elements[a];this._renderers.setFillStyle(this.ctx,b),this._renderers.setStroke(this.ctx,b),this._renderers[this._elements[a].type](this.ctx,b)}}},a.jqx.createRenderer=function(b,c){var d=b,e=d.renderer=null;if(document.createElementNS&&"HTML5"!=d.renderEngine&&"VML"!=d.renderEngine&&(e=new a.jqx.svgRenderer,!e.init(c))){if("SVG"==d.renderEngine)throw"Your browser does not support SVG";return null}if(null==e&&"HTML5"!=d.renderEngine){if(e=new a.jqx.vmlRenderer,!e.init(c)){if("VML"==d.renderEngine)throw"Your browser does not support VML";return null}d._isVML=!0}if(null==e&&("HTML5"==d.renderEngine||void 0==d.renderEngine)&&(e=new a.jqx.HTML5Renderer,!e.init(c)))throw"Your browser does not support HTML5 Canvas";return d.renderer=e,e},a.jqx._widgetToImage=function(b,c,d,e,f){var g=b;if(!g)return!1;(void 0==d||""==d)&&(d="image."+c);var h=g.renderEngine,i=g.enableAnimations;if(g.enableAnimations=!1,g.renderEngine="HTML5",g.renderEngine!=h)try{g.refresh()}catch(j){return g.renderEngine=h,g.refresh(),g.enableAnimations=i,!1}var k=g.renderer.getContainer()[0],l=a.jqx.exportImage(k,c,d,e,f);return g.renderEngine!=h&&(g.renderEngine=h,g.refresh(),g.enableAnimations=i),l},a.jqx.exportImage=function(b,c,d,e,f){if(!b)return!1;if((void 0==d||""==d)&&(d="image."+c),void 0==e||""==e)throw"Please specifiy export server";var g=!0;try{if(b){var h=b.toDataURL("image/"+c);if(h=h.replace("data:image/"+c+";base64,",""),f)a.ajax({dataType:"string",url:e,type:"POST",data:{content:h,fname:d},async:!1,success:function(){g=!0},error:function(){g=!1}});else{var i=document.createElement("form");i.method="POST",i.action=e,i.style.display="none",document.body.appendChild(i);var j=document.createElement("input");j.name="fname",j.value=d,j.style.display="none";var k=document.createElement("input");k.name="content",k.value=h,k.style.display="none",i.appendChild(j),i.appendChild(k),i.submit(),document.body.removeChild(i),g=!0}}}catch(l){g=!1}return g}}(jQuery),function(a){function b(b,d){var e=b.nodeName.toLowerCase();if("area"===e){var f,g=b.parentNode,h=g.name;return b.href&&h&&"map"===g.nodeName.toLowerCase()?(f=a("img[usemap=#"+h+"]")[0],!!f&&c(f)):!1}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||d:d)&&c(b)}function c(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.css(this,"visibility")||a.expr.filters.hidden(this)}).length}function d(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}a.jqx.jqxWidget("jqxWindow","",{}),a.extend(a.jqx._jqxWindow.prototype,{defineInstance:function(){this.height="auto",this.width=200,this.minHeight=50,this.maxHeight=600,this.minWidth=50,this.maxWidth=800,this.showCloseButton=!0,this.disabled=!1,this.autoOpen=!0,this.keyboardCloseKey="esc",this.title="",this.content="",this.draggable=!0,this.resizable=!0,this.animationType="fade",this.closeAnimationDuration=250,this.showAnimationDuration=250,this.isModal=!1,this.position="center",this.closeButtonSize=16,this.closeButtonAction="hide",this.modalOpacity=.3,this.dragArea=null,this.okButton=null,this.cancelButton=null,this.dialogResult={OK:!1,Cancel:!1,None:!0},this.collapsed=!1,this.showCollapseButton=!1,this.collapseAnimationDuration=150,this.collapseButtonSize=16,this.rtl=!1,this.keyboardNavigation=!0,this.headerHeight=null,this._events=["created","closed","moving","moved","open","collapse","expand","open","close","resize"],this.initContent=null,this.enableResize=!0,this.restricter=null,this.closing=null,this._invalidArgumentExceptions={invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},this._enableResizeCollapseBackup,this._enableResizeBackup,this._heightBeforeCollapse,this._minHeightBeforeCollapse,this._mouseDown=!1,this._isDragging=!1,this._rightContentWrapper=null,this._leftContentWrapper=null,this._headerContentWrapper=null,this._closeButton=null,this._collapseButton=null,this._title=null,this._content=null,this._mousePosition={},this._windowPosition={},this._modalBackground=null,this._SCROLL_WIDTH=21,this._visible=!0,this.modalBackgroundZIndex=12990,this.modalZIndex=18e3,this.zIndex=9001,this._touchEvents={mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:a.jqx.mobile.getTouchEventName("touchstart")}},createInstance:function(){this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.detach(),a(document.body).append(this.host);var b=this,c=function(){var c=parseInt(a(b.restricter).css("padding-top")),d=parseInt(a(b.restricter).css("padding-left")),e=parseInt(a(b.restricter).css("padding-bottom")),f=parseInt(a(b.restricter).css("padding-right")),g=a(b.restricter).coord();b.dragArea={left:d+g.left,top:c+g.top,width:1+f+a(b.restricter).width(),height:1+e+a(b.restricter).height()}};if(this.restricter&&c(),this.restricter&&(this.addHandler(a(window),"resize."+this.element.id,function(){c()}),this.addHandler(a(window),"orientationchanged."+this.element.id,function(){c()}),this.addHandler(a(window),"orientationchange."+this.element.id,function(){c()})),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||this.host.css("display","none"),a.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var d=this;d.initContent&&(d.initContent(),d._contentInitialized=!0),this.isModal&&this._fixWindowZIndex("modal-show"),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(b){var c=a.data(document.body,"jqxwindows-list")||[],d=this.zIndex;if(this.isModal){c&&(c=this._removeFromArray(this.host,c),a.data(document.body,"jqxwindows-list",c));var e=a.data(document.body,"jqxwindows-modallist");if(e)if("modal-show"==b)e.push(this.host);else{var f=e.indexOf(this.host);-1!=f&&e.splice(f,1)}else if("modal-show"==b){var g=new Array;g.push(this.host),a.data(document.body,"jqxwindows-modallist",g),e=g}else a.data(document.body,"jqxwindows-modallist",new Array),e=new Array;d=this.modalZIndex;return a.each(e,function(){if(this.data()&&this.data().jqxWindow){var a=this.data().jqxWindow.instance;a._modalBackground.css("z-index",d),a.host.css("z-index",d+1),d+=2}}),void a.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,c)<0&&c.push(this.host),a.data(document.body,"jqxwindows-list",c),c.length>1){var h=c[c.length-2];d=parseInt(h.css("z-index"),10)+1}this.host.css("z-index",d),this._sortByStyle("z-index",c)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(a){alert(a)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight>this.maxHeight)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth>this.maxWidth)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&("undefined"==typeof this.dragArea.width||"undefined"==typeof this.dragArea.height||"undefined"==typeof this.dragArea.left||"undefined"==typeof this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var b=a.data(document.body,"jqxwindows-list")||[],c=b.length;c;)if(c-=1,a(b[c].attr("id")).length>0&&a(b[c].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var b=this.host.children("DIV");if(1===b.length)this._header=a("<div>"+this.host.attr("caption")+"</div>"),this.host.prepend(this._header),this.host.attr("caption",""),this._content=a(b[0]);else{if(2!==b.length)throw new Error("Invalid structure!");this._header=a(b[0]),this._content=a(b[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header.wrapInner('<div style="float:left;"></div>'),this._headerContentWrapper=this._header.children(0),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=a('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),this._closeButton=a('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>'),this._closeButtonWrapper.append(this._closeButton),this._header.append(this._closeButtonWrapper))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=a('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>'),this._collapseButton=a('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"></div>'),this._collapseButtonWrapper.append(this._collapseButton),this._header.append(this._collapseButtonWrapper))},_removeModal:function(){!this.isModal&&"object"==typeof this._modalBackground&&null!==this._modalBackground&&this._modalBackground.length>=1&&(a("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus()},10)}catch(b){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var b=a.data(document.body,"jqxwindows-list");b&&(this._removeFromArray(this.host,b),a.data(document.body,"jqxwindows-list",b)),this._modalBackground=a("<div></div>"),this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal")),this._setModalBackgroundStyles(),a(document.body).append(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var c=this,d=function(b,c){var d=a(b).parents().get();for(j=0;j<d.length;j++)if(a(d[j]).is(c))return!0;return!1};this.addHandler(this._modalBackground,"mouseup",function(a){c._stopResizing(c),a.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(a){var b=c._getTabbables();return b.length>0&&(b[0].focus(1),setTimeout(function(){b[0].focus(1)},100)),a.preventDefault(),!1}),this.addHandler(a(document),"keydown.window"+this.element.id,function(b){if(9===b.keyCode){var e=a.data(document.body,"jqxwindows-modallist");
if(!(e.length>1&&e[e.length-1][0]!=c.element)){var f=c._getTabbables(),g=null,h=null;if(f.length>0&&(g=f[0],h=f[f.length-1]),b.target!=c.element&&null!=g)return d(b.target,c.host)&&(b.target!==h||b.shiftKey)?b.target===g&&b.shiftKey?(h.focus(1),!1):void 0:(g.focus(1),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this.host.children().css("tab-index",0)),this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header.css("position","relative"),this.rtl?(this._headerContentWrapper.css("direction","rtl"),this._headerContentWrapper.css("float","right")):(this._headerContentWrapper.css("direction","ltr"),this._headerContentWrapper.css("float","left")),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){this._closeButtonWrapper&&(this.showCloseButton?(this._closeButtonWrapper.css("visibility","visible"),this._closeButtonWrapper.width(this.closeButtonSize),this._closeButtonWrapper.height(this.closeButtonSize)):this._closeButtonWrapper.css("visibility","hidden"),this.showCollapseButton?(this._collapseButtonWrapper.css("visibility","visible"),this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize)):this._collapseButtonWrapper.css("visibility","hidden"))},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var a=parseInt(this._header.css("padding-right"),10);isNaN(a)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper.css("margin-left",a),this._closeButtonWrapper.css("margin-right","0px")):(this._closeButtonWrapper.css("margin-right",a),this._closeButtonWrapper.css("margin-left","0px"))),this._closeButtonWrapper.css(this.rtl?{position:"absolute",left:"0px",right:""}:{position:"absolute",right:"0px",left:""})}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var a=parseInt(this._header.css("padding-right"),10);isNaN(a)||(this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize),this.rtl?(this._collapseButtonWrapper.css("margin-left",a),this._collapseButtonWrapper.css("margin-right","0px")):(this._collapseButtonWrapper.css("margin-right",a),this._collapseButtonWrapper.css("margin-left","0px"))),this._collapseButtonWrapper.css(this.rtl?{position:"absolute",left:this.showCloseButton?this._closeButton.outerWidth(!0):0,right:""}:{position:"absolute",right:this.showCloseButton?this._closeButton.outerWidth(!0):0,left:""}),this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")}},_performWidgetLayout:function(){var a;"auto"!==this.width&&this.host.css("width",this.width),this.collapsed||(this.host.height("auto"!==this.height?this.height:this.host.height()),this.host.css("min-height",this.minHeight)),this._setChildrenLayout(),a=this._validateMinSize(),this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth}),a||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var a=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),a=!1);var b=this._header.children(0).outerWidth(!0),c=this._header.children(1).outerWidth(!0),d=b+c;return this.minWidth<100&&(this.minWidth=Math.min(d,100),a=!1),a},_centerElement:function(a,b,c,d){"number"==typeof b.left&&"number"==typeof b.top&&"number"==typeof b.height&&"number"==typeof b.width?this._centerElementInArea(a,b,c):this._centerElementInParent(a,b,c,d)},_centerElementInParent:function(a,b,c,d){if(c=c.toLowerCase(),d?d+="-":d="",c.indexOf("y")>=0){var e=a.outerHeight(!0),f=b.height(),g=Math.max(0,f-e)/2;a.css(d+"top",g+"px")}if(c.indexOf("x")>=0){var h=a.outerWidth(!0),i=b.width(),j=Math.max(0,i-h)/2;a.css(d+"left",j+"px")}},_centerElementInArea:function(a,b,c){if(c=c.toLowerCase(),c.indexOf("y")>=0){var d=a.outerHeight(!0),e=b.height,f=(e-d)/2;a.css("top",f+b.top+"px")}if(c.indexOf("x")>=0){var g=a.outerWidth(!0),h=b.width,i=(h-g)/2;a.css("left",i+b.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(a,b){var c=this._indexOf(a,b);return c>=0?b.splice(this._indexOf(a,b),1):b},_sortByStyle:function(a,b){for(var c=0;c<b.length;c++)for(var d=b.length-1;d>c;d--){var e,f=b[d],g=b[d-1];parseInt(f.css(a),10)<parseInt(g.css(a),10)&&(e=f,b[d]=g,b[d-1]=e)}},_initializeResize:function(){if(this.resizable){var a=this;this.initResize({target:this.host,alsoResize:a._content,maxWidth:a.maxWidth,minWidth:a.minWidth,maxHeight:a.maxHeight,minHeight:a.minHeight,indicatorSize:10,resizeParent:a.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var a=this;this.addHandler(this._header,this._getEvent("mousemove"),function(){a._addHeaderCursorHandlers(a)})},_addResizeHandlers:function(){this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(a){var b=a.data.self;b._header.width(b.host.width()-(b._header.outerWidth(!0)-b._header.width())),b.width=a.args.width,b.height=a.args.height},_addHeaderHoverEffect:function(){var b=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){a(this).addClass(b.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){a(this).removeClass(b.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var b=this;this.isModal&&this.addHandler(a(window),"resize.window"+this.element.id,function(){"object"==typeof b._modalBackground&&null!==b._modalBackground&&(b.isOpen()&&b._modalBackground.hide(),b.restricter?(b._modalBackground.css("left",b.dragArea.left),b._modalBackground.css("top",b.dragArea.top),b._modalBackground.width(b.dragArea.width),b._modalBackground.height(b.dragArea.height)):(b._modalBackground.width(b._getDocumentSize().width),b._modalBackground.height(b._getDocumentSize().height)),b.isOpen()&&b._modalBackground.show())})},_setDialogResultHandler:function(a){var b=a.data.self;b._setDialogResult(a.data.result),b.closeWindow()},_setDialogResult:function(a){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,a=a.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var b=a.jqx.browser.msie&&a.jqx.browser.version<9,c=b?4:0,d=c;return document.body.scrollHeight>document.body.clientHeight&&b&&(c=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&b&&(d=this._SCROLL_WIDTH),{width:a(document).width()-c,height:a(document).height()-d}},_closeButtonHover:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){a._closeButton.addClass(a.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){a._closeButton.removeClass(a.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){a._collapseButton.addClass(a.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){a._collapseButton.removeClass(a.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){this.isModal&&(this._modalBackground.fadeTo(0,this.modalOpacity),this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex}),this.autoOpen||this._modalBackground.css("display","none"))},_addFocusHandlers:function(){var a=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){a.isModal||a.bringToFront()})},_indexOf:function(a,b){for(var c=0;c<b.length;c++)if(b[c][0]===a[0])return c;return-1},_addCloseHandlers:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("click"),function(b){return a._closeWindow(b)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(b){b.keyCode===a.keyboardCloseKey&&null!=a.keyboardCloseKey&&"none"!=a.keyboardCloseKey?a._closeWindow(b):a._handleKeys(b)},{self:this}),this.addHandler(this.host,"keyup",function(){if(a.keyboardNavigation&&a._moved){var b=a.host.coord(),c=b.left,d=b.top;a._raiseEvent(3,c,d,c,d),a._moved=!1}})},_handleKeys:function(b){if(this.keyboardNavigation&&this._headerFocused&&!a(document.activeElement).ischildof(this._content)){var c=b.ctrlKey,d=b.keyCode,e=this.host.coord(),f=e.left,g=e.top,h=this._getDraggingArea(),i=this.host.width(),j=this.host.height(),k=!0,l=10;switch(d){case 37:c?this.resizable&&this.resize(i-l,j):this.draggable&&f-l>=0&&this.move(f-l,g),k=!1;break;case 38:c?this.resizable&&this.resize(i,j-l):this.draggable&&g-l>=0&&this.move(f,g-l),k=!1;break;case 39:c?this.resizable&&this.resize(i+l,j):this.draggable&&f+i+l<=h.width&&this.move(f+l,g),k=!1;break;case 40:c?this.resizable&&this.resize(i,j+l):this.draggable&&g+j+l<=h.height&&this.move(f,g+l),k=!1}return k||(b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation()),k}},_addCollapseHandlers:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){a.collapsed?a.expand():a.collapse()})},_closeWindow:function(){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(a){return a.resizeArea&&a.resizable&&!a.collapsed?void a._header.css("cursor",a._resizeWrapper.css("cursor")):a.draggable?void a._header.css("cursor","move"):(a._header.css("cursor","default"),void(a._resizeWrapper&&a._resizeWrapper.length>0&&a._resizeWrapper.css("cursor","default")))},_addDragDropHandlers:function(){if(this.draggable){var b=this;this.addHandler(this.host,"focus",function(){b._headerFocused=!0}),this.addHandler(this.host,"blur",function(){b._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return b._headerFocused=!0,!1}),this.addHandler(this._header,this._getEvent("mousedown"),function(a){return b._headerMouseDownHandler(b,a),!0}),this.addHandler(this._header,"dragstart",function(a){return a.preventDefault&&a.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(a){return b._headerMouseMoveHandler(b,a)}),this.addHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(a){return b._dragHandler(b,a)}),this.addHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(a){return b._dropHandler(b,a)});try{if(""!=document.referrer||window.frameElement){var c=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(c=document.referrer),c&&-1!=c.indexOf(document.location.host)){var d=function(a){b._dropHandler(b,a)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",d,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",d)}}}catch(e){}}},_headerMouseDownHandler:function(b,c){if(b.isModal||b.bringToFront(),null==b._resizeDirection){var d=a.jqx.mobile.getTouches(c),e=(d[0],a.jqx.position(c));b._mousePosition.x=e.left,b._mousePosition.y=e.top,b._mouseDown=!0,b._isDragging=!1}},_headerMouseMoveHandler:function(b,c){if(b._mouseDown&&!b._isDragging){var d=a.jqx.mobile.getTouches(c),e=d[0],f=e.pageX,g=e.pageY,h=a.jqx.position(c);return f=h.left,g=h.top,(f+3<b._mousePosition.x||f-3>b._mousePosition.x||g+3<b._mousePosition.y||g-3>b._mousePosition.y)&&(b._isDragging=!0,b._mousePosition={x:f,y:g},b._windowPosition={x:b.host.coord().left,y:b.host.coord().top},a(document.body).addClass(b.toThemeProperty("jqx-disableselect"))),b._isTouchDevice?(c.preventDefault(),!0):!1}return b._isDragging?b._isTouchDevice?(c.preventDefault(),!0):!1:!0},_dropHandler:function(b,c){var d=!0;if(b._isDragging&&!b.isResizing&&!b._resizeDirection){var e=parseInt(b.host.css("left"),10),f=parseInt(b.host.css("top"),10),g=b._isTouchDevice?0:c.pageX,h=b._isTouchDevice?0:c.pageY;b.enableResize=b._enableResizeBackup,b._enableResizeBackup="undefined",b._raiseEvent(3,e,f,g,h),d=!1,"undefined"!=c.preventDefault&&c.preventDefault(),null!=c.originalEvent&&(c.originalEvent.mouseHandled=!0),"undefined"!=c.stopPropagation&&c.stopPropagation()}return b._isDragging=!1,b._mouseDown=!1,a(document.body).removeClass(b.toThemeProperty("jqx-disableselect")),d},_dragHandler:function(b,c){if(b._isDragging&&!b.isResizing&&!b._resizeDirection){var d=b._isTouchDevice?c.originalEvent.which:c.which;if("undefined"==typeof b._enableResizeBackup&&(b._enableResizeBackup=b.enableResize),b.enableResize=!1,0===d&&a.jqx.browser.msie&&a.jqx.browser.version<8)return b._dropHandler(b,c);var e=a.jqx.mobile.getTouches(c),f=(e[0],a.jqx.position(c)),g=f.left,h=f.top,i=g-b._mousePosition.x,j=h-b._mousePosition.y,k=b._windowPosition.x+i,l=b._windowPosition.y+j;return b.move(k,l,c),c.preventDefault(),!1}return!0},_validateCoordinates:function(a,b,c,d){var e=this._getDraggingArea();a=a<e.left?e.left:a,b=b<e.top?e.top:b;var f=this.host.outerWidth(!0),g=this.host.outerHeight(!0);return a+f>=e.width+e.left-2*d&&(a=e.width+e.left-f-d),b+g>=e.height+e.top-c&&(b=e.height+e.top-g-c),{x:a,y:b}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.host.css({left:this.position[0],top:this.position[1]});else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!=this.position.y)this.host.css({left:this.position.x,top:this.position.y});else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var a=this.position.center.coord(),b=parseInt(this.host.css("left")),c=parseInt(this.host.css("top"));this.host.css({left:b+a.left,top:c+a.top})}}else this._positionFromLiteral()},_getDraggingArea:function(){var a={};return a.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,a.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,a.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,a.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,a},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var b=this.position.length,c=this._getDraggingArea();b;)switch(b-=1,this.position[b]=this.position[b].replace(/ /g,""),this.position[b]){case"top":this.host.css("top",c.top);break;case"left":this.host.css("left",c.left);break;case"bottom":this.host.css("top",c.height-this.host.height()+c.top);break;case"right":this.host.css("left",c.left+c.width-this.host.width());break;default:this.dragArea||(c=a(window)),this._centerElement(this.host,c,"xy")}},_raiseEvent:function(b){var c=this._events[b],d=a.Event(c),e={};return(2===b||3===b)&&(e.x=arguments[1],e.y=arguments[2],e.pageX=arguments[3],e.pageY=arguments[4]),("closed"===c||"close"===c)&&(e.dialogResult=this.dialogResult),d.args=e,this.host.trigger(d)},destroy:function(){this.removeHandler(a(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.restricter&&(this.removeHandler(a(window),"resize."+this.element.id),this.removeHandler(a(window),"orientationchanged."+this.element.id),this.removeHandler(a(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&this._modalBackground.remove()},_toClose:function(a,b){return a&&b[0]===this.element||b[0]!==this.element&&"object"==typeof b[0]},propertyChangedHandler:function(b,c,d,e){switch(this._validateProperties(),c){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh(),this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":e?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(e),this.title=e;break;case"content":this.setContent(e);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize();break;case"resizable":this.enableResize=e,e?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":e?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":e?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":e?d||(this.collapsed=!1,this.collapse(0)):d&&(this.collapsed=!0,this.expand(0));case"theme":a.jqx.utilities.setTheme(d,e,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return b._performLayout(),b._removeResize(),void b._initializeResize();default:return}},collapse:function(b){if(!this.collapsed&&!this.host.is(":animated")){if("none"==this.host.css("display"))return;var c=this,d=this._header.outerHeight(!0),e=parseInt(this._header.css("border-bottom-width"),10),f=parseInt(this._header.css("margin-bottom"),10),b=isNaN(parseInt(b))?this.collapseAnimationDuration:b;isNaN(e)||(d-=2*e),isNaN(f)||(d+=f),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.host.css("min-height",d),this.host.animate({height:d},b,function(){c.collapsed=!0,c._collapseButton.addClass(c.toThemeProperty("jqx-window-collapse-button-collapsed")),c._collapseButton.addClass(c.toThemeProperty("jqx-icon-arrow-down")),c._content.css("display","none"),c._raiseEvent(5),c._raiseEvent(9),a.jqx.aria(c,"aria-expanded",!1)})}},expand:function(b){if(this.collapsed&&!this.host.is(":animated")){var c=this,b=isNaN(parseInt(b))?this.collapseAnimationDuration:b;this.host.animate({height:this._heightBeforeCollapse},b,function(){c.collapsed=!1,c.host.css("min-height",c._minHeightBeforeCollapse),c._collapseButton.removeClass(c.toThemeProperty("jqx-window-collapse-button-collapsed")),c._collapseButton.removeClass(c.toThemeProperty("jqx-icon-arrow-down")),c._content.css("display","block"),c._raiseEvent(6),c._performWidgetLayout(),c._raiseEvent(9),a.jqx.aria(c,"aria-expanded",!0)})}},closeAll:function(b){for(var b=!0,c=a.data(document.body,"jqxwindows-list"),d=c.length,e=a.data(document.body,"jqxwindow-modal")||[];d;)d-=1,this._toClose(b,c[d])&&(c[d].jqxWindow("closeWindow","close"),c.splice(d,1));this._toClose(b,e)&&(e.jqxWindow("closeWindow","close"),a.data(document.body,"jqxwindow-modal",[])),a.data(document.body,"jqxwindows-list",c)},setTitle:function(b){a.jqx.utilities.html(this._headerContentWrapper,b),this.title=b,this._performLayout()},setContent:function(b){this._contentInitialized=!1;for(var c=this._content,d=!1;!d;)c.css("height","auto"),c.css("width","auto"),c.is(".jqx-window")?d=!0:c=c.parent();a.jqx.utilities.html(this._content,b),this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(a){var b=this;a="undefined"==typeof a?this.closeButtonAction:a,this.hide(function(){"close"===a&&b._destroy()})},bringToFront:function(){var b=a.data(document.body,"jqxwindows-list");if(this.isModal)return b=a.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var c=b[b.length-1],d=parseInt(c.css("z-index"),10),e=this._indexOf(this.host,b),f=b.length-1;f>e;f-=1){var g=parseInt(b[f].css("z-index"),10)-1;b[f].css("z-index",g)}this.host.css("z-index",d),this._sortByStyle("z-index",b)},hide:function(a,b,c){if(this.closing){var d=this.closing();if(0==d)return}switch(b=b||this.closeAnimationDuration,this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(b,function(){a instanceof Function&&a()});case"slide":this.host.slideUp(b,function(){a instanceof Function&&a()});case"combined":this.host.hide(b,function(){a instanceof Function&&a()})}this._visible=!1,this.isModal&&(this._modalBackground.hide(),this._fixWindowZIndex("modal-hide")),c!==!0&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(a,b){this.show(a,b)},close:function(a,b,c){this.hide(a,b,c)},show:function(a,b){switch(this._setDialogResult("none"),b=b||this.showAnimationDuration,this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(b,function(){a instanceof Function&&a()});break;case"slide":this.host.slideDown(b,function(){a instanceof Function&&a()});break;case"combined":this.host.show(b,function(){a instanceof Function&&a()})}this.isModal&&(this._modalBackground.show(),this._fixWindowZIndex("modal-show"));var c=this;this._visible||(b>150&&"none"!=this.animationType?setTimeout(function(){c._contentInitialized||c.initContent&&(c.initContent(),c._contentInitialized=!0),c._raiseEvent(7),c._raiseEvent(9)},b-150):(c._contentInitialized||c.initContent&&(c.initContent(),c._contentInitialized=!0),this._raiseEvent(7),c._raiseEvent(9))),this._visible=!0,this._performLayout();var d=function(){c._content.focus()};d(),setTimeout(function(){d()},100)},_getTabbables:function(){var b=this._content.find("*"),c=new Array;return a.each(b,function(){d(this)&&(c[c.length]=this)}),c},move:function(b,c,d,e){var f,g,h,i=0,j=0,b=parseInt(b,10),c=parseInt(c,10);if(a.jqx.browser.msie&&(a(window).width()>a(document).width()&&!this.dragArea&&(j=this._SCROLL_WIDTH),a(window).height()<a(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(i=this._SCROLL_WIDTH)),f=this._validateCoordinates(b,c,j,i),parseInt(this.host.css("left"),10)!==f.x||parseInt(this.host.css("top"),10)!==f.y){if(d){var k=a.jqx.mobile.getTouches(d),l=(k[0],a.jqx.position(d));g=l.left,h=l.top}void 0==g&&(g=b),void 0==h&&(h=c),e!==!1&&this._raiseEvent(2,f.x,f.y,g,h)}this.element.style.left=f.x+"px",this.element.style.top=f.y+"px",this._moved=!0}})}(jQuery),function(a){var b=function(a){return{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._cursorBackup,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var b=a(this.resizeTarget.children(".jqx-resize"));b.detach();var c=b.children();this._removeResizeEventListeners();for(var d=0;d<c.length;d+=1)a(c[d]).detach(),this.resizeTarget.append(c[d]);b.remove()}},initResize:function(b){this.resizeConfig(),this.resizeTarget=a(b.target),this.resizeIndicatorSize=b.indicatorSize||10,this.maxWidth=b.maxWidth||100,this.minWidth=b.minWidth||1,this.maxHeight=b.maxHeight||100,this.minHeight=b.minHeight||1,this.resizeParent=b.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,b.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(b,c,d,e,f){this.resizeTargetChildren=a(f),this.resizeTargetChildren.toArray();for(var g=this.resizeTargetChildren.length;g;)g-=1,this.resizeTargetChildren[g]=a(this.resizeTargetChildren[g])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(a("<div></div>")),this._resizeWrapper=this.resizeTarget.children(0),this._resizeWrapper.addClass("jqx-resize"),this._resizeWrapper.addClass("jqx-rc-all"),this._resizeWrapper.css("z-index",8e3)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height()),this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var b=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+b),this.removeHandler(this._resizeWrapper,"mousedown.resize"+b),this.removeHandler(a(document),"mousemove.resize"+b),this.removeHandler(a(document),"mouseup.resize"+b)},_addResizeEventHandlers:function(){var b=this.resizeTarget.attr("id"),c=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+b,function(a){c._resizeCursorChangeHandler(c,a)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+b,function(a){c._resizeMouseDownHandler(c,a)}),this.addHandler(a(document),"mousemove.resize."+b,function(a){return c._resizeHandler(c,a)}),this.addHandler(a(document),"mouseup.resize."+b,function(a){c._stopResizing(c,a)});try{if(""!=document.referrer||window.frameElement){var d=function(a){c._stopResizing(c,a)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",d,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",d)}}catch(e){}},_stopResizing:function(a){a.enableResize&&(a.isResizing&&a._raiseResizeEvent(1),a._resizeMouseDown=!1,a.isResizing=!1,a._resizeDirection=null,a.resizeTarget&&a.resizeTarget.removeClass("jqx-disableselect")),"undefined"==a._cursorBackup&&(a._cursorBackup="default"),a._resizeWrapper&&a._resizeWrapper.css("cursor",a._cursorBackup)},_resizeHandler:function(b,c){return b.enableResize&&!b.collapsed?b.isResizing&&b._resizeDirection?(0===c.which&&a.jqx.browser.msie&&a.jqx.browser.version<9&&b._stopResizing(c),b._performResize(c.pageX,c.pageY),!1):b._resizeCaptureCursor(c.pageX,c.pageY):void 0},_resizeCaptureCursor:function(a,b){return this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(a+3<this._mouseResizePosition.x||a-3>this._mouseResizePosition.x||b+3<this._mouseResizePosition.y||b-3>this._mouseResizePosition.y)?(this._changeCursor(a-parseInt(this.resizeTarget.css("left")),b-parseInt(this.resizeTarget.css("top"))),this._mouseResizePosition={x:a,y:b},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1):void 0
},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var a,b=this.resizeTargetChildren.length;b;)b-=1,a=this.resizeTargetChildren[b],this.resizeTargetChildren[b].lastWidth=a.width(),this.resizeTargetChildren[b].lastHeight=a.height()},_performResize:function(a,b){var c=a-this._mouseResizePosition.x,d=b-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,c,d)},_resizeCursorChangeHandler:function(a,b){a.enableResize&&!a.collapsed&&(a.isResizing||a._changeCursor(b.pageX-parseInt(a.resizeTarget.css("left")),b.pageY-parseInt(a.resizeTarget.css("top"))))},_resizeMouseDownHandler:function(a,b){a.enableResize&&null!==a._resizeDirection&&(a._resizeMouseDown=!0,a._mouseResizePosition.x=b.pageX,a._mouseResizePosition.y=b.pageY,b.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize);if(this.resizeParent&&this.resizeParent.width&&this.resizeParent.height&&this.resizeParent.left&&this.resizeParent.top&&(this.resizeParent.width<this.resizeTarget.width()||this.resizeParent.width<this.maxWidth||this.resizeParent.height<this.resizeTarget.height()||this.resizeParent.height<this.maxHeight))throw new Error(this._resizeExceptions.invalidSize)}catch(a){alert(a)}},_changeCursor:function(a,b){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,a<=this.resizeIndicatorSize&&a>=0&&b<=this.resizeIndicatorSize&&b>0?(this._resizeWrapper.css("cursor","nw-resize"),this._resizeDirection="topleft"):b<=this.resizeIndicatorSize&&b>0&&a>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.css("cursor","ne-resize"),this._resizeDirection="topright"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&a<=this.resizeIndicatorSize&&a>=0?(this._resizeWrapper.css("cursor","sw-resize"),this._resizeDirection="bottomleft"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&a>=this.resizeTarget.width()-this.resizeIndicatorSize&&a<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","se-resize"),this._resizeDirection="bottomright"):a<=this.resizeIndicatorSize&&a>=0?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="left"):b<=this.resizeIndicatorSize&&b>0?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="top"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="bottom"):a>=this.resizeTarget.width()-this.resizeIndicatorSize&&a<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="right"):(this._resizeWrapper.css("cursor",this._cursorBackup),this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(a){this._resizeMethods=[],a.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),a.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),a.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),a.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(a,b,c,d,e){return"horizontal"===c||"both"===c?this._validateWidth(a,d,e):"vertical"===c||"both"===c?this._validateHeight(b,d,e):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:a(document).width(),height:a(document).height()}},_validateHeight:function(b,c,d){var e=0,f=2,g=this._getParent();return a(window).width()>a(document).width()&&a.jqx.browser.msie&&g.height===a(document).height()&&(e=this._SCROLL_WIDTH),"bottom"===d&&b+c.position().top+e+f>g.height+g.top?{fix:g.height-c.position().top-e-f+g.top,result:!1}:"top"===d&&c.lastHeight-b+c.y<g.top?{fix:b+(c.lastHeight-b+c.y)-g.top,result:!1}:b<c.minHeight?{fix:c.minHeight,result:!1}:b>c.maxHeight?{fix:c.maxHeight,result:!1}:{result:!0,fix:b}},_validateWidth:function(b,c,d){var e=0,f=2,g=this._getParent();return a(window).height()<a(document).height()&&a.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&g.width===a(document).width()&&(e=this._SCROLL_WIDTH),"right"===d&&b+c.position().left+e+f>g.width+g.left?{fix:g.width-c.position().left-e-f+g.left,result:!1}:"left"===d&&c.lastWidth-b+c.x<g.left?{fix:b+(c.lastWidth-b+c.x)-g.left,result:!1}:b<c.minWidth?{fix:c.minWidth,result:!1}:b>c.maxWidth?{fix:c.maxWidth,result:!1}:{result:!0,fix:b}},_resize:function(a,b,c){for(var d=(this._resizeDirection,this._resizeMethods.length),e=0;d>e;e++)if(this._resizeMethods[e]instanceof Function){var f={element:a,x:b,y:c,self:this};this._resizeMethods[e](f)}this._performResizeLayout()},resize:function(a,b){if(this.resizable){var c=a-this.host.width(),d=b-this.host.height(),e="right";0!=d&&(e="bottom"),this._resizeDirection=e,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,c,d),this.isResizing=!1}},_setResizeChildrenSize:function(a,b){for(var c=this.resizeTargetChildren.length;c;)if(c--,"width"===b){var d=this.resizeTargetChildren[c].lastWidth-(this.resizeTarget.lastWidth-a);d<this.resizeTarget.maxWidth&&d>0&&this.resizeTargetChildren[c].width(d)}else{var e=this.resizeTargetChildren[c].lastHeight-(this.resizeTarget.lastHeight-a);e<this.resizeTarget.maxHeight&&e>0&&this.resizeTargetChildren[c].height(e)}},_resizeRight:function(a){var b=a.element.lastWidth+a.x,c=a.self._validateResize(b,0,"horizontal",a.element,"right");return c.result||(b=c.fix),a.element.width()!==b&&(a.self._setResizeChildrenSize(b,"width"),a.element.width(b),a.self._raiseResizeEvent(0)),b},_resizeLeft:function(a){var b=a.element.lastWidth-a.x,c=a.self._validateResize(b,0,"horizontal",a.element,"left"),d=a.element.x+a.x;return c.result?(a.element.width()!==b&&(a.self._setResizeChildrenSize(b,"width"),a.element.width(b),a.element.css("left",d),a.self._raiseResizeEvent(0)),b):(d=a.element.x+(a.element.lastWidth-c.fix),void(b=c.fix))},_resizeBottom:function(a){var b=a.element.lastHeight+a.y,c=a.self._validateResize(0,b,"vertical",a.element,"bottom");return c.result||(b=c.fix),a.element.height()!==b&&(a.self._setResizeChildrenSize(b,"height"),a.element.height(b),a.self._raiseResizeEvent(0)),b},_resizeTop:function(a){var b=a.element.lastHeight-a.y,c=a.self._validateResize(0,b,"vertical",a.element,"top"),d=a.element.y+a.y;return c.result?(a.element.height()!==b&&(a.self._setResizeChildrenSize(b,"height"),a.element.height(b),a.element.css("top",d),a.self._raiseResizeEvent(0)),b):(d=a.element.y+(a.element.lastHeight-c.fix),void(b=c.fix))},_raiseResizeEvent:function(b){var c=this._resizeEvents[b],d=a.Event(c),e={};if(e.width=parseInt(this.resizeTarget[0].style.width),e.height=parseInt(this.resizeTarget[0].style.height),d.args=e,0==b){var c=this._resizeEvents[2],f=a.Event(c);f.args=e,this.resizeTarget.trigger(f)}return this.resizeTarget.trigger(d)}}}(jQuery);a.extend(a.jqx._jqxWindow.prototype,b)}(jQuery);